"use strict";function dispatchNext(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function dispatchError(t){var e=t.err,r=t.subject;r.error(e)}function dispatch(t){var e=this,r=t.source,i=t.subscriber,n=r,o=n.callbackFunc,s=n.args,u=n.scheduler,c=r.subject;if(!c){c=r.subject=new AsyncSubject_1.AsyncSubject;var a=function b(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var i=b.source,n=i.selector,o=i.subject,s=t.shift();if(s)o.error(s);else if(n){var c=tryCatch_1.tryCatch(n).apply(this,t);c===errorObject_1.errorObject?e.add(u.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:o})):e.add(u.schedule(dispatchNext,0,{value:c,subject:o}))}else{var a=1===t.length?t[0]:t;e.add(u.schedule(dispatchNext,0,{value:a,subject:o}))}};a.source=r;var l=tryCatch_1.tryCatch(o).apply(this,s.concat(a));l===errorObject_1.errorObject&&c.error(errorObject_1.errorObject.e)}e.add(c.subscribe(i))}function dispatchNext(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function dispatchError(t){var e=t.err,r=t.subject;r.error(e)}function isNodeStyleEventEmmitter(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function isJQueryStyleEventEmitter(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function isNodeList(t){return!!t&&"[object NodeList]"===t.toString()}function isHTMLCollection(t){return!!t&&"[object HTMLCollection]"===t.toString()}function isEventTarget(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}function getIterator(t){var e=t[iterator_1.$$iterator];if(!e&&"string"==typeof t)return new StringIterator(t);if(!e&&void 0!==t.length)return new ArrayIterator(t);if(!e)throw new TypeError("object is not iterable");return t[iterator_1.$$iterator]()}function toLength(t){var e=+t.length;return isNaN(e)?0:0!==e&&numberIsFinite(e)?(e=sign(e)*Math.floor(Math.abs(e)),0>=e?0:e>maxSafeInteger?maxSafeInteger:e):e}function numberIsFinite(t){return"number"==typeof t&&root_1.root.isFinite(t)}function sign(t){var e=+t;return 0===e?e:isNaN(e)?e:0>e?-1:1}function dispatch(t){var e=t.obj,r=t.keys,i=t.length,n=t.index,o=t.subscriber;if(n===i)return void o.complete();var s=r[n];o.next([s,e[s]]),t.index=n+1,this.schedule(t)}function dispatchNext(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function dispatchError(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}function combineLatest(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,i=null;return isScheduler_1.isScheduler(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&isArray_1.isArray(t[0])&&(t=t[0]),new ArrayObservable_1.ArrayObservable(t,i).lift(new combineLatest_1.CombineLatestOperator(r))}function audit(t){return this.lift(new AuditOperator(t))}function auditTime(t,e){return void 0===e&&(e=async_1.async),this.lift(new AuditTimeOperator(t,e))}function dispatchNext(t){t.clearThrottle()}function buffer(t){return this.lift(new BufferOperator(t))}function bufferCount(t,e){return void 0===e&&(e=null),this.lift(new BufferCountOperator(t,e))}function bufferTime(t){var e=arguments.length,r=async_1.async;isScheduler_1.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var i=null;e>=2&&(i=arguments[1]);var n=Number.POSITIVE_INFINITY;return e>=3&&(n=arguments[2]),this.lift(new BufferTimeOperator(t,i,n,r))}function dispatchBufferTimeSpanOnly(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function dispatchBufferCreation(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,i=t.subscriber,n=t.scheduler,o=i.openContext(),s=this;i.closed||(i.add(o.closeAction=n.schedule(dispatchBufferClose,r,{subscriber:i,context:o})),s.schedule(t,e))}function dispatchBufferClose(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function bufferToggle(t,e){return this.lift(new BufferToggleOperator(t,e))}function bufferWhen(t){return this.lift(new BufferWhenOperator(t))}function cache(t,e,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY);var i,n,o=this,s=0,u=function(){return i=new ReplaySubject_1.ReplaySubject(t,e,r)};return new Observable_1.Observable(function(t){i||(i=u(),n=o.subscribe(function(t){return i.next(t)},function(t){var e=i;i=null,e.error(t)},function(){return i.complete()})),s++,i||(i=u());var e=i.subscribe(t);return function(){s--,e&&e.unsubscribe(),0===s&&n.unsubscribe()}})}function _catch(t){var e=new CatchOperator(t),r=this.lift(e);return e.caught=r}function combineAll(t){return this.lift(new combineLatest_1.CombineLatestOperator(t))}function combineLatest(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&isArray_1.isArray(t[0])&&(t=t[0]),t.unshift(this),new ArrayObservable_1.ArrayObservable(t).lift(new CombineLatestOperator(r))}function concat(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return concatStatic.apply(void 0,[this].concat(t))}function concatStatic(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,i=t;return isScheduler_1.isScheduler(i[t.length-1])&&(r=i.pop()),new ArrayObservable_1.ArrayObservable(t,r).lift(new mergeAll_1.MergeAllOperator(1))}function concatAll(){return this.lift(new mergeAll_1.MergeAllOperator(1))}function concatMap(t,e){return this.lift(new mergeMap_1.MergeMapOperator(t,e,1))}function concatMapTo(t,e){return this.lift(new mergeMapTo_1.MergeMapToOperator(t,e,1))}function count(t){return this.lift(new CountOperator(t,this))}function debounce(t){return this.lift(new DebounceOperator(t))}function debounceTime(t,e){return void 0===e&&(e=async_1.async),this.lift(new DebounceTimeOperator(t,e))}function dispatchNext(t){t.debouncedNext()}function defaultIfEmpty(t){return void 0===t&&(t=null),this.lift(new DefaultIfEmptyOperator(t))}function delay(t,e){void 0===e&&(e=async_1.async);var r=isDate_1.isDate(t),i=r?+t-e.now():Math.abs(t);return this.lift(new DelayOperator(i,e))}function delayWhen(t,e){return e?new SubscriptionDelayObservable(this,e).lift(new DelayWhenOperator(t)):this.lift(new DelayWhenOperator(t))}function dematerialize(){return this.lift(new DeMaterializeOperator)}function distinct(t,e){return this.lift(new DistinctOperator(t,e))}function distinctKey(t,e,r){return distinct_1.distinct.call(this,function(r,i){return e?e(r[t],i[t]):r[t]===i[t]},r)}function distinctUntilChanged(t,e){return this.lift(new DistinctUntilChangedOperator(t,e))}function distinctUntilKeyChanged(t,e){return distinctUntilChanged_1.distinctUntilChanged.call(this,function(r,i){return e?e(r[t],i[t]):r[t]===i[t]})}function _do(t,e,r){return this.lift(new DoOperator(t,e,r))}function elementAt(t,e){return this.lift(new ElementAtOperator(t,e))}function every(t,e){return this.lift(new EveryOperator(t,e,this))}function exhaust(){return this.lift(new SwitchFirstOperator)}function exhaustMap(t,e){return this.lift(new SwitchFirstMapOperator(t,e))}function expand(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=1>(e||0)?Number.POSITIVE_INFINITY:e,this.lift(new ExpandOperator(t,e,r))}function filter(t,e){return this.lift(new FilterOperator(t,e))}function _finally(t){return this.lift(new FinallyOperator(t))}function find(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return this.lift(new FindValueOperator(t,this,!1,e))}function findIndex(t,e){return this.lift(new find_1.FindValueOperator(t,this,!0,e))}function first(t,e,r){return this.lift(new FirstOperator(t,e,r,this))}function groupBy(t,e,r){return this.lift(new GroupByOperator(this,t,e,r))}function ignoreElements(){return this.lift(new IgnoreElementsOperator)}function isEmpty(){return this.lift(new IsEmptyOperator)}function last(t,e,r){return this.lift(new LastOperator(t,e,r,this))}function letProto(t){return t(this)}function map(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new MapOperator(t,e))}function mapTo(t){return this.lift(new MapToOperator(t))}function materialize(){return this.lift(new MaterializeOperator)}function max(t){var e="function"==typeof t?t:function(t,e){return t>e?t:e};return this.lift(new reduce_1.ReduceOperator(e))}function merge(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),mergeStatic.apply(this,t)}function mergeStatic(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,i=null,n=t[t.length-1];return isScheduler_1.isScheduler(n)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof n&&(r=t.pop()),1===t.length?t[0]:new ArrayObservable_1.ArrayObservable(t,i).lift(new mergeAll_1.MergeAllOperator(r))}function mergeAll(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new MergeAllOperator(t))}function mergeMap(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new MergeMapOperator(t,e,r))}function mergeMapTo(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new MergeMapToOperator(t,e,r))}function mergeScan(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new MergeScanOperator(t,e,r))}function min(t){var e="function"==typeof t?t:function(t,e){return e>t?t:e};return this.lift(new reduce_1.ReduceOperator(e))}function multicast(t,e){var r;return r="function"==typeof t?t:function(){return t},e?new MulticastObservable_1.MulticastObservable(this,r,e):new ConnectableObservable_1.ConnectableObservable(this,r)}function observeOn(t,e){return void 0===e&&(e=0),this.lift(new ObserveOnOperator(t,e))}function onErrorResumeNext(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&isArray_1.isArray(t[0])&&(t=t[0]),this.lift(new OnErrorResumeNextOperator(t))}function onErrorResumeNextStatic(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return 1===t.length&&isArray_1.isArray(t[0])&&(t=t[0]),r=t.shift(),new FromObservable_1.FromObservable(r,null).lift(new OnErrorResumeNextOperator(t))}function pairwise(){return this.lift(new PairwiseOperator)}function partition(t,e){return[filter_1.filter.call(this,t),filter_1.filter.call(this,not_1.not(t,e))]}function pluck(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return map_1.map.call(this,plucker(t,r))}function plucker(t,e){var r=function(r){for(var i=r,n=0;e>n;n++){var o=i[t[n]];if("undefined"==typeof o)return;i=o}return i};return r}function publish(t){return t?multicast_1.multicast.call(this,function(){return new Subject_1.Subject},t):multicast_1.multicast.call(this,new Subject_1.Subject)}function publishBehavior(t){return multicast_1.multicast.call(this,new BehaviorSubject_1.BehaviorSubject(t))}function publishLast(){return multicast_1.multicast.call(this,new AsyncSubject_1.AsyncSubject)}function publishReplay(t,e,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),multicast_1.multicast.call(this,new ReplaySubject_1.ReplaySubject(t,e,r))}function race(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&isArray_1.isArray(t[0])&&(t=t[0]),t.unshift(this),raceStatic.apply(this,t)}function raceStatic(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!isArray_1.isArray(t[0]))return t[0];t=t[0]}return new ArrayObservable_1.ArrayObservable(t).lift(new RaceOperator)}function reduce(t,e){return this.lift(new ReduceOperator(t,e))}function repeat(t){return void 0===t&&(t=-1),0===t?new EmptyObservable_1.EmptyObservable:0>t?this.lift(new RepeatOperator(-1,this)):this.lift(new RepeatOperator(t-1,this))}function retry(t){return void 0===t&&(t=-1),this.lift(new RetryOperator(t,this))}function retryWhen(t){return this.lift(new RetryWhenOperator(t,this))}function sample(t){return this.lift(new SampleOperator(t))}function sampleTime(t,e){return void 0===e&&(e=async_1.async),this.lift(new SampleTimeOperator(t,e))}function dispatchNotification(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function scan(t,e){return this.lift(new ScanOperator(t,e))}function shareSubjectFactory(){return new Subject_1.Subject}function share(){return multicast_1.multicast.call(this,shareSubjectFactory).refCount()}function single(t){return this.lift(new SingleOperator(t,this))}function skip(t){return this.lift(new SkipOperator(t))}function skipUntil(t){return this.lift(new SkipUntilOperator(t))}function skipWhile(t){return this.lift(new SkipWhileOperator(t))}function startWith(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];isScheduler_1.isScheduler(r)?t.pop():r=null;var i=t.length;return 1===i?concat_1.concatStatic(new ScalarObservable_1.ScalarObservable(t[0],r),this):i>1?concat_1.concatStatic(new ArrayObservable_1.ArrayObservable(t,r),this):concat_1.concatStatic(new EmptyObservable_1.EmptyObservable(r),this)}function subscribeOn(t,e){return void 0===e&&(e=0),new SubscribeOnObservable_1.SubscribeOnObservable(this,e,t)}function _switch(){return this.lift(new SwitchOperator)}function switchMap(t,e){return this.lift(new SwitchMapOperator(t,e))}function switchMapTo(t,e){return this.lift(new SwitchMapToOperator(t,e))}function take(t){return 0===t?new EmptyObservable_1.EmptyObservable:this.lift(new TakeOperator(t))}function takeLast(t){return 0===t?new EmptyObservable_1.EmptyObservable:this.lift(new TakeLastOperator(t))}function takeUntil(t){return this.lift(new TakeUntilOperator(t))}function takeWhile(t){return this.lift(new TakeWhileOperator(t))}function throttle(t){return this.lift(new ThrottleOperator(t))}function throttleTime(t,e){return void 0===e&&(e=async_1.async),this.lift(new ThrottleTimeOperator(t,e))}function dispatchNext(t){var e=t.subscriber;e.clearThrottle()}function timeInterval(t){return void 0===t&&(t=async_1.async),this.lift(new TimeIntervalOperator(t))}function timeout(t,e,r){void 0===e&&(e=null),void 0===r&&(r=async_1.async);var i=isDate_1.isDate(t),n=i?+t-r.now():Math.abs(t);return this.lift(new TimeoutOperator(n,i,e,r))}function timeoutWith(t,e,r){void 0===r&&(r=async_1.async);var i=isDate_1.isDate(t),n=i?+t-r.now():Math.abs(t);return this.lift(new TimeoutWithOperator(n,i,e,r))}function timestamp(t){return void 0===t&&(t=async_1.async),this.lift(new TimestampOperator(t))}function toArray(){return this.lift(new ToArrayOperator)}function toPromise(t){var e=this;if(t||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?t=root_1.root.Rx.config.Promise:root_1.root.Promise&&(t=root_1.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;e.subscribe(function(t){return i=t},function(t){return r(t)},function(){return t(i)})})}function window(t){return this.lift(new WindowOperator(t))}function windowCount(t,e){return void 0===e&&(e=0),this.lift(new WindowCountOperator(t,e))}function windowTime(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=async_1.async),this.lift(new WindowTimeOperator(t,e,r))}function dispatchWindowTimeSpanOnly(t){var e=t.subscriber,r=t.windowTimeSpan,i=t.window;i&&i.complete(),t.window=e.openWindow(),this.schedule(t,r)}function dispatchWindowCreation(t){var e=t.windowTimeSpan,r=t.subscriber,i=t.scheduler,n=t.windowCreationInterval,o=r.openWindow(),s=this,u={action:s,subscription:null},c={subscriber:r,window:o,context:u};u.subscription=i.schedule(dispatchWindowClose,e,c),s.add(u.subscription),s.schedule(t,n)}function dispatchWindowClose(t){var e=t.subscriber,r=t.window,i=t.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(r)}function windowToggle(t,e){return this.lift(new WindowToggleOperator(t,e))}function windowWhen(t){return this.lift(new WindowOperator(t))}function withLatestFrom(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r;"function"==typeof t[t.length-1]&&(r=t.pop());var i=t;return this.lift(new WithLatestFromOperator(i,r))}function zipProto(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),zipStatic.apply(this,t)}function zipStatic(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new ArrayObservable_1.ArrayObservable(t).lift(new ZipOperator(r))}function zipAll(t){return this.lift(new zip_1.ZipOperator(t))}function getSymbolObservable(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}function applyMixins(t,e){for(var r=0,i=e.length;i>r;r++)for(var n=e[r],o=Object.getOwnPropertyNames(n.prototype),s=0,u=o.length;u>s;s++){var c=o[s];t.prototype[c]=n.prototype[c]}}function isDate(t){return t instanceof Date&&!isNaN(+t)}function isFunction(t){return"function"==typeof t}function isNumeric(t){return!isArray_1.isArray(t)&&t-parseFloat(t)+1>=0}function isObject(t){return null!=t&&"object"==typeof t}function isPromise(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}function isScheduler(t){return t&&"function"==typeof t.schedule}function noop(){}function not(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function subscribeToResult(t,e,r,i){var n=new InnerSubscriber_1.InnerSubscriber(t,r,i);if(n.closed)return null;if(e instanceof Observable_1.Observable)return e._isScalar?(n.next(e.value),n.complete(),null):e.subscribe(n);if(isArray_1.isArray(e)){for(var o=0,s=e.length;s>o&&!n.closed;o++)n.next(e[o]);n.closed||n.complete()}else{if(isPromise_1.isPromise(e))return e.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,function(t){root_1.root.setTimeout(function(){throw t})}),n;if("function"==typeof e[iterator_1.$$iterator])for(var u=e[iterator_1.$$iterator]();;){var c=u.next();if(c.done){n.complete();break}if(n.next(c.value),n.closed)break}else if("function"==typeof e[observable_1.$$observable]){var a=e[observable_1.$$observable]();if("function"==typeof a.subscribe)return a.subscribe(new InnerSubscriber_1.InnerSubscriber(t,r,i));n.error(new Error("invalid observable"))}else n.error(new TypeError("unknown type returned"))}return null}function toSubscriber(t,e,r){if(t){if(t instanceof Subscriber_1.Subscriber)return t;if(t[rxSubscriber_1.$$rxSubscriber])return t[rxSubscriber_1.$$rxSubscriber]()}return t||e||r?new Subscriber_1.Subscriber(t,e,r):new Subscriber_1.Subscriber}function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(t){return errorObject_1.errorObject.e=t,errorObject_1.errorObject}}function tryCatch(t){return tryCatchTarget=t,tryCatcher}function getCORSRequest(){if(root_1.root.XMLHttpRequest){var t=new root_1.root.XMLHttpRequest;return"withCredentials"in t&&(t.withCredentials=!!this.withCredentials),t}if(root_1.root.XDomainRequest)return new root_1.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function getXMLHttpRequest(){if(root_1.root.XMLHttpRequest)return new root_1.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;3>r;r++)try{if(t=e[r],new root_1.root.ActiveXObject(t))break}catch(i){}return new root_1.root.ActiveXObject(t)}catch(i){throw new Error("XMLHttpRequest is not supported by your browser")}}function ajaxGet(t,e){return void 0===e&&(e=null),new AjaxObservable({method:"GET",url:t,headers:e})}function ajaxPost(t,e,r){return new AjaxObservable({method:"POST",url:t,body:e,headers:r})}function ajaxDelete(t,e){return new AjaxObservable({method:"DELETE",url:t,headers:e})}function ajaxPut(t,e,r){return new AjaxObservable({method:"PUT",url:t,body:e,headers:r})}function ajaxGetJSON(t,e){return new AjaxObservable({method:"GET",url:t,responseType:"json",headers:e}).map(function(t){return t.response})}var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("./Subject"),Subscription_1=require("./Subscription"),AsyncSubject=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return __extends(e,t),e.prototype._subscribe=function(e){return this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),Subscription_1.Subscription.EMPTY):this.hasError?(e.error(this.thrownError),Subscription_1.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Subject_1.Subject);exports.AsyncSubject=AsyncSubject;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("./Subject"),ObjectUnsubscribedError_1=require("./util/ObjectUnsubscribedError"),BehaviorSubject=function(t){function e(e){t.call(this),this._value=e}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Subject_1.Subject);exports.BehaviorSubject=BehaviorSubject;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("./Subscriber"),InnerSubscriber=function(t){function e(e,r,i){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=i,this.index=0}return __extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Subscriber_1.Subscriber);exports.InnerSubscriber=InnerSubscriber;var Observable_1=require("./Observable"),Notification=function(){function t(t,e,r){this.kind=t,this.value=e,this.exception=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.exception);case"C":return t.complete&&t.complete()}},t.prototype["do"]=function(t,e,r){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return e&&e(this.exception);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this["do"](t,e,r)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return Observable_1.Observable.of(this.value);case"E":return Observable_1.Observable["throw"](this.exception);case"C":return Observable_1.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();exports.Notification=Notification;var root_1=require("./util/root"),toSubscriber_1=require("./util/toSubscriber"),observable_1=require("./symbol/observable"),Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var i=this.operator,n=toSubscriber_1.toSubscriber(t,e,r);if(i?i.call(n,this):n.add(this._subscribe(n)),n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},t.prototype.forEach=function(t,e){var r=this;if(e||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?e=root_1.root.Rx.config.Promise:root_1.root.Promise&&(e=root_1.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,i){var n=r.subscribe(function(e){if(n)try{t(e)}catch(r){i(r),n.unsubscribe()}else t(e)},i,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[observable_1.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();exports.Observable=Observable,exports.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}};var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("./Subscriber"),OuterSubscriber=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(Subscriber_1.Subscriber);exports.OuterSubscriber=OuterSubscriber;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("./Subject"),queue_1=require("./scheduler/queue"),observeOn_1=require("./operator/observeOn"),ReplaySubject=function(t){function e(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=i,this._events=[],this._bufferSize=1>e?1:e,this._windowTime=1>r?1:r}return __extends(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new ReplayEvent(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(e){var r=this._trimBufferThenGetEvents(),i=this.scheduler;i&&e.add(e=new observeOn_1.ObserveOnSubscriber(e,i));for(var n=r.length,o=0;n>o&&!e.closed;o++)e.next(r[o].value);return t.prototype._subscribe.call(this,e)},e.prototype._getNow=function(){return(this.scheduler||queue_1.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;n>o&&!(t-i[o].time<r);)o++;return n>e&&(o=Math.max(o,n-e)),o>0&&i.splice(0,o),i},e}(Subject_1.Subject);exports.ReplaySubject=ReplaySubject;var ReplayEvent=function(){function t(t,e){this.time=t,this.value=e}return t}(),Subject_1=require("./Subject");exports.Subject=Subject_1.Subject;var Observable_1=require("./Observable");exports.Observable=Observable_1.Observable,require("./add/observable/bindCallback"),require("./add/observable/bindNodeCallback"),require("./add/observable/combineLatest"),require("./add/observable/concat"),require("./add/observable/defer"),require("./add/observable/empty"),require("./add/observable/forkJoin"),require("./add/observable/from"),require("./add/observable/fromEvent"),require("./add/observable/fromEventPattern"),require("./add/observable/fromPromise"),require("./add/observable/generate"),require("./add/observable/if"),require("./add/observable/interval"),require("./add/observable/merge"),require("./add/observable/race"),require("./add/observable/never"),require("./add/observable/of"),require("./add/observable/onErrorResumeNext"),require("./add/observable/pairs"),require("./add/observable/range"),require("./add/observable/using"),require("./add/observable/throw"),require("./add/observable/timer"),require("./add/observable/zip"),require("./add/observable/dom/ajax"),require("./add/observable/dom/webSocket"),require("./add/operator/buffer"),require("./add/operator/bufferCount"),require("./add/operator/bufferTime"),require("./add/operator/bufferToggle"),require("./add/operator/bufferWhen"),require("./add/operator/cache"),require("./add/operator/catch"),require("./add/operator/combineAll"),require("./add/operator/combineLatest"),require("./add/operator/concat"),require("./add/operator/concatAll"),require("./add/operator/concatMap"),require("./add/operator/concatMapTo"),require("./add/operator/count"),require("./add/operator/dematerialize"),require("./add/operator/debounce"),require("./add/operator/debounceTime"),require("./add/operator/defaultIfEmpty"),require("./add/operator/delay"),require("./add/operator/delayWhen"),require("./add/operator/distinct"),require("./add/operator/distinctKey"),require("./add/operator/distinctUntilChanged"),require("./add/operator/distinctUntilKeyChanged"),require("./add/operator/do"),require("./add/operator/exhaust"),require("./add/operator/exhaustMap"),require("./add/operator/expand"),require("./add/operator/elementAt"),require("./add/operator/filter"),require("./add/operator/finally"),require("./add/operator/find"),require("./add/operator/findIndex"),require("./add/operator/first"),require("./add/operator/groupBy"),require("./add/operator/ignoreElements"),require("./add/operator/isEmpty"),require("./add/operator/audit"),require("./add/operator/auditTime"),require("./add/operator/last"),require("./add/operator/let"),require("./add/operator/every"),require("./add/operator/map"),require("./add/operator/mapTo"),require("./add/operator/materialize"),require("./add/operator/max"),require("./add/operator/merge"),require("./add/operator/mergeAll"),require("./add/operator/mergeMap"),require("./add/operator/mergeMapTo"),require("./add/operator/mergeScan"),require("./add/operator/min"),require("./add/operator/multicast"),require("./add/operator/observeOn"),require("./add/operator/onErrorResumeNext"),require("./add/operator/pairwise"),require("./add/operator/partition"),require("./add/operator/pluck"),require("./add/operator/publish"),require("./add/operator/publishBehavior"),require("./add/operator/publishReplay"),require("./add/operator/publishLast"),require("./add/operator/race"),require("./add/operator/reduce"),require("./add/operator/repeat"),require("./add/operator/retry"),require("./add/operator/retryWhen"),require("./add/operator/sample"),require("./add/operator/sampleTime"),require("./add/operator/scan"),require("./add/operator/share"),require("./add/operator/single"),require("./add/operator/skip"),require("./add/operator/skipUntil"),require("./add/operator/skipWhile"),require("./add/operator/startWith"),require("./add/operator/subscribeOn"),require("./add/operator/switch"),require("./add/operator/switchMap"),require("./add/operator/switchMapTo"),require("./add/operator/take"),require("./add/operator/takeLast"),require("./add/operator/takeUntil"),require("./add/operator/takeWhile"),require("./add/operator/throttle"),require("./add/operator/throttleTime"),require("./add/operator/timeInterval"),require("./add/operator/timeout"),require("./add/operator/timeoutWith"),require("./add/operator/timestamp"),require("./add/operator/toArray"),require("./add/operator/toPromise"),require("./add/operator/window"),require("./add/operator/windowCount"),require("./add/operator/windowTime"),require("./add/operator/windowToggle"),require("./add/operator/windowWhen"),require("./add/operator/withLatestFrom"),require("./add/operator/zip"),require("./add/operator/zipAll");var Subscription_1=require("./Subscription");exports.Subscription=Subscription_1.Subscription;var Subscriber_1=require("./Subscriber");exports.Subscriber=Subscriber_1.Subscriber;var AsyncSubject_1=require("./AsyncSubject");exports.AsyncSubject=AsyncSubject_1.AsyncSubject;var ReplaySubject_1=require("./ReplaySubject");
exports.ReplaySubject=ReplaySubject_1.ReplaySubject;var BehaviorSubject_1=require("./BehaviorSubject");exports.BehaviorSubject=BehaviorSubject_1.BehaviorSubject;var MulticastObservable_1=require("./observable/MulticastObservable");exports.MulticastObservable=MulticastObservable_1.MulticastObservable;var ConnectableObservable_1=require("./observable/ConnectableObservable");exports.ConnectableObservable=ConnectableObservable_1.ConnectableObservable;var Notification_1=require("./Notification");exports.Notification=Notification_1.Notification;var EmptyError_1=require("./util/EmptyError");exports.EmptyError=EmptyError_1.EmptyError;var ArgumentOutOfRangeError_1=require("./util/ArgumentOutOfRangeError");exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;var ObjectUnsubscribedError_1=require("./util/ObjectUnsubscribedError");exports.ObjectUnsubscribedError=ObjectUnsubscribedError_1.ObjectUnsubscribedError;var UnsubscriptionError_1=require("./util/UnsubscriptionError");exports.UnsubscriptionError=UnsubscriptionError_1.UnsubscriptionError;var timeInterval_1=require("./operator/timeInterval");exports.TimeInterval=timeInterval_1.TimeInterval;var timestamp_1=require("./operator/timestamp");exports.Timestamp=timestamp_1.Timestamp;var TestScheduler_1=require("./testing/TestScheduler");exports.TestScheduler=TestScheduler_1.TestScheduler;var VirtualTimeScheduler_1=require("./scheduler/VirtualTimeScheduler");exports.VirtualTimeScheduler=VirtualTimeScheduler_1.VirtualTimeScheduler;var AjaxObservable_1=require("./observable/dom/AjaxObservable");exports.AjaxResponse=AjaxObservable_1.AjaxResponse,exports.AjaxError=AjaxObservable_1.AjaxError,exports.AjaxTimeoutError=AjaxObservable_1.AjaxTimeoutError;var asap_1=require("./scheduler/asap"),async_1=require("./scheduler/async"),queue_1=require("./scheduler/queue"),animationFrame_1=require("./scheduler/animationFrame"),rxSubscriber_1=require("./symbol/rxSubscriber"),iterator_1=require("./symbol/iterator"),observable_1=require("./symbol/observable"),Scheduler={asap:asap_1.asap,queue:queue_1.queue,animationFrame:animationFrame_1.animationFrame,async:async_1.async};exports.Scheduler=Scheduler;var Symbol={rxSubscriber:rxSubscriber_1.$$rxSubscriber,observable:observable_1.$$observable,iterator:iterator_1.$$iterator};exports.Symbol=Symbol;var Scheduler=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();exports.Scheduler=Scheduler;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("./Observable"),Subscriber_1=require("./Subscriber"),Subscription_1=require("./Subscription"),ObjectUnsubscribedError_1=require("./util/ObjectUnsubscribedError"),SubjectSubscription_1=require("./SubjectSubscription"),rxSubscriber_1=require("./symbol/rxSubscriber"),SubjectSubscriber=function(t){function e(e){t.call(this,e),this.destination=e}return __extends(e,t),e}(Subscriber_1.Subscriber);exports.SubjectSubscriber=SubjectSubscriber;var Subject=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return __extends(e,t),e.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return new SubjectSubscriber(this)},e.prototype.lift=function(t){var e=new AnonymousSubject(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,i=e.slice(),n=0;r>n;n++)i[n].next(t)},e.prototype.error=function(t){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,i=e.slice(),n=0;r>n;n++)i[n].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),i=0;e>i;i++)r[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._subscribe=function(t){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),Subscription_1.Subscription.EMPTY):this.isStopped?(t.complete(),Subscription_1.Subscription.EMPTY):(this.observers.push(t),new SubjectSubscription_1.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Observable_1.Observable;return t.source=this,t},e.create=function(t,e){return new AnonymousSubject(t,e)},e}(Observable_1.Observable);exports.Subject=Subject;var AnonymousSubject=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return __extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):Subscription_1.Subscription.EMPTY},e}(Subject);exports.AnonymousSubject=AnonymousSubject;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscription_1=require("./Subscription"),SubjectSubscription=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return __extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(Subscription_1.Subscription);exports.SubjectSubscription=SubjectSubscription;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},isFunction_1=require("./util/isFunction"),Subscription_1=require("./Subscription"),Observer_1=require("./Observer"),rxSubscriber_1=require("./symbol/rxSubscriber"),Subscriber=function(t){function e(r,i,n){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_1.empty;break;case 1:if(!r){this.destination=Observer_1.empty;break}if("object"==typeof r){r instanceof e?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,r,i,n)}}return __extends(e,t),e.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return this},e.create=function(t,r,i){var n=new e(t,r,i);return n.syncErrorThrowable=!1,n},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(t){function e(e,r,i,n){t.call(this),this._parent=e;var o,s=this;isFunction_1.isFunction(r)?o=r:r&&(s=r,o=r.next,i=r.error,n=r.complete,isFunction_1.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this)),this._context=s,this._next=o,this._error=i,this._complete=n}return __extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){throw this.unsubscribe(),r}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(i){return t.syncErrorValue=i,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(Subscriber),isArray_1=require("./util/isArray"),isObject_1=require("./util/isObject"),isFunction_1=require("./util/isFunction"),tryCatch_1=require("./util/tryCatch"),errorObject_1=require("./util/errorObject"),UnsubscriptionError_1=require("./util/UnsubscriptionError"),Subscription=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var r=this,i=r._unsubscribe,n=r._subscriptions;if(this._subscriptions=null,isFunction_1.isFunction(i)){var o=tryCatch_1.tryCatch(i).call(this);o===errorObject_1.errorObject&&(e=!0,(t=t||[]).push(errorObject_1.errorObject.e))}if(isArray_1.isArray(n))for(var s=-1,u=n.length;++s<u;){var c=n[s];if(isObject_1.isObject(c)){var o=tryCatch_1.tryCatch(c.unsubscribe).call(c);if(o===errorObject_1.errorObject){e=!0,t=t||[];var a=errorObject_1.errorObject.e;a instanceof UnsubscriptionError_1.UnsubscriptionError?t=t.concat(a.errors):t.push(a)}}}if(e)throw new UnsubscriptionError_1.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)break;this.closed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return r},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var r=this._subscriptions;if(r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();exports.Subscription=Subscription,function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Rx=t()}}(function(){return function t(e,r,i){function n(s,u){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return n(r?r:t)},l,l.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./Subject"),o=t("./Subscription"),s=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return i(e,t),e.prototype._subscribe=function(e){return this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(n.Subject);r.AsyncSubject=s},{"./Subject":11,"./Subscription":14}],2:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./Subject"),o=t("./util/ObjectUnsubscribedError"),s=function(t){function e(e){t.call(this),this._value=e}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(n.Subject);r.BehaviorSubject=s},{"./Subject":11,"./util/ObjectUnsubscribedError":322}],3:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./Subscriber"),o=function(t){function e(e,r,i){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=i,this.index=0}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n.Subscriber);r.InnerSubscriber=o},{"./Subscriber":13}],4:[function(t,e,r){var i=t("./Observable"),n=function(){function t(t,e,r){this.kind=t,this.value=e,this.exception=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.exception);case"C":return t.complete&&t.complete()}},t.prototype["do"]=function(t,e,r){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return e&&e(this.exception);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this["do"](t,e,r)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return i.Observable.of(this.value);case"E":return i.Observable["throw"](this.exception);case"C":return i.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();r.Notification=n},{"./Observable":5}],5:[function(t,e,r){var i=t("./util/root"),n=t("./util/toSubscriber"),o=t("./symbol/observable"),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var i=this.operator,o=n.toSubscriber(t,e,r);if(i?i.call(o,this):o.add(this._subscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype.forEach=function(t,e){var r=this;if(e||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?e=i.root.Rx.config.Promise:i.root.Promise&&(e=i.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,i){var n=r.subscribe(function(e){if(n)try{t(e)}catch(r){i(r),n.unsubscribe()}else t(e)},i,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();r.Observable=s},{"./symbol/observable":308,"./util/root":336,"./util/toSubscriber":338}],6:[function(t,e,r){r.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},{}],7:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./Subscriber"),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n.Subscriber);r.OuterSubscriber=o},{"./Subscriber":13}],8:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./Subject"),o=t("./scheduler/queue"),s=t("./operator/observeOn"),u=function(t){function e(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=i,this._events=[],this._bufferSize=1>e?1:e,this._windowTime=1>r?1:r}return i(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new c(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(e){var r=this._trimBufferThenGetEvents(),i=this.scheduler;i&&e.add(e=new s.ObserveOnSubscriber(e,i));for(var n=r.length,o=0;n>o&&!e.closed;o++)e.next(r[o].value);return t.prototype._subscribe.call(this,e)},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;n>o&&!(t-i[o].time<r);)o++;return n>e&&(o=Math.max(o,n-e)),o>0&&i.splice(0,o),i},e}(n.Subject);r.ReplaySubject=u;var c=function(){function t(t,e){this.time=t,this.value=e}return t}()},{"./Subject":11,"./operator/observeOn":246,"./scheduler/queue":306}],9:[function(t,e,r){var i=t("./Subject");r.Subject=i.Subject;var n=t("./Observable");r.Observable=n.Observable,t("./add/observable/bindCallback"),t("./add/observable/bindNodeCallback"),t("./add/observable/combineLatest"),t("./add/observable/concat"),t("./add/observable/defer"),t("./add/observable/empty"),t("./add/observable/forkJoin"),t("./add/observable/from"),t("./add/observable/fromEvent"),t("./add/observable/fromEventPattern"),t("./add/observable/fromPromise"),t("./add/observable/generate"),t("./add/observable/if"),t("./add/observable/interval"),t("./add/observable/merge"),t("./add/observable/race"),t("./add/observable/never"),t("./add/observable/of"),t("./add/observable/onErrorResumeNext"),t("./add/observable/pairs"),t("./add/observable/range"),t("./add/observable/using"),t("./add/observable/throw"),t("./add/observable/timer"),t("./add/observable/zip"),t("./add/observable/dom/ajax"),t("./add/observable/dom/webSocket"),t("./add/operator/buffer"),t("./add/operator/bufferCount"),t("./add/operator/bufferTime"),t("./add/operator/bufferToggle"),t("./add/operator/bufferWhen"),t("./add/operator/cache"),t("./add/operator/catch"),t("./add/operator/combineAll"),t("./add/operator/combineLatest"),t("./add/operator/concat"),t("./add/operator/concatAll"),t("./add/operator/concatMap"),t("./add/operator/concatMapTo"),t("./add/operator/count"),t("./add/operator/dematerialize"),t("./add/operator/debounce"),t("./add/operator/debounceTime"),t("./add/operator/defaultIfEmpty"),t("./add/operator/delay"),t("./add/operator/delayWhen"),t("./add/operator/distinct"),t("./add/operator/distinctKey"),t("./add/operator/distinctUntilChanged"),t("./add/operator/distinctUntilKeyChanged"),t("./add/operator/do"),t("./add/operator/exhaust"),t("./add/operator/exhaustMap"),t("./add/operator/expand"),t("./add/operator/elementAt"),t("./add/operator/filter"),t("./add/operator/finally"),t("./add/operator/find"),t("./add/operator/findIndex"),t("./add/operator/first"),t("./add/operator/groupBy"),t("./add/operator/ignoreElements"),t("./add/operator/isEmpty"),t("./add/operator/audit"),t("./add/operator/auditTime"),t("./add/operator/last"),t("./add/operator/let"),t("./add/operator/every"),t("./add/operator/map"),t("./add/operator/mapTo"),t("./add/operator/materialize"),t("./add/operator/max"),t("./add/operator/merge"),t("./add/operator/mergeAll"),t("./add/operator/mergeMap"),t("./add/operator/mergeMapTo"),t("./add/operator/mergeScan"),t("./add/operator/min"),t("./add/operator/multicast"),t("./add/operator/observeOn"),t("./add/operator/onErrorResumeNext"),t("./add/operator/pairwise"),t("./add/operator/partition"),t("./add/operator/pluck"),t("./add/operator/publish"),t("./add/operator/publishBehavior"),t("./add/operator/publishReplay"),t("./add/operator/publishLast"),t("./add/operator/race"),t("./add/operator/reduce"),t("./add/operator/repeat"),t("./add/operator/retry"),t("./add/operator/retryWhen"),t("./add/operator/sample"),t("./add/operator/sampleTime"),t("./add/operator/scan"),t("./add/operator/share"),t("./add/operator/single"),t("./add/operator/skip"),t("./add/operator/skipUntil"),t("./add/operator/skipWhile"),t("./add/operator/startWith"),t("./add/operator/subscribeOn"),t("./add/operator/switch"),t("./add/operator/switchMap"),t("./add/operator/switchMapTo"),t("./add/operator/take"),t("./add/operator/takeLast"),t("./add/operator/takeUntil"),t("./add/operator/takeWhile"),t("./add/operator/throttle"),t("./add/operator/throttleTime"),t("./add/operator/timeInterval"),t("./add/operator/timeout"),t("./add/operator/timeoutWith"),t("./add/operator/timestamp"),t("./add/operator/toArray"),t("./add/operator/toPromise"),t("./add/operator/window"),t("./add/operator/windowCount"),t("./add/operator/windowTime"),t("./add/operator/windowToggle"),t("./add/operator/windowWhen"),t("./add/operator/withLatestFrom"),t("./add/operator/zip"),t("./add/operator/zipAll");var o=t("./Subscription");r.Subscription=o.Subscription;var s=t("./Subscriber");r.Subscriber=s.Subscriber;var u=t("./AsyncSubject");r.AsyncSubject=u.AsyncSubject;var c=t("./ReplaySubject");r.ReplaySubject=c.ReplaySubject;var a=t("./BehaviorSubject");r.BehaviorSubject=a.BehaviorSubject;var l=t("./observable/MulticastObservable");r.MulticastObservable=l.MulticastObservable;var b=t("./observable/ConnectableObservable");r.ConnectableObservable=b.ConnectableObservable;var h=t("./Notification");r.Notification=h.Notification;var p=t("./util/EmptyError");r.EmptyError=p.EmptyError;var f=t("./util/ArgumentOutOfRangeError");r.ArgumentOutOfRangeError=f.ArgumentOutOfRangeError;var d=t("./util/ObjectUnsubscribedError");r.ObjectUnsubscribedError=d.ObjectUnsubscribedError;var v=t("./util/UnsubscriptionError");r.UnsubscriptionError=v.UnsubscriptionError;var y=t("./operator/timeInterval");r.TimeInterval=y.TimeInterval;var m=t("./operator/timestamp");r.Timestamp=m.Timestamp;var _=t("./testing/TestScheduler");r.TestScheduler=_.TestScheduler;var O=t("./scheduler/VirtualTimeScheduler");r.VirtualTimeScheduler=O.VirtualTimeScheduler;var S=t("./observable/dom/AjaxObservable");r.AjaxResponse=S.AjaxResponse,r.AjaxError=S.AjaxError,r.AjaxTimeoutError=S.AjaxTimeoutError;var x=t("./scheduler/asap"),w=t("./scheduler/async"),g=t("./scheduler/queue"),j=t("./scheduler/animationFrame"),T=t("./symbol/rxSubscriber"),A=t("./symbol/iterator"),E=t("./symbol/observable"),q={asap:x.asap,queue:g.queue,animationFrame:j.animationFrame,async:w.async};r.Scheduler=q;var C={rxSubscriber:T.$$rxSubscriber,observable:E.$$observable,iterator:A.$$iterator};r.Symbol=C},{"./AsyncSubject":1,"./BehaviorSubject":2,"./Notification":4,"./Observable":5,"./ReplaySubject":8,"./Subject":11,"./Subscriber":13,"./Subscription":14,"./add/observable/bindCallback":15,"./add/observable/bindNodeCallback":16,"./add/observable/combineLatest":17,"./add/observable/concat":18,"./add/observable/defer":19,"./add/observable/dom/ajax":20,"./add/observable/dom/webSocket":21,"./add/observable/empty":22,"./add/observable/forkJoin":23,"./add/observable/from":24,"./add/observable/fromEvent":25,"./add/observable/fromEventPattern":26,"./add/observable/fromPromise":27,"./add/observable/generate":28,"./add/observable/if":29,"./add/observable/interval":30,"./add/observable/merge":31,"./add/observable/never":32,"./add/observable/of":33,"./add/observable/onErrorResumeNext":34,"./add/observable/pairs":35,"./add/observable/race":36,"./add/observable/range":37,"./add/observable/throw":38,"./add/observable/timer":39,"./add/observable/using":40,"./add/observable/zip":41,"./add/operator/audit":42,"./add/operator/auditTime":43,"./add/operator/buffer":44,"./add/operator/bufferCount":45,"./add/operator/bufferTime":46,"./add/operator/bufferToggle":47,"./add/operator/bufferWhen":48,"./add/operator/cache":49,"./add/operator/catch":50,"./add/operator/combineAll":51,"./add/operator/combineLatest":52,"./add/operator/concat":53,"./add/operator/concatAll":54,"./add/operator/concatMap":55,"./add/operator/concatMapTo":56,"./add/operator/count":57,"./add/operator/debounce":58,"./add/operator/debounceTime":59,"./add/operator/defaultIfEmpty":60,"./add/operator/delay":61,"./add/operator/delayWhen":62,"./add/operator/dematerialize":63,"./add/operator/distinct":64,"./add/operator/distinctKey":65,"./add/operator/distinctUntilChanged":66,"./add/operator/distinctUntilKeyChanged":67,"./add/operator/do":68,"./add/operator/elementAt":69,"./add/operator/every":70,"./add/operator/exhaust":71,"./add/operator/exhaustMap":72,"./add/operator/expand":73,"./add/operator/filter":74,"./add/operator/finally":75,"./add/operator/find":76,"./add/operator/findIndex":77,"./add/operator/first":78,"./add/operator/groupBy":79,"./add/operator/ignoreElements":80,"./add/operator/isEmpty":81,"./add/operator/last":82,"./add/operator/let":83,"./add/operator/map":84,"./add/operator/mapTo":85,"./add/operator/materialize":86,"./add/operator/max":87,"./add/operator/merge":88,"./add/operator/mergeAll":89,"./add/operator/mergeMap":90,"./add/operator/mergeMapTo":91,"./add/operator/mergeScan":92,"./add/operator/min":93,"./add/operator/multicast":94,"./add/operator/observeOn":95,"./add/operator/onErrorResumeNext":96,"./add/operator/pairwise":97,"./add/operator/partition":98,"./add/operator/pluck":99,"./add/operator/publish":100,"./add/operator/publishBehavior":101,"./add/operator/publishLast":102,"./add/operator/publishReplay":103,"./add/operator/race":104,"./add/operator/reduce":105,"./add/operator/repeat":106,"./add/operator/retry":107,"./add/operator/retryWhen":108,"./add/operator/sample":109,"./add/operator/sampleTime":110,"./add/operator/scan":111,"./add/operator/share":112,"./add/operator/single":113,"./add/operator/skip":114,"./add/operator/skipUntil":115,"./add/operator/skipWhile":116,"./add/operator/startWith":117,"./add/operator/subscribeOn":118,"./add/operator/switch":119,"./add/operator/switchMap":120,"./add/operator/switchMapTo":121,"./add/operator/take":122,"./add/operator/takeLast":123,"./add/operator/takeUntil":124,"./add/operator/takeWhile":125,"./add/operator/throttle":126,"./add/operator/throttleTime":127,"./add/operator/timeInterval":128,"./add/operator/timeout":129,"./add/operator/timeoutWith":130,"./add/operator/timestamp":131,"./add/operator/toArray":132,"./add/operator/toPromise":133,"./add/operator/window":134,"./add/operator/windowCount":135,"./add/operator/windowTime":136,"./add/operator/windowToggle":137,"./add/operator/windowWhen":138,"./add/operator/withLatestFrom":139,"./add/operator/zip":140,"./add/operator/zipAll":141,"./observable/ConnectableObservable":146,"./observable/MulticastObservable":158,"./observable/dom/AjaxObservable":172,"./operator/timeInterval":279,"./operator/timestamp":282,"./scheduler/VirtualTimeScheduler":302,"./scheduler/animationFrame":303,"./scheduler/asap":304,"./scheduler/async":305,"./scheduler/queue":306,"./symbol/iterator":307,"./symbol/observable":308,"./symbol/rxSubscriber":309,"./testing/TestScheduler":314,"./util/ArgumentOutOfRangeError":316,"./util/EmptyError":317,"./util/ObjectUnsubscribedError":322,"./util/UnsubscriptionError":323}],10:[function(t,e,r){var i=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();r.Scheduler=i},{}],11:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./Observable"),o=t("./Subscriber"),s=t("./Subscription"),u=t("./util/ObjectUnsubscribedError"),c=t("./SubjectSubscription"),a=t("./symbol/rxSubscriber"),l=function(t){function e(e){t.call(this,e),this.destination=e}return i(e,t),e}(o.Subscriber);r.SubjectSubscriber=l;var b=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return i(e,t),e.prototype[a.$$rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,i=e.slice(),n=0;r>n;n++)i[n].next(t)},e.prototype.error=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,i=e.slice(),n=0;r>n;n++)i[n].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),i=0;e>i;i++)r[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._subscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new n.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(n.Observable);r.Subject=b;var h=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):s.Subscription.EMPTY},e}(b);r.AnonymousSubject=h},{"./Observable":5,"./SubjectSubscription":12,"./Subscriber":13,"./Subscription":14,"./symbol/rxSubscriber":309,"./util/ObjectUnsubscribedError":322}],12:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./Subscription"),o=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(n.Subscription);r.SubjectSubscription=o},{"./Subscription":14}],13:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);
t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./util/isFunction"),o=t("./Subscription"),s=t("./Observer"),u=t("./symbol/rxSubscriber"),c=function(t){function e(r,i,n){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!r){this.destination=s.empty;break}if("object"==typeof r){r instanceof e?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new a(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new a(this,r,i,n)}}return i(e,t),e.prototype[u.$$rxSubscriber]=function(){return this},e.create=function(t,r,i){var n=new e(t,r,i);return n.syncErrorThrowable=!1,n},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(o.Subscription);r.Subscriber=c;var a=function(t){function e(e,r,i,o){t.call(this),this._parent=e;var s,u=this;n.isFunction(r)?s=r:r&&(u=r,s=r.next,i=r.error,o=r.complete,n.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this)),this._context=u,this._next=s,this._error=i,this._complete=o}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){throw this.unsubscribe(),r}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(i){return t.syncErrorValue=i,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(c)},{"./Observer":6,"./Subscription":14,"./symbol/rxSubscriber":309,"./util/isFunction":329}],14:[function(t,e,r){var i=t("./util/isArray"),n=t("./util/isObject"),o=t("./util/isFunction"),s=t("./util/tryCatch"),u=t("./util/errorObject"),c=t("./util/UnsubscriptionError"),a=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var r=this,a=r._unsubscribe,l=r._subscriptions;if(this._subscriptions=null,o.isFunction(a)){var b=s.tryCatch(a).call(this);b===u.errorObject&&(e=!0,(t=t||[]).push(u.errorObject.e))}if(i.isArray(l))for(var h=-1,p=l.length;++h<p;){var f=l[h];if(n.isObject(f)){var b=s.tryCatch(f.unsubscribe).call(f);if(b===u.errorObject){e=!0,t=t||[];var d=u.errorObject.e;d instanceof c.UnsubscriptionError?t=t.concat(d.errors):t.push(d)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)break;this.closed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return r},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var r=this._subscriptions;if(r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();r.Subscription=a},{"./util/UnsubscriptionError":323,"./util/errorObject":326,"./util/isArray":327,"./util/isFunction":329,"./util/isObject":331,"./util/tryCatch":339}],15:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/bindCallback");i.Observable.bindCallback=n.bindCallback},{"../../Observable":5,"../../observable/bindCallback":167}],16:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/bindNodeCallback");i.Observable.bindNodeCallback=n.bindNodeCallback},{"../../Observable":5,"../../observable/bindNodeCallback":168}],17:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/combineLatest");i.Observable.combineLatest=n.combineLatest},{"../../Observable":5,"../../observable/combineLatest":169}],18:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/concat");i.Observable.concat=n.concat},{"../../Observable":5,"../../observable/concat":170}],19:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/defer");i.Observable.defer=n.defer},{"../../Observable":5,"../../observable/defer":171}],20:[function(t,e,r){var i=t("../../../Observable"),n=t("../../../observable/dom/ajax");i.Observable.ajax=n.ajax},{"../../../Observable":5,"../../../observable/dom/ajax":174}],21:[function(t,e,r){var i=t("../../../Observable"),n=t("../../../observable/dom/webSocket");i.Observable.webSocket=n.webSocket},{"../../../Observable":5,"../../../observable/dom/webSocket":175}],22:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/empty");i.Observable.empty=n.empty},{"../../Observable":5,"../../observable/empty":176}],23:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/forkJoin");i.Observable.forkJoin=n.forkJoin},{"../../Observable":5,"../../observable/forkJoin":177}],24:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/from");i.Observable.from=n.from},{"../../Observable":5,"../../observable/from":178}],25:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/fromEvent");i.Observable.fromEvent=n.fromEvent},{"../../Observable":5,"../../observable/fromEvent":179}],26:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/fromEventPattern");i.Observable.fromEventPattern=n.fromEventPattern},{"../../Observable":5,"../../observable/fromEventPattern":180}],27:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/fromPromise");i.Observable.fromPromise=n.fromPromise},{"../../Observable":5,"../../observable/fromPromise":181}],28:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/GenerateObservable");i.Observable.generate=n.GenerateObservable.create},{"../../Observable":5,"../../observable/GenerateObservable":154}],29:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/if");i.Observable["if"]=n._if},{"../../Observable":5,"../../observable/if":182}],30:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/interval");i.Observable.interval=n.interval},{"../../Observable":5,"../../observable/interval":183}],31:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/merge");i.Observable.merge=n.merge},{"../../Observable":5,"../../observable/merge":184}],32:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/never");i.Observable.never=n.never},{"../../Observable":5,"../../observable/never":185}],33:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/of");i.Observable.of=n.of},{"../../Observable":5,"../../observable/of":186}],34:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/onErrorResumeNext");i.Observable.onErrorResumeNext=n.onErrorResumeNextStatic},{"../../Observable":5,"../../operator/onErrorResumeNext":247}],35:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/pairs");i.Observable.pairs=n.pairs},{"../../Observable":5,"../../observable/pairs":187}],36:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/race");i.Observable.race=n.raceStatic},{"../../Observable":5,"../../operator/race":255}],37:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/range");i.Observable.range=n.range},{"../../Observable":5,"../../observable/range":188}],38:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/throw");i.Observable["throw"]=n._throw},{"../../Observable":5,"../../observable/throw":189}],39:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/timer");i.Observable.timer=n.timer},{"../../Observable":5,"../../observable/timer":190}],40:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/using");i.Observable.using=n.using},{"../../Observable":5,"../../observable/using":191}],41:[function(t,e,r){var i=t("../../Observable"),n=t("../../observable/zip");i.Observable.zip=n.zip},{"../../Observable":5,"../../observable/zip":192}],42:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/audit");i.Observable.prototype.audit=n.audit},{"../../Observable":5,"../../operator/audit":193}],43:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/auditTime");i.Observable.prototype.auditTime=n.auditTime},{"../../Observable":5,"../../operator/auditTime":194}],44:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/buffer");i.Observable.prototype.buffer=n.buffer},{"../../Observable":5,"../../operator/buffer":195}],45:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/bufferCount");i.Observable.prototype.bufferCount=n.bufferCount},{"../../Observable":5,"../../operator/bufferCount":196}],46:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/bufferTime");i.Observable.prototype.bufferTime=n.bufferTime},{"../../Observable":5,"../../operator/bufferTime":197}],47:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/bufferToggle");i.Observable.prototype.bufferToggle=n.bufferToggle},{"../../Observable":5,"../../operator/bufferToggle":198}],48:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/bufferWhen");i.Observable.prototype.bufferWhen=n.bufferWhen},{"../../Observable":5,"../../operator/bufferWhen":199}],49:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/cache");i.Observable.prototype.cache=n.cache},{"../../Observable":5,"../../operator/cache":200}],50:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/catch");i.Observable.prototype["catch"]=n._catch},{"../../Observable":5,"../../operator/catch":201}],51:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/combineAll");i.Observable.prototype.combineAll=n.combineAll},{"../../Observable":5,"../../operator/combineAll":202}],52:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/combineLatest");i.Observable.prototype.combineLatest=n.combineLatest},{"../../Observable":5,"../../operator/combineLatest":203}],53:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/concat");i.Observable.prototype.concat=n.concat},{"../../Observable":5,"../../operator/concat":204}],54:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/concatAll");i.Observable.prototype.concatAll=n.concatAll},{"../../Observable":5,"../../operator/concatAll":205}],55:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/concatMap");i.Observable.prototype.concatMap=n.concatMap},{"../../Observable":5,"../../operator/concatMap":206}],56:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/concatMapTo");i.Observable.prototype.concatMapTo=n.concatMapTo},{"../../Observable":5,"../../operator/concatMapTo":207}],57:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/count");i.Observable.prototype.count=n.count},{"../../Observable":5,"../../operator/count":208}],58:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/debounce");i.Observable.prototype.debounce=n.debounce},{"../../Observable":5,"../../operator/debounce":209}],59:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/debounceTime");i.Observable.prototype.debounceTime=n.debounceTime},{"../../Observable":5,"../../operator/debounceTime":210}],60:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/defaultIfEmpty");i.Observable.prototype.defaultIfEmpty=n.defaultIfEmpty},{"../../Observable":5,"../../operator/defaultIfEmpty":211}],61:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/delay");i.Observable.prototype.delay=n.delay},{"../../Observable":5,"../../operator/delay":212}],62:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/delayWhen");i.Observable.prototype.delayWhen=n.delayWhen},{"../../Observable":5,"../../operator/delayWhen":213}],63:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/dematerialize");i.Observable.prototype.dematerialize=n.dematerialize},{"../../Observable":5,"../../operator/dematerialize":214}],64:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/distinct");i.Observable.prototype.distinct=n.distinct},{"../../Observable":5,"../../operator/distinct":215}],65:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/distinctKey");i.Observable.prototype.distinctKey=n.distinctKey},{"../../Observable":5,"../../operator/distinctKey":216}],66:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/distinctUntilChanged");i.Observable.prototype.distinctUntilChanged=n.distinctUntilChanged},{"../../Observable":5,"../../operator/distinctUntilChanged":217}],67:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/distinctUntilKeyChanged");i.Observable.prototype.distinctUntilKeyChanged=n.distinctUntilKeyChanged},{"../../Observable":5,"../../operator/distinctUntilKeyChanged":218}],68:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/do");i.Observable.prototype["do"]=n._do},{"../../Observable":5,"../../operator/do":219}],69:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/elementAt");i.Observable.prototype.elementAt=n.elementAt},{"../../Observable":5,"../../operator/elementAt":220}],70:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/every");i.Observable.prototype.every=n.every},{"../../Observable":5,"../../operator/every":221}],71:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/exhaust");i.Observable.prototype.exhaust=n.exhaust},{"../../Observable":5,"../../operator/exhaust":222}],72:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/exhaustMap");i.Observable.prototype.exhaustMap=n.exhaustMap},{"../../Observable":5,"../../operator/exhaustMap":223}],73:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/expand");i.Observable.prototype.expand=n.expand},{"../../Observable":5,"../../operator/expand":224}],74:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/filter");i.Observable.prototype.filter=n.filter},{"../../Observable":5,"../../operator/filter":225}],75:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/finally");i.Observable.prototype["finally"]=n._finally},{"../../Observable":5,"../../operator/finally":226}],76:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/find");i.Observable.prototype.find=n.find},{"../../Observable":5,"../../operator/find":227}],77:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/findIndex");i.Observable.prototype.findIndex=n.findIndex},{"../../Observable":5,"../../operator/findIndex":228}],78:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/first");i.Observable.prototype.first=n.first},{"../../Observable":5,"../../operator/first":229}],79:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/groupBy");i.Observable.prototype.groupBy=n.groupBy},{"../../Observable":5,"../../operator/groupBy":230}],80:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/ignoreElements");i.Observable.prototype.ignoreElements=n.ignoreElements},{"../../Observable":5,"../../operator/ignoreElements":231}],81:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/isEmpty");i.Observable.prototype.isEmpty=n.isEmpty},{"../../Observable":5,"../../operator/isEmpty":232}],82:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/last");i.Observable.prototype.last=n.last},{"../../Observable":5,"../../operator/last":233}],83:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/let");i.Observable.prototype.let=n.letProto,i.Observable.prototype.letBind=n.letProto},{"../../Observable":5,"../../operator/let":234}],84:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/map");i.Observable.prototype.map=n.map},{"../../Observable":5,"../../operator/map":235}],85:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/mapTo");i.Observable.prototype.mapTo=n.mapTo},{"../../Observable":5,"../../operator/mapTo":236}],86:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/materialize");i.Observable.prototype.materialize=n.materialize},{"../../Observable":5,"../../operator/materialize":237}],87:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/max");i.Observable.prototype.max=n.max},{"../../Observable":5,"../../operator/max":238}],88:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/merge");i.Observable.prototype.merge=n.merge},{"../../Observable":5,"../../operator/merge":239}],89:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/mergeAll");i.Observable.prototype.mergeAll=n.mergeAll},{"../../Observable":5,"../../operator/mergeAll":240}],90:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/mergeMap");i.Observable.prototype.mergeMap=n.mergeMap,i.Observable.prototype.flatMap=n.mergeMap},{"../../Observable":5,"../../operator/mergeMap":241}],91:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/mergeMapTo");i.Observable.prototype.flatMapTo=n.mergeMapTo,i.Observable.prototype.mergeMapTo=n.mergeMapTo},{"../../Observable":5,"../../operator/mergeMapTo":242}],92:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/mergeScan");i.Observable.prototype.mergeScan=n.mergeScan},{"../../Observable":5,"../../operator/mergeScan":243}],93:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/min");i.Observable.prototype.min=n.min},{"../../Observable":5,"../../operator/min":244}],94:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/multicast");i.Observable.prototype.multicast=n.multicast},{"../../Observable":5,"../../operator/multicast":245}],95:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/observeOn");i.Observable.prototype.observeOn=n.observeOn},{"../../Observable":5,"../../operator/observeOn":246}],96:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/onErrorResumeNext");i.Observable.prototype.onErrorResumeNext=n.onErrorResumeNext},{"../../Observable":5,"../../operator/onErrorResumeNext":247}],97:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/pairwise");i.Observable.prototype.pairwise=n.pairwise},{"../../Observable":5,"../../operator/pairwise":248}],98:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/partition");i.Observable.prototype.partition=n.partition},{"../../Observable":5,"../../operator/partition":249}],99:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/pluck");i.Observable.prototype.pluck=n.pluck},{"../../Observable":5,"../../operator/pluck":250}],100:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/publish");i.Observable.prototype.publish=n.publish},{"../../Observable":5,"../../operator/publish":251}],101:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/publishBehavior");i.Observable.prototype.publishBehavior=n.publishBehavior},{"../../Observable":5,"../../operator/publishBehavior":252}],102:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/publishLast");i.Observable.prototype.publishLast=n.publishLast},{"../../Observable":5,"../../operator/publishLast":253}],103:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/publishReplay");i.Observable.prototype.publishReplay=n.publishReplay},{"../../Observable":5,"../../operator/publishReplay":254}],104:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/race");i.Observable.prototype.race=n.race},{"../../Observable":5,"../../operator/race":255}],105:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/reduce");i.Observable.prototype.reduce=n.reduce},{"../../Observable":5,"../../operator/reduce":256}],106:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/repeat");i.Observable.prototype.repeat=n.repeat},{"../../Observable":5,"../../operator/repeat":257}],107:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/retry");i.Observable.prototype.retry=n.retry},{"../../Observable":5,"../../operator/retry":258}],108:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/retryWhen");i.Observable.prototype.retryWhen=n.retryWhen},{"../../Observable":5,"../../operator/retryWhen":259}],109:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/sample");i.Observable.prototype.sample=n.sample},{"../../Observable":5,"../../operator/sample":260}],110:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/sampleTime");i.Observable.prototype.sampleTime=n.sampleTime},{"../../Observable":5,"../../operator/sampleTime":261}],111:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/scan");i.Observable.prototype.scan=n.scan},{"../../Observable":5,"../../operator/scan":262}],112:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/share");i.Observable.prototype.share=n.share},{"../../Observable":5,"../../operator/share":263}],113:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/single");i.Observable.prototype.single=n.single},{"../../Observable":5,"../../operator/single":264}],114:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/skip");i.Observable.prototype.skip=n.skip},{"../../Observable":5,"../../operator/skip":265}],115:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/skipUntil");i.Observable.prototype.skipUntil=n.skipUntil},{"../../Observable":5,"../../operator/skipUntil":266}],116:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/skipWhile");i.Observable.prototype.skipWhile=n.skipWhile},{"../../Observable":5,"../../operator/skipWhile":267}],117:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/startWith");i.Observable.prototype.startWith=n.startWith},{"../../Observable":5,"../../operator/startWith":268}],118:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/subscribeOn");i.Observable.prototype.subscribeOn=n.subscribeOn},{"../../Observable":5,"../../operator/subscribeOn":269}],119:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/switch");i.Observable.prototype["switch"]=n._switch},{"../../Observable":5,"../../operator/switch":270}],120:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/switchMap");i.Observable.prototype.switchMap=n.switchMap},{"../../Observable":5,"../../operator/switchMap":271}],121:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/switchMapTo");i.Observable.prototype.switchMapTo=n.switchMapTo},{"../../Observable":5,"../../operator/switchMapTo":272}],122:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/take");i.Observable.prototype.take=n.take},{"../../Observable":5,"../../operator/take":273}],123:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/takeLast");i.Observable.prototype.takeLast=n.takeLast},{"../../Observable":5,"../../operator/takeLast":274}],124:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/takeUntil");i.Observable.prototype.takeUntil=n.takeUntil},{"../../Observable":5,"../../operator/takeUntil":275}],125:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/takeWhile");i.Observable.prototype.takeWhile=n.takeWhile},{"../../Observable":5,"../../operator/takeWhile":276}],126:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/throttle");i.Observable.prototype.throttle=n.throttle},{"../../Observable":5,"../../operator/throttle":277}],127:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/throttleTime");i.Observable.prototype.throttleTime=n.throttleTime},{"../../Observable":5,"../../operator/throttleTime":278}],128:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/timeInterval");i.Observable.prototype.timeInterval=n.timeInterval},{"../../Observable":5,"../../operator/timeInterval":279}],129:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/timeout");i.Observable.prototype.timeout=n.timeout},{"../../Observable":5,"../../operator/timeout":280}],130:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/timeoutWith");i.Observable.prototype.timeoutWith=n.timeoutWith},{"../../Observable":5,"../../operator/timeoutWith":281}],131:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/timestamp");i.Observable.prototype.timestamp=n.timestamp},{"../../Observable":5,"../../operator/timestamp":282}],132:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/toArray");i.Observable.prototype.toArray=n.toArray},{"../../Observable":5,"../../operator/toArray":283}],133:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/toPromise");i.Observable.prototype.toPromise=n.toPromise},{"../../Observable":5,"../../operator/toPromise":284}],134:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/window");i.Observable.prototype.window=n.window},{"../../Observable":5,"../../operator/window":285}],135:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/windowCount");i.Observable.prototype.windowCount=n.windowCount},{"../../Observable":5,"../../operator/windowCount":286}],136:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/windowTime");i.Observable.prototype.windowTime=n.windowTime},{"../../Observable":5,"../../operator/windowTime":287}],137:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/windowToggle");i.Observable.prototype.windowToggle=n.windowToggle},{"../../Observable":5,"../../operator/windowToggle":288}],138:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/windowWhen");i.Observable.prototype.windowWhen=n.windowWhen},{"../../Observable":5,"../../operator/windowWhen":289}],139:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/withLatestFrom");i.Observable.prototype.withLatestFrom=n.withLatestFrom},{"../../Observable":5,"../../operator/withLatestFrom":290}],140:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/zip");i.Observable.prototype.zip=n.zipProto},{"../../Observable":5,"../../operator/zip":291}],141:[function(t,e,r){var i=t("../../Observable"),n=t("../../operator/zipAll");i.Observable.prototype.zipAll=n.zipAll},{"../../Observable":5,"../../operator/zipAll":292}],142:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("./ScalarObservable"),s=t("./EmptyObservable"),u=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return i(e,t),e.create=function(t,r){var i=t.length;return 0===i?new s.EmptyObservable:1===i?new o.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,i=t.length,n=t.subscriber;if(!n.closed){if(r>=i)return void n.complete();n.next(e[r]),t.index=r+1,this.schedule(t)}},e.prototype._subscribe=function(t){var r=0,i=this,n=i.arrayLike,o=i.scheduler,s=n.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:n,index:r,length:s,subscriber:t});for(var u=0;s>u&&!t.closed;u++)t.next(n[u]);t.complete()},e}(n.Observable);r.ArrayLikeObservable=u},{"../Observable":5,"./EmptyObservable":148,"./ScalarObservable":163}],143:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("./ScalarObservable"),s=t("./EmptyObservable"),u=t("../util/isScheduler"),c=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return i(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var i=t[t.length-1];u.isScheduler(i)?t.pop():i=null;var n=t.length;return n>1?new e(t,i):1===n?new o.ScalarObservable(t[0],i):new s.EmptyObservable(i)},e.dispatch=function(t){var e=t.array,r=t.index,i=t.count,n=t.subscriber;return r>=i?void n.complete():(n.next(e[r]),void(n.closed||(t.index=r+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,i=this.array,n=i.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:i,index:r,count:n,subscriber:t});for(var s=0;n>s&&!t.closed;s++)t.next(i[s]);t.complete()},e}(n.Observable);r.ArrayObservable=c},{"../Observable":5,"../util/isScheduler":333,"./EmptyObservable":148,"./ScalarObservable":163}],144:[function(t,e,r){function i(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function n(t){var e=t.err,r=t.subject;r.error(e)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../Observable"),u=t("../util/tryCatch"),c=t("../util/errorObject"),a=t("../AsyncSubject"),l=function(t){function e(e,r,i,n){t.call(this),this.callbackFunc=e,this.selector=r,this.args=i,this.scheduler=n}return o(e,t),e.create=function(t,r,i){return void 0===r&&(r=void 0),function(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];return new e(t,r,n,i)}},e.prototype._subscribe=function(t){var r=this.callbackFunc,i=this.args,n=this.scheduler,o=this.subject;if(n)return n.schedule(e.dispatch,0,{source:this,subscriber:t});if(!o){o=this.subject=new a.AsyncSubject;var s=function b(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=b.source,i=r.selector,n=r.subject;if(i){var o=u.tryCatch(i).apply(this,t);o===c.errorObject?n.error(c.errorObject.e):(n.next(o),n.complete())}else n.next(1===t.length?t[0]:t),n.complete()};s.source=this;var l=u.tryCatch(r).apply(this,i.concat(s));l===c.errorObject&&o.error(c.errorObject.e)}return o.subscribe(t)},e.dispatch=function(t){var e=this,r=t.source,o=t.subscriber,s=r.callbackFunc,l=r.args,b=r.scheduler,h=r.subject;if(!h){h=r.subject=new a.AsyncSubject;var p=function d(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=d.source,s=o.selector,a=o.subject;if(s){var l=u.tryCatch(s).apply(this,t);l===c.errorObject?e.add(b.schedule(n,0,{err:c.errorObject.e,subject:a})):e.add(b.schedule(i,0,{value:l,subject:a}))}else{var h=1===t.length?t[0]:t;e.add(b.schedule(i,0,{value:h,subject:a}))}};p.source=r;var f=u.tryCatch(s).apply(this,l.concat(p));f===c.errorObject&&h.error(c.errorObject.e)}e.add(h.subscribe(o))},e}(s.Observable);r.BoundCallbackObservable=l},{"../AsyncSubject":1,"../Observable":5,"../util/errorObject":326,"../util/tryCatch":339}],145:[function(t,e,r){function i(t){var e=this,r=t.source,i=t.subscriber,s=r,u=s.callbackFunc,b=s.args,h=s.scheduler,p=r.subject;if(!p){p=r.subject=new l.AsyncSubject;var f=function v(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var i=v.source,s=i.selector,u=i.subject,l=t.shift();if(l)u.error(l);else if(s){var b=c.tryCatch(s).apply(this,t);b===a.errorObject?e.add(h.schedule(o,0,{err:a.errorObject.e,subject:u})):e.add(h.schedule(n,0,{value:b,subject:u}))}else{var p=1===t.length?t[0]:t;e.add(h.schedule(n,0,{
value:p,subject:u}))}};f.source=r;var d=c.tryCatch(u).apply(this,b.concat(f));d===a.errorObject&&p.error(a.errorObject.e)}e.add(p.subscribe(i))}function n(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function o(t){var e=t.err,r=t.subject;r.error(e)}var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=t("../Observable"),c=t("../util/tryCatch"),a=t("../util/errorObject"),l=t("../AsyncSubject"),b=function(t){function e(e,r,i,n){t.call(this),this.callbackFunc=e,this.selector=r,this.args=i,this.scheduler=n}return s(e,t),e.create=function(t,r,i){return void 0===r&&(r=void 0),function(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];return new e(t,r,n,i)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,r=this.args,n=this.scheduler,o=this.subject;if(n)return n.schedule(i,0,{source:this,subscriber:t});if(!o){o=this.subject=new l.AsyncSubject;var s=function b(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=b.source,i=r.selector,n=r.subject,o=t.shift();if(o)n.error(o);else if(i){var s=c.tryCatch(i).apply(this,t);s===a.errorObject?n.error(a.errorObject.e):(n.next(s),n.complete())}else n.next(1===t.length?t[0]:t),n.complete()};s.source=this;var u=c.tryCatch(e).apply(this,r.concat(s));u===a.errorObject&&o.error(a.errorObject.e)}return o.subscribe(t)},e}(u.Observable);r.BoundNodeCallbackObservable=b},{"../AsyncSubject":1,"../Observable":5,"../util/errorObject":326,"../util/tryCatch":339}],146:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Subject"),o=t("../Observable"),s=t("../Subscriber"),u=t("../Subscription"),c=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r,this._refCount=0}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new u.Subscription,t.add(this.source.subscribe(new a(this.getSubject(),this))),t.closed?(this._connection=null,t=u.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new l(this))},e}(o.Observable);r.ConnectableObservable=c;var a=function(t){function e(e,r){t.call(this,e),this.connectable=r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(n.SubjectSubscriber),l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var i=new b(t,r),n=e._subscribe(i);return i.closed||(i.connection=r.connect()),n},t}(),b=function(t){function e(e,r){t.call(this,e),this.connectable=r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(0>=e)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var r=this.connection,i=t._connection;this.connection=null,!i||r&&i!==r||i.unsubscribe()},e}(s.Subscriber)},{"../Observable":5,"../Subject":11,"../Subscriber":13,"../Subscription":14}],147:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../util/subscribeToResult"),s=t("../OuterSubscriber"),u=function(t){function e(e){t.call(this),this.observableFactory=e}return i(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new c(t,this.observableFactory)},e}(n.Observable);r.DeferObservable=u;var c=function(t){function e(e,r){t.call(this,e),this.factory=r,this.tryDefer()}return i(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(s.OuterSubscriber)},{"../Observable":5,"../OuterSubscriber":7,"../util/subscribeToResult":337}],148:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=function(t){function e(e){t.call(this),this.scheduler=e}return i(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;return r?r.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(n.Observable);r.EmptyObservable=o},{"../Observable":5}],149:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=function(t){function e(e,r){t.call(this),this.error=e,this.scheduler=r}return i(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.error,r=t.subscriber;r.error(e)},e.prototype._subscribe=function(t){var r=this.error,i=this.scheduler;return i?i.schedule(e.dispatch,0,{error:r,subscriber:t}):void t.error(r)},e}(n.Observable);r.ErrorObservable=o},{"../Observable":5}],150:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("./EmptyObservable"),s=t("../util/isArray"),u=t("../util/subscribeToResult"),c=t("../OuterSubscriber"),a=function(t){function e(e,r){t.call(this),this.sources=e,this.resultSelector=r}return i(e,t),e.create=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];if(null===t||0===arguments.length)return new o.EmptyObservable;var i=null;return"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,i)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(n.Observable);r.ForkJoinObservable=a;var l=function(t){function e(e,r,i){t.call(this,e),this.sources=r,this.resultSelector=i,this.completed=0,this.haveValues=0;var n=r.length;this.total=n,this.values=new Array(n);for(var o=0;n>o;o++){var s=r[o],c=u.subscribeToResult(this,s,null,o);c&&(c.outerIndex=o,this.add(c))}}return i(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values[r]=e,n._hasValue||(n._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this,i=r.haveValues,n=r.resultSelector,o=r.values,s=o.length;if(!t._hasValue)return void e.complete();if(this.completed++,this.completed===s){if(i===s){var u=n?n.apply(this,o):o;e.next(u)}e.complete()}},e}(c.OuterSubscriber)},{"../Observable":5,"../OuterSubscriber":7,"../util/isArray":327,"../util/subscribeToResult":337,"./EmptyObservable":148}],151:[function(t,e,r){function i(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function n(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===t.toString()}function s(t){return!!t&&"[object HTMLCollection]"===t.toString()}function u(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var c=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=t("../Observable"),l=t("../util/tryCatch"),b=t("../util/isFunction"),h=t("../util/errorObject"),p=t("../Subscription"),f=function(t){function e(e,r,i,n){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=i,this.options=n}return c(e,t),e.create=function(t,r,i,n){return b.isFunction(i)&&(n=i,i=void 0),new e(t,r,n,i)},e.setupSubscription=function(t,r,c,a,l){var b;if(o(t)||s(t))for(var h=0,f=t.length;f>h;h++)e.setupSubscription(t[h],r,c,a,l);else if(u(t)){var d=t;t.addEventListener(r,c,l),b=function(){return d.removeEventListener(r,c)}}else if(n(t)){var v=t;t.on(r,c),b=function(){return v.off(r,c)}}else if(i(t)){var y=t;t.addListener(r,c),b=function(){return y.removeListener(r,c)}}a.add(new p.Subscription(b))},e.prototype._subscribe=function(t){var r=this.sourceObj,i=this.eventName,n=this.options,o=this.selector,s=o?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var i=l.tryCatch(o).apply(void 0,e);i===h.errorObject?t.error(h.errorObject.e):t.next(i)}:function(e){return t.next(e)};e.setupSubscription(r,i,s,t,n)},e}(a.Observable);r.FromEventObservable=f},{"../Observable":5,"../Subscription":14,"../util/errorObject":326,"../util/isFunction":329,"../util/tryCatch":339}],152:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../Subscription"),s=function(t){function e(e,r,i){t.call(this),this.addHandler=e,this.removeHandler=r,this.selector=i}return i(e,t),e.create=function(t,r,i){return new e(t,r,i)},e.prototype._subscribe=function(t){var e=this,r=this.removeHandler,i=this.selector?function(){for(var r=[],i=0;i<arguments.length;i++)r[i-0]=arguments[i];e._callSelector(t,r)}:function(e){t.next(e)};this._callAddHandler(i,t),t.add(new o.Subscription(function(){r(i)}))},e.prototype._callSelector=function(t,e){try{var r=this.selector.apply(this,e);t.next(r)}catch(i){t.error(i)}},e.prototype._callAddHandler=function(t,e){try{this.addHandler(t)}catch(r){e.error(r)}},e}(n.Observable);r.FromEventPatternObservable=s},{"../Observable":5,"../Subscription":14}],153:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../util/isArray"),o=t("../util/isPromise"),s=t("./PromiseObservable"),u=t("./IteratorObservable"),c=t("./ArrayObservable"),a=t("./ArrayLikeObservable"),l=t("../symbol/iterator"),b=t("../Observable"),h=t("../operator/observeOn"),p=t("../symbol/observable"),f=function(t){return t&&"number"==typeof t.length},d=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return i(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[p.$$observable])return t instanceof b.Observable&&!r?t:new e(t,r);if(n.isArray(t))return new c.ArrayObservable(t,r);if(o.isPromise(t))return new s.PromiseObservable(t,r);if("function"==typeof t[l.$$iterator]||"string"==typeof t)return new u.IteratorObservable(t,r);if(f(t))return new a.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[p.$$observable]().subscribe(t):e[p.$$observable]().subscribe(new h.ObserveOnSubscriber(t,r,0))},e}(b.Observable);r.FromObservable=d},{"../Observable":5,"../operator/observeOn":246,"../symbol/iterator":307,"../symbol/observable":308,"../util/isArray":327,"../util/isPromise":332,"./ArrayLikeObservable":142,"./ArrayObservable":143,"./IteratorObservable":157,"./PromiseObservable":161}],154:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../util/isScheduler"),s=function(t){return t},u=function(t){function e(e,r,i,n,o){t.call(this),this.initialState=e,this.condition=r,this.iterate=i,this.resultSelector=n,this.scheduler=o}return i(e,t),e.create=function(t,r,i,n,u){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||s,t.scheduler):void 0===n||o.isScheduler(n)?new e(t,r,i,s,n):new e(t,r,i,n,u)},e.prototype._subscribe=function(t){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var i=this,n=i.condition,o=i.resultSelector,s=i.iterate;;){if(n){var u=void 0;try{u=n(r)}catch(c){return void t.error(c)}if(!u){t.complete();break}}var a=void 0;try{a=o(r)}catch(c){return void t.error(c)}if(t.next(a),t.closed)break;try{r=s(r)}catch(c){return void t.error(c)}}},e.dispatch=function(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(i){return void e.error(i)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(i){return void e.error(i)}if(!n)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(i){return void e.error(i)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}},e}(n.Observable);r.GenerateObservable=u},{"../Observable":5,"../util/isScheduler":333}],155:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../util/subscribeToResult"),s=t("../OuterSubscriber"),u=function(t){function e(e,r,i){t.call(this),this.condition=e,this.thenSource=r,this.elseSource=i}return i(e,t),e.create=function(t,r,i){return new e(t,r,i)},e.prototype._subscribe=function(t){var e=this,r=e.condition,i=e.thenSource,n=e.elseSource;return new c(t,r,i,n)},e}(n.Observable);r.IfObservable=u;var c=function(t){function e(e,r,i,n){t.call(this,e),this.condition=r,this.thenSource=i,this.elseSource=n,this.tryIf()}return i(e,t),e.prototype.tryIf=function(){var t,e=this,r=e.condition,i=e.thenSource,n=e.elseSource;try{t=r();var s=t?i:n;s?this.add(o.subscribeToResult(this,s)):this._complete()}catch(u){this._error(u)}},e}(s.OuterSubscriber)},{"../Observable":5,"../OuterSubscriber":7,"../util/subscribeToResult":337}],156:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../util/isNumeric"),o=t("../Observable"),s=t("../scheduler/async"),u=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=s.async),t.call(this),this.period=e,this.scheduler=r,(!n.isNumeric(e)||0>e)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=s.async)}return i(e,t),e.create=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=s.async),new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.subscriber,i=t.period;r.next(e),r.closed||(t.index+=1,this.schedule(t,i))},e.prototype._subscribe=function(t){var r=0,i=this.period,n=this.scheduler;t.add(n.schedule(e.dispatch,i,{index:r,subscriber:t,period:i}))},e}(o.Observable);r.IntervalObservable=u},{"../Observable":5,"../scheduler/async":305,"../util/isNumeric":330}],157:[function(t,e,r){function i(t){var e=t[l.$$iterator];if(!e&&"string"==typeof t)return new h(t);if(!e&&void 0!==t.length)return new p(t);if(!e)throw new TypeError("object is not iterable");return t[l.$$iterator]()}function n(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)),0>=e?0:e>f?f:e):e}function o(t){return"number"==typeof t&&c.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:0>e?-1:1}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=t("../util/root"),a=t("../Observable"),l=t("../symbol/iterator"),b=function(t){function e(e,r){if(t.call(this),this.scheduler=r,null==e)throw new Error("iterator cannot be null.");this.iterator=i(e)}return u(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,i=t.iterator,n=t.subscriber;if(r)return void n.error(t.error);var o=i.next();return o.done?void n.complete():(n.next(o.value),t.index=e+1,void(n.closed||this.schedule(t)))},e.prototype._subscribe=function(t){var r=0,i=this,n=i.iterator,o=i.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,iterator:n,subscriber:t});for(;;){var s=n.next();if(s.done){t.complete();break}if(t.next(s.value),t.closed)break}},e}(a.Observable);r.IteratorObservable=b;var h=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),p=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=n(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),f=Math.pow(2,53)-1},{"../Observable":5,"../symbol/iterator":307,"../util/root":336}],158:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../observable/ConnectableObservable"),s=function(t){function e(e,r,i){t.call(this),this.source=e,this.subjectFactory=r,this.selector=i}return i(e,t),e.prototype._subscribe=function(t){var e=this,r=e.selector,i=e.source,n=new o.ConnectableObservable(i,this.subjectFactory),s=r(n).subscribe(t);return s.add(n.connect()),s},e}(n.Observable);r.MulticastObservable=s},{"../Observable":5,"../observable/ConnectableObservable":146}],159:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../util/noop"),s=function(t){function e(){t.call(this)}return i(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(n.Observable);r.NeverObservable=s},{"../Observable":5,"../util/noop":334}],160:[function(t,e,r){function i(t){var e=t.obj,r=t.keys,i=t.length,n=t.index,o=t.subscriber;if(n===i)return void o.complete();var s=r[n];o.next([s,e[s]]),t.index=n+1,this.schedule(t)}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Observable"),s=function(t){function e(e,r){t.call(this),this.obj=e,this.scheduler=r,this.keys=Object.keys(e)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=e.keys,n=e.scheduler,o=r.length;if(n)return n.schedule(i,0,{obj:this.obj,keys:r,length:o,index:0,subscriber:t});for(var s=0;o>s;s++){var u=r[s];t.next([u,this.obj[u]])}t.complete()},e}(o.Observable);r.PairsObservable=s},{"../Observable":5}],161:[function(t,e,r){function i(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function n(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../util/root"),u=t("../Observable"),c=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return o(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(i,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(o.schedule(i,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(o.schedule(n,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(u.Observable);r.PromiseObservable=c},{"../Observable":5,"../util/root":336}],162:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=function(t){function e(e,r,i){t.call(this),this.start=e,this._count=r,this.scheduler=i}return i(e,t),e.create=function(t,r,i){return void 0===t&&(t=0),void 0===r&&(r=0),new e(t,r,i)},e.dispatch=function(t){var e=t.start,r=t.index,i=t.count,n=t.subscriber;return r>=i?void n.complete():(n.next(e),void(n.closed||(t.index=r+1,t.start=e+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,i=this.start,n=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,count:n,start:i,subscriber:t});for(;;){if(r++>=n){t.complete();break}if(t.next(i++),t.closed)break}},e}(n.Observable);r.RangeObservable=o},{"../Observable":5}],163:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return i(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,i=t.subscriber;return e?void i.complete():(i.next(r),void(i.closed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var r=this.value,i=this.scheduler;return i?i.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t}):(t.next(r),void(t.closed||t.complete()))},e}(n.Observable);r.ScalarObservable=o},{"../Observable":5}],164:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../scheduler/asap"),s=t("../util/isNumeric"),u=function(t){function e(e,r,i){void 0===r&&(r=0),void 0===i&&(i=o.asap),t.call(this),this.source=e,this.delayTime=r,this.scheduler=i,(!s.isNumeric(r)||0>r)&&(this.delayTime=0),i&&"function"==typeof i.schedule||(this.scheduler=o.asap)}return i(e,t),e.create=function(t,r,i){return void 0===r&&(r=0),void 0===i&&(i=o.asap),new e(t,r,i)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return e.subscribe(r)},e.prototype._subscribe=function(t){var r=this.delayTime,i=this.source,n=this.scheduler;return n.schedule(e.dispatch,r,{source:i,subscriber:t})},e}(n.Observable);r.SubscribeOnObservable=u},{"../Observable":5,"../scheduler/asap":304,"../util/isNumeric":330}],165:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../util/isNumeric"),o=t("../Observable"),s=t("../scheduler/async"),u=t("../util/isScheduler"),c=t("../util/isDate"),a=function(t){function e(e,r,i){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,n.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):u.isScheduler(r)&&(i=r),u.isScheduler(i)||(i=s.async),this.scheduler=i,this.dueTime=c.isDate(e)?+e-this.scheduler.now():e}return i(e,t),e.create=function(t,r,i){return void 0===t&&(t=0),new e(t,r,i)},e.dispatch=function(t){var e=t.index,r=t.period,i=t.subscriber,n=this;if(i.next(e),!i.closed){if(-1===r)return i.complete();t.index=e+1,n.schedule(t,r)}},e.prototype._subscribe=function(t){var r=0,i=this,n=i.period,o=i.dueTime,s=i.scheduler;return s.schedule(e.dispatch,o,{index:r,period:n,subscriber:t})},e}(o.Observable);r.TimerObservable=a},{"../Observable":5,"../scheduler/async":305,"../util/isDate":328,"../util/isNumeric":330,"../util/isScheduler":333}],166:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../util/subscribeToResult"),s=t("../OuterSubscriber"),u=function(t){function e(e,r){t.call(this),this.resourceFactory=e,this.observableFactory=r}return i(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e,r=this,i=r.resourceFactory,n=r.observableFactory;try{return e=i(),new c(t,e,n)}catch(o){t.error(o)}},e}(n.Observable);r.UsingObservable=u;var c=function(t){function e(e,r,i){t.call(this,e),this.resource=r,this.observableFactory=i,e.add(r),this.tryUse()}return i(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(o.subscribeToResult(this,t))}catch(e){this._error(e)}},e}(s.OuterSubscriber)},{"../Observable":5,"../OuterSubscriber":7,"../util/subscribeToResult":337}],167:[function(t,e,r){var i=t("./BoundCallbackObservable");r.bindCallback=i.BoundCallbackObservable.create},{"./BoundCallbackObservable":144}],168:[function(t,e,r){var i=t("./BoundNodeCallbackObservable");r.bindNodeCallback=i.BoundNodeCallbackObservable.create},{"./BoundNodeCallbackObservable":145}],169:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,i=null;return n.isScheduler(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0]),new s.ArrayObservable(t,i).lift(new u.CombineLatestOperator(r))}var n=t("../util/isScheduler"),o=t("../util/isArray"),s=t("./ArrayObservable"),u=t("../operator/combineLatest");r.combineLatest=i},{"../operator/combineLatest":203,"../util/isArray":327,"../util/isScheduler":333,"./ArrayObservable":143}],170:[function(t,e,r){var i=t("../operator/concat");r.concat=i.concatStatic},{"../operator/concat":204}],171:[function(t,e,r){var i=t("./DeferObservable");r.defer=i.DeferObservable.create},{"./DeferObservable":147}],172:[function(t,e,r){function i(){if(b.root.XMLHttpRequest){var t=new b.root.XMLHttpRequest;return"withCredentials"in t&&(t.withCredentials=!!this.withCredentials),t}if(b.root.XDomainRequest)return new b.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function n(){if(b.root.XMLHttpRequest)return new b.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;3>r;r++)try{if(t=e[r],new b.root.ActiveXObject(t))break}catch(i){}return new b.root.ActiveXObject(t)}catch(i){throw new Error("XMLHttpRequest is not supported by your browser")}}function o(t,e){return void 0===e&&(e=null),new v({method:"GET",url:t,headers:e})}function s(t,e,r){return new v({method:"POST",url:t,body:e,headers:r})}function u(t,e){return new v({method:"DELETE",url:t,headers:e})}function c(t,e,r){return new v({method:"PUT",url:t,body:e,headers:r})}function a(t,e){return new v({method:"GET",url:t,responseType:"json",headers:e}).map(function(t){return t.response})}var l=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},b=t("../../util/root"),h=t("../../util/tryCatch"),p=t("../../util/errorObject"),f=t("../../Observable"),d=t("../../Subscriber");r.ajaxGet=o,r.ajaxPost=s,r.ajaxDelete=u,r.ajaxPut=c,r.ajaxGetJSON=a;var v=function(t){function e(e){t.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?i.call(this):n()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)r.url=e;else for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);this.request=r}return l(e,t),e.prototype._subscribe=function(t){return new y(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=o,t.post=s,t["delete"]=u,t.put=c,t.getJSON=a,t}(),e}(f.Observable);r.AjaxObservable=v;var y=function(t){function e(e,r){t.call(this,e),this.request=r,this.done=!1;var i=r.headers=r.headers||{};r.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in i||b.root.FormData&&r.body instanceof b.root.FormData||"undefined"==typeof r.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return l(e,t),e.prototype.next=function(t){this.done=!0;var e=this,r=e.xhr,i=e.request,n=e.destination,o=new m(t,r,i);n.next(o)},e.prototype.send=function(){var t=this,e=t.request,r=t.request,i=r.user,n=r.method,o=r.url,s=r.async,u=r.password,c=r.headers,a=r.body,l=e.createXHR,b=h.tryCatch(l).call(e);if(b===p.errorObject)this.error(p.errorObject.e);else{this.xhr=b;var f=void 0;if(f=i?h.tryCatch(b.open).call(b,n,o,s,i,u):h.tryCatch(b.open).call(b,n,o,s),f===p.errorObject)return this.error(p.errorObject.e),null;b.timeout=e.timeout,b.responseType=e.responseType,this.setHeaders(b,c),this.setupEvents(b,e),a?b.send(a):b.send()}return b},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(b.root.FormData&&t instanceof b.root.FormData)return t;if(e){var r=e.indexOf(";");-1!==r&&(e=e.substring(0,r))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])},e.prototype.setupEvents=function(t,e){var r=e.progressSubscriber;t.ontimeout=function i(t){var e=i,r=e.subscriber,n=e.progressSubscriber,o=e.request;n&&n.error(t),r.error(new O(this,o))},t.ontimeout.request=e,t.ontimeout.subscriber=this,t.ontimeout.progressSubscriber=r,t.upload&&"withCredentials"in t&&b.root.XDomainRequest&&(r&&(t.onprogress=function n(t){var e=n.progressSubscriber;e.next(t)},t.onprogress.progressSubscriber=r),t.onerror=function o(t){var e=o,r=e.progressSubscriber,i=e.subscriber,n=e.request;r&&r.error(t),i.error(new _("ajax error",this,n))},t.onerror.request=e,t.onerror.subscriber=this,t.onerror.progressSubscriber=r),t.onreadystatechange=function s(t){var e=s,r=e.subscriber,i=e.progressSubscriber,n=e.request;if(4===this.readyState){var o=1223===this.status?204:this.status,u="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=u?200:0),o>=200&&300>o?(i&&i.complete(),r.next(t),r.complete()):(i&&i.error(t),r.error(new _("ajax error "+o,this,n)))}},t.onreadystatechange.subscriber=this,t.onreadystatechange.progressSubscriber=r,t.onreadystatechange.request=e},e.prototype.unsubscribe=function(){var e=this,r=e.done,i=e.xhr;!r&&i&&4!==i.readyState&&i.abort(),t.prototype.unsubscribe.call(this)},e}(d.Subscriber);r.AjaxSubscriber=y;var m=function(){function t(t,e,r){switch(this.originalEvent=t,this.xhr=e,this.request=r,this.status=e.status,this.responseType=e.responseType||r.responseType,this.responseType){case"json":"response"in e?this.response=e.responseType?e.response:JSON.parse(e.response||e.responseText||""):this.response=JSON.parse(e.responseText||"");break;case"xml":this.response=e.responseXML;break;case"text":default:this.response="response"in e?e.response:e.responseText}}return t}();r.AjaxResponse=m;var _=function(t){function e(e,r,i){t.call(this,e),this.message=e,this.xhr=r,this.request=i,this.status=r.status}return l(e,t),
e}(Error);r.AjaxError=_;var O=function(t){function e(e,r){t.call(this,"ajax timeout",e,r)}return l(e,t),e}(_);r.AjaxTimeoutError=O},{"../../Observable":5,"../../Subscriber":13,"../../util/errorObject":326,"../../util/root":336,"../../util/tryCatch":339}],173:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../../Subject"),o=t("../../Subscriber"),s=t("../../Observable"),u=t("../../Subscription"),c=t("../../util/root"),a=t("../../ReplaySubject"),l=t("../../util/tryCatch"),b=t("../../util/errorObject"),h=t("../../util/assign"),p=function(t){function e(e,r){if(e instanceof s.Observable)t.call(this,r,e);else{if(t.call(this),this.WebSocketCtor=c.root.WebSocket,this._output=new n.Subject,"string"==typeof e?this.url=e:h.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new a.ReplaySubject}}return i(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var r=new e(this,this.destination);return r.operator=t,r},e.prototype.multiplex=function(t,e,r){var i=this;return new s.Observable(function(n){var o=l.tryCatch(t)();o===b.errorObject?n.error(b.errorObject.e):i.next(o);var s=i.subscribe(function(t){var e=l.tryCatch(r)(t);e===b.errorObject?n.error(b.errorObject.e):e&&n.next(t)},function(t){return n.error(t)},function(){return n.complete()});return function(){var t=l.tryCatch(e)();t===b.errorObject?n.error(b.errorObject.e):i.next(t),s.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,r=this.protocol?new e(this.url,this.protocol):new e(this.url);this.socket=r;var i=new u.Subscription(function(){t.socket=null,r&&1===r.readyState&&r.close()}),n=this._output;r.onopen=function(e){var s=t.openObserver;s&&s.next(e);var u=t.destination;t.destination=o.Subscriber.create(function(t){return 1===r.readyState&&r.send(t)},function(e){var i=t.closingObserver;i&&i.next(void 0),e&&e.code?r.close(e.code,e.reason):n.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t.destination=new a.ReplaySubject,t.socket=null},function(){var e=t.closingObserver;e&&e.next(void 0),r.close(),t.destination=new a.ReplaySubject,t.socket=null}),u&&u instanceof a.ReplaySubject&&i.add(u.subscribe(t.destination))},r.onerror=function(t){return n.error(t)},r.onclose=function(e){var r=t.closeObserver;r&&r.next(e),e.wasClean?n.complete():n.error(e)},r.onmessage=function(e){var r=l.tryCatch(t.resultSelector)(e);r===b.errorObject?n.error(b.errorObject.e):n.next(r)}},e.prototype._subscribe=function(t){var e=this,r=this.source;if(r)return r.subscribe(t);this.socket||this._connectSocket();var i=new u.Subscription;return i.add(this._output.subscribe(t)),i.add(function(){var t=e.socket;0===e._output.observers.length&&t&&1===t.readyState&&(t.close(),e.socket=null)}),i},e.prototype.unsubscribe=function(){var e=this,r=e.source,i=e.socket;i&&1===i.readyState&&(i.close(),this.socket=null),t.prototype.unsubscribe.call(this),r||(this.destination=new a.ReplaySubject)},e}(n.AnonymousSubject);r.WebSocketSubject=p},{"../../Observable":5,"../../ReplaySubject":8,"../../Subject":11,"../../Subscriber":13,"../../Subscription":14,"../../util/assign":325,"../../util/errorObject":326,"../../util/root":336,"../../util/tryCatch":339}],174:[function(t,e,r){var i=t("./AjaxObservable");r.ajax=i.AjaxObservable.create},{"./AjaxObservable":172}],175:[function(t,e,r){var i=t("./WebSocketSubject");r.webSocket=i.WebSocketSubject.create},{"./WebSocketSubject":173}],176:[function(t,e,r){var i=t("./EmptyObservable");r.empty=i.EmptyObservable.create},{"./EmptyObservable":148}],177:[function(t,e,r){var i=t("./ForkJoinObservable");r.forkJoin=i.ForkJoinObservable.create},{"./ForkJoinObservable":150}],178:[function(t,e,r){var i=t("./FromObservable");r.from=i.FromObservable.create},{"./FromObservable":153}],179:[function(t,e,r){var i=t("./FromEventObservable");r.fromEvent=i.FromEventObservable.create},{"./FromEventObservable":151}],180:[function(t,e,r){var i=t("./FromEventPatternObservable");r.fromEventPattern=i.FromEventPatternObservable.create},{"./FromEventPatternObservable":152}],181:[function(t,e,r){var i=t("./PromiseObservable");r.fromPromise=i.PromiseObservable.create},{"./PromiseObservable":161}],182:[function(t,e,r){var i=t("./IfObservable");r._if=i.IfObservable.create},{"./IfObservable":155}],183:[function(t,e,r){var i=t("./IntervalObservable");r.interval=i.IntervalObservable.create},{"./IntervalObservable":156}],184:[function(t,e,r){var i=t("../operator/merge");r.merge=i.mergeStatic},{"../operator/merge":239}],185:[function(t,e,r){var i=t("./NeverObservable");r.never=i.NeverObservable.create},{"./NeverObservable":159}],186:[function(t,e,r){var i=t("./ArrayObservable");r.of=i.ArrayObservable.of},{"./ArrayObservable":143}],187:[function(t,e,r){var i=t("./PairsObservable");r.pairs=i.PairsObservable.create},{"./PairsObservable":160}],188:[function(t,e,r){var i=t("./RangeObservable");r.range=i.RangeObservable.create},{"./RangeObservable":162}],189:[function(t,e,r){var i=t("./ErrorObservable");r._throw=i.ErrorObservable.create},{"./ErrorObservable":149}],190:[function(t,e,r){var i=t("./TimerObservable");r.timer=i.TimerObservable.create},{"./TimerObservable":165}],191:[function(t,e,r){var i=t("./UsingObservable");r.using=i.UsingObservable.create},{"./UsingObservable":166}],192:[function(t,e,r){var i=t("../operator/zip");r.zip=i.zipStatic},{"../operator/zip":291}],193:[function(t,e,r){function i(t){return this.lift(new a(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../util/tryCatch"),s=t("../util/errorObject"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.audit=i;var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.durationSelector))},t}(),l=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1}return n(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=o.tryCatch(this.durationSelector)(t);e===s.errorObject?this.destination.error(s.errorObject.e):this.add(this.throttled=c.subscribeToResult(this,e))}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,i=t.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,r,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(u.OuterSubscriber)},{"../OuterSubscriber":7,"../util/errorObject":326,"../util/subscribeToResult":337,"../util/tryCatch":339}],194:[function(t,e,r){function i(t,e){return void 0===e&&(e=s.async),this.lift(new c(t,e))}function n(t){t.clearThrottle()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../scheduler/async"),u=t("../Subscriber");r.auditTime=i;var c=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.duration,this.scheduler))},t}(),a=function(t){function e(e,r,i){t.call(this,e),this.duration=r,this.scheduler=i,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(n,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,i=t.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(u.Subscriber)},{"../Subscriber":13,"../scheduler/async":305}],195:[function(t,e,r){function i(t){return this.lift(new u(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.buffer=i;var u=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.closingNotifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.buffer=[],this.add(s.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],196:[function(t,e,r){function i(t,e){return void 0===e&&(e=null),this.lift(new s(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.bufferCount=i;var s=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.bufferSize,this.startBufferEvery))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.bufferSize=r,this.startBufferEvery=i,this.buffers=[[]],this.count=0}return n(e,t),e.prototype._next=function(t){var e=this.count+=1,r=this.destination,i=this.bufferSize,n=null==this.startBufferEvery?i:this.startBufferEvery,o=this.buffers,s=o.length,u=-1;e%n===0&&o.push([]);for(var c=0;s>c;c++){var a=o[c];a.push(t),a.length===i&&(u=c,r.next(a))}-1!==u&&o.splice(u,1)},e.prototype._complete=function(){for(var e=this.destination,r=this.buffers;r.length>0;){var i=r.shift();i.length>0&&e.next(i)}t.prototype._complete.call(this)},e}(o.Subscriber)},{"../Subscriber":13}],197:[function(t,e,r){function i(t){var e=arguments.length,r=c.async;l.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var i=null;e>=2&&(i=arguments[1]);var n=Number.POSITIVE_INFINITY;return e>=3&&(n=arguments[2]),this.lift(new b(t,i,n,r))}function n(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function o(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,i=t.subscriber,n=t.scheduler,o=i.openContext(),u=this;i.closed||(i.add(o.closeAction=n.schedule(s,r,{subscriber:i,context:o})),u.schedule(t,e))}function s(t){var e=t.subscriber,r=t.context;e.closeContext(r)}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=t("../scheduler/async"),a=t("../Subscriber"),l=t("../util/isScheduler");r.bufferTime=i;var b=function(){function t(t,e,r,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new p(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),h=function(){function t(){this.buffer=[]}return t}(),p=function(t){function e(e,r,i,u,c){t.call(this,e),this.bufferTimeSpan=r,this.bufferCreationInterval=i,this.maxBufferSize=u,this.scheduler=c,this.contexts=[];var a=this.openContext();if(this.timespanOnly=null==i||0>i,this.timespanOnly){var l={subscriber:this,context:a,bufferTimeSpan:r};this.add(a.closeAction=c.schedule(n,r,l))}else{var b={subscriber:this,context:a},h={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:this,scheduler:c};this.add(a.closeAction=c.schedule(s,r,b)),this.add(c.schedule(o,i,h))}}return u(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,i=r.length,n=0;i>n;n++){var o=r[n],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,r=e.contexts,i=e.destination;r.length>0;){var n=r.shift();i.next(n.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,i={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(n,r,i))}},e.prototype.openContext=function(){var t=new h;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts,r=e?e.indexOf(t):-1;r>=0&&e.splice(e.indexOf(t),1)},e}(a.Subscriber)},{"../Subscriber":13,"../scheduler/async":305,"../util/isScheduler":333}],198:[function(t,e,r){function i(t,e){return this.lift(new c(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscription"),s=t("../util/subscribeToResult"),u=t("../OuterSubscriber");r.bufferToggle=i;var c=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.openings,this.closingSelector))},t}(),a=function(t){function e(e,r,i){t.call(this,e),this.openings=r,this.closingSelector=i,this.contexts=[],this.add(s.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,i=0;r>i;i++)e[i].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,r=e.call(this,t);r&&this.trySubscribe(r)}catch(i){this._error(i)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,i=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(i),i.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=[],i=new o.Subscription,n={buffer:r,subscription:i};e.push(n);var u=s.subscribeToResult(this,t,n);!u||u.closed?this.closeBuffer(n):(u.context=n,this.add(u),i.add(u))},e}(u.OuterSubscriber)},{"../OuterSubscriber":7,"../Subscription":14,"../util/subscribeToResult":337}],199:[function(t,e,r){function i(t){return this.lift(new l(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscription"),s=t("../util/tryCatch"),u=t("../util/errorObject"),c=t("../OuterSubscriber"),a=t("../util/subscribeToResult");r.bufferWhen=i;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new b(t,this.closingSelector))},t}(),b=function(t){function e(e,r){t.call(this,e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return n(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,i,n){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=s.tryCatch(this.closingSelector)();r===u.errorObject?this.error(u.errorObject.e):(t=new o.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(a.subscribeToResult(this,r)),this.subscribing=!1)},e}(c.OuterSubscriber)},{"../OuterSubscriber":7,"../Subscription":14,"../util/errorObject":326,"../util/subscribeToResult":337,"../util/tryCatch":339}],200:[function(t,e,r){function i(t,e,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY);var i,s,u=this,c=0,a=function(){return i=new o.ReplaySubject(t,e,r)};return new n.Observable(function(t){i||(i=a(),s=u.subscribe(function(t){return i.next(t)},function(t){var e=i;i=null,e.error(t)},function(){return i.complete()})),c++,i||(i=a());var e=i.subscribe(t);return function(){c--,e&&e.unsubscribe(),0===c&&s.unsubscribe()}})}var n=t("../Observable"),o=t("../ReplaySubject");r.cache=i},{"../Observable":5,"../ReplaySubject":8}],201:[function(t,e,r){function i(t){var e=new u(t),r=this.lift(e);return e.caught=r}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r._catch=i;var u=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.selector,this.caught))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.selector=r,this.caught=i}return n(e,t),e.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void this.destination.error(t)}this.unsubscribe(),this.destination.remove(this),s.subscribeToResult(this,e)}},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],202:[function(t,e,r){function i(t){return this.lift(new n.CombineLatestOperator(t))}var n=t("./combineLatest");r.combineAll=i},{"./combineLatest":203}],203:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),t.unshift(this),new o.ArrayObservable(t).lift(new l(r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../observable/ArrayObservable"),s=t("../util/isArray"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult"),a={};r.combineLatest=i;var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new b(t,this.project))},t}();r.CombineLatestOperator=l;var b=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[]}return n(e,t),e.prototype._next=function(t){this.values.push(a),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;e>r;r++){var i=t[r];this.add(c.subscribeToResult(this,i,i,r))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.values,s=o[r],u=this.toRespond?s===a?--this.toRespond:this.toRespond:0;o[r]=e,0===u&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(u.OuterSubscriber);r.CombineLatestSubscriber=b},{"../OuterSubscriber":7,"../observable/ArrayObservable":143,"../util/isArray":327,"../util/subscribeToResult":337}],204:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.apply(void 0,[this].concat(t))}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,i=t;return o.isScheduler(i[t.length-1])&&(r=i.pop()),new s.ArrayObservable(t,r).lift(new u.MergeAllOperator(1))}var o=t("../util/isScheduler"),s=t("../observable/ArrayObservable"),u=t("./mergeAll");r.concat=i,r.concatStatic=n},{"../observable/ArrayObservable":143,"../util/isScheduler":333,"./mergeAll":240}],205:[function(t,e,r){function i(){return this.lift(new n.MergeAllOperator(1))}var n=t("./mergeAll");r.concatAll=i},{"./mergeAll":240}],206:[function(t,e,r){function i(t,e){return this.lift(new n.MergeMapOperator(t,e,1))}var n=t("./mergeMap");r.concatMap=i},{"./mergeMap":241}],207:[function(t,e,r){function i(t,e){return this.lift(new n.MergeMapToOperator(t,e,1))}var n=t("./mergeMapTo");r.concatMapTo=i},{"./mergeMapTo":242}],208:[function(t,e,r){function i(t){return this.lift(new s(t,this))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.count=i;var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.source))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.predicate=r,this.source=i,this.count=0,this.index=0}return n(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(o.Subscriber)},{"../Subscriber":13}],209:[function(t,e,r){function i(t){return this.lift(new u(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.debounce=i;var u=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return n(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=s.subscribeToResult(this,e),r.closed||this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,i,n){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],210:[function(t,e,r){function i(t,e){return void 0===e&&(e=u.async),this.lift(new c(t,e))}function n(t){t.debouncedNext()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../Subscriber"),u=t("../scheduler/async");r.debounceTime=i;var c=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.dueTime,this.scheduler))},t}(),a=function(t){function e(e,r,i){t.call(this,e),this.dueTime=r,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(n,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(s.Subscriber)},{"../Subscriber":13,"../scheduler/async":305}],211:[function(t,e,r){function i(t){return void 0===t&&(t=null),this.lift(new s(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.defaultIfEmpty=i;var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.defaultValue))},t}(),u=function(t){function e(e,r){t.call(this,e),this.defaultValue=r,this.isEmpty=!0}return n(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(o.Subscriber)},{"../Subscriber":13}],212:[function(t,e,r){function i(t,e){void 0===e&&(e=o.async);var r=s.isDate(t),i=r?+t-e.now():Math.abs(t);return this.lift(new a(i,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../scheduler/async"),s=t("../util/isDate"),u=t("../Subscriber"),c=t("../Notification");r.delay=i;var a=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,r,i){t.call(this,e),this.delay=r,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}return n(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,i=t.scheduler,n=t.destination;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(n);if(r.length>0){var o=Math.max(0,r[0].time-i.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var e=this.scheduler,r=new b(e.now()+this.delay,t);this.queue.push(r),this.active===!1&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(c.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(c.Notification.createComplete())},e}(u.Subscriber),b=function(){function t(t,e){this.time=t,this.notification=e}return t}()},{"../Notification":4,"../Subscriber":13,"../scheduler/async":305,"../util/isDate":328}],213:[function(t,e,r){function i(t,e){return e?new b(this,e).lift(new a(t)):this.lift(new a(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../Observable"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.delayWhen=i;var a=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.delayDurationSelector))},t}(),l=function(t){function e(e,r){t.call(this,e),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return n(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(t),this.removeSubscription(n),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),r=null;return-1!==e&&(r=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),r},e.prototype.tryDelay=function(t,e){var r=c.subscribeToResult(this,t,e);this.add(r),this.delayNotifierSubscriptions.push(r),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(u.OuterSubscriber),b=function(t){function e(e,r){t.call(this),this.source=e,this.subscriptionDelay=r}return n(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new h(t,this.source))},e}(s.Observable),h=function(t){function e(e,r){t.call(this),this.parent=e,this.source=r,this.sourceSubscribed=!1}return n(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(o.Subscriber)},{"../Observable":5,"../OuterSubscriber":7,"../Subscriber":13,"../util/subscribeToResult":337}],214:[function(t,e,r){function i(){return this.lift(new s)}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.dematerialize=i;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return n(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(o.Subscriber)},{"../Subscriber":13}],215:[function(t,e,r){function i(t,e){return this.lift(new u(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.distinct=i;var u=function(){function t(t,e){this.compare=t,this.flushes=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.compare,this.flushes))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.values=[],"function"==typeof r&&(this.compare=r),i&&this.add(s.subscribeToResult(this,i))}return n(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values.length=0},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){var e=!1,r=this.values,i=r.length;try{for(var n=0;i>n;n++)if(this.compare(r[n],t))return void(e=!0)}catch(o){return void this.destination.error(o)}this.values.push(t),this.destination.next(t)},e.prototype.compare=function(t,e){return t===e},e}(o.OuterSubscriber);r.DistinctSubscriber=c},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],216:[function(t,e,r){function i(t,e,r){return n.distinct.call(this,function(r,i){return e?e(r[t],i[t]):r[t]===i[t]},r)}var n=t("./distinct");r.distinctKey=i},{"./distinct":215}],217:[function(t,e,r){function i(t,e){return this.lift(new c(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../util/tryCatch"),u=t("../util/errorObject");r.distinctUntilChanged=i;var c=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.compare,this.keySelector));
},t}(),a=function(t){function e(e,r,i){t.call(this,e),this.keySelector=i,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,r=t;if(e&&(r=s.tryCatch(this.keySelector)(t),r===u.errorObject))return this.destination.error(u.errorObject.e);var i=!1;if(this.hasKey){if(i=s.tryCatch(this.compare)(this.key,r),i===u.errorObject)return this.destination.error(u.errorObject.e)}else this.hasKey=!0;Boolean(i)===!1&&(this.key=r,this.destination.next(t))},e}(o.Subscriber)},{"../Subscriber":13,"../util/errorObject":326,"../util/tryCatch":339}],218:[function(t,e,r){function i(t,e){return n.distinctUntilChanged.call(this,function(r,i){return e?e(r[t],i[t]):r[t]===i[t]})}var n=t("./distinctUntilChanged");r.distinctUntilKeyChanged=i},{"./distinctUntilChanged":217}],219:[function(t,e,r){function i(t,e,r){return this.lift(new s(t,e,r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r._do=i;var s=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.nextOrObserver,this.error,this.complete))},t}(),u=function(t){function e(e,r,i,n){t.call(this,e);var s=new o.Subscriber(r,i,n);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return n(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},{"../Subscriber":13}],220:[function(t,e,r){function i(t,e){return this.lift(new u(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError");r.elementAt=i;var u=function(){function t(t,e){if(this.index=t,this.defaultValue=e,0>t)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.index,this.defaultValue))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.index=r,this.defaultValue=i}return n(e,t),e.prototype._next=function(t){0===this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?t.next(this.defaultValue):t.error(new s.ArgumentOutOfRangeError)),t.complete()},e}(o.Subscriber)},{"../Subscriber":13,"../util/ArgumentOutOfRangeError":316}],221:[function(t,e,r){function i(t,e){return this.lift(new s(t,e,this))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.every=i;var s=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.thisArg,this.source))},t}(),u=function(t){function e(e,r,i,n){t.call(this,e),this.predicate=r,this.thisArg=i,this.source=n,this.index=0,this.thisArg=i||this}return n(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},{"../Subscriber":13}],222:[function(t,e,r){function i(){return this.lift(new u)}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.exhaust=i;var u=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return n(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(s.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],223:[function(t,e,r){function i(t,e){return this.lift(new u(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.exhaustMap=i;var u=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.resultSelector))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.project=r,this.resultSelector=i,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return n(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var i=this.project(t,e);this.hasSubscription=!0,this.add(s.subscribeToResult(this,i,t,e))}catch(n){r.error(n)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,i):u.next(e)},e.prototype.trySelectResult=function(t,e,r,i){var n=this,o=n.resultSelector,s=n.destination;try{var u=o(t,e,r,i);s.next(u)}catch(c){s.error(c)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],224:[function(t,e,r){function i(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=1>(e||0)?Number.POSITIVE_INFINITY:e,this.lift(new a(t,e,r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../util/tryCatch"),s=t("../util/errorObject"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.expand=i;var a=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.project,this.concurrent,this.scheduler))},t}();r.ExpandOperator=a;var l=function(t){function e(e,r,i,n){t.call(this,e),this.project=r,this.concurrent=i,this.scheduler=n,this.index=0,this.active=0,this.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(this.buffer=[])}return n(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,i=t.value,n=t.index;e.subscribeToProjection(r,i,n)},e.prototype._next=function(t){var r=this.destination;if(r.closed)return void this._complete();var i=this.index++;if(this.active<this.concurrent){r.next(t);var n=o.tryCatch(this.project)(t,i);if(n===s.errorObject)r.error(s.errorObject.e);else if(this.scheduler){var u={subscriber:this,result:n,value:t,index:i};this.add(this.scheduler.schedule(e.dispatch,0,u))}else this.subscribeToProjection(n,t,i)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(c.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(u.OuterSubscriber);r.ExpandSubscriber=l},{"../OuterSubscriber":7,"../util/errorObject":326,"../util/subscribeToResult":337,"../util/tryCatch":339}],225:[function(t,e,r){function i(t,e){return this.lift(new s(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.filter=i;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.thisArg))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.predicate=r,this.thisArg=i,this.count=0,this.predicate=r}return n(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},e}(o.Subscriber)},{"../Subscriber":13}],226:[function(t,e,r){function i(t){return this.lift(new u(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../Subscription");r._finally=i;var u=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.callback))},t}(),c=function(t){function e(e,r){t.call(this,e),this.add(new s.Subscription(r))}return n(e,t),e}(o.Subscriber)},{"../Subscriber":13,"../Subscription":14}],227:[function(t,e,r){function i(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return this.lift(new s(t,this,!1,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.find=i;var s=function(){function t(t,e,r,i){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=i}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();r.FindValueOperator=s;var u=function(t){function e(e,r,i,n,o){t.call(this,e),this.predicate=r,this.source=i,this.yieldIndex=n,this.thisArg=o,this.index=0}return n(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,r=e.predicate,i=e.thisArg,n=this.index++;try{var o=r.call(i||this,t,n,this.source);o&&this.notifyComplete(this.yieldIndex?n:t)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(o.Subscriber);r.FindValueSubscriber=u},{"../Subscriber":13}],228:[function(t,e,r){function i(t,e){return this.lift(new n.FindValueOperator(t,this,!0,e))}var n=t("./find");r.findIndex=i},{"./find":227}],229:[function(t,e,r){function i(t,e,r){return this.lift(new u(t,e,r,this))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../util/EmptyError");r.first=i;var u=function(){function t(t,e,r,i){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=i}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,r,i,n,o){t.call(this,e),this.predicate=r,this.resultSelector=i,this.defaultValue=n,this.source=o,this.index=0,this.hasCompleted=!1}return n(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(i){return void this.destination.error(i)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(i){return void this.destination.error(i)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;e.next(t),e.complete(),this.hasCompleted=!0},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},{"../Subscriber":13,"../util/EmptyError":317}],230:[function(t,e,r){function i(t,e,r){return this.lift(new b(this,t,e,r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../Subscription"),u=t("../Observable"),c=t("../Subject"),a=t("../util/Map"),l=t("../util/FastMap");r.groupBy=i;var b=function(){function t(t,e,r,i){this.source=t,this.keySelector=e,this.elementSelector=r,this.durationSelector=i}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.keySelector,this.elementSelector,this.durationSelector))},t}(),h=function(t){function e(e,r,i,n){t.call(this,e),this.keySelector=r,this.elementSelector=i,this.durationSelector=n,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return n(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups="string"==typeof e?new l.FastMap:new a.Map);var i,n=r.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(o){this.error(o)}else i=t;if(!n){r.set(e,n=new c.Subject);var s=new f(e,n,this);if(this.destination.next(s),this.durationSelector){var u=void 0;try{u=this.durationSelector(new f(e,n))}catch(o){return void this.error(o)}this.add(u.subscribe(new p(e,n,this)))}}n.closed||n.next(i)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups["delete"](t)},e.prototype.unsubscribe=function(){this.closed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.Subscriber),p=function(t){function e(e,r,i){t.call(this),this.key=e,this.group=r,this.parent=i}return n(e,t),e.prototype._next=function(t){this._complete()},e.prototype._error=function(t){var e=this.group;e.closed||e.error(t),this.parent.removeGroup(this.key)},e.prototype._complete=function(){var t=this.group;t.closed||t.complete(),this.parent.removeGroup(this.key)},e}(o.Subscriber),f=function(t){function e(e,r,i){t.call(this),this.key=e,this.groupSubject=r,this.refCountSubscription=i}return n(e,t),e.prototype._subscribe=function(t){var e=new s.Subscription,r=this,i=r.refCountSubscription,n=r.groupSubject;return i&&!i.closed&&e.add(new d(i)),e.add(n.subscribe(t)),e},e}(u.Observable);r.GroupedObservable=f;var d=function(t){function e(e){t.call(this),this.parent=e,e.count++}return n(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.Subscription)},{"../Observable":5,"../Subject":11,"../Subscriber":13,"../Subscription":14,"../util/FastMap":318,"../util/Map":320}],231:[function(t,e,r){function i(){return this.lift(new u)}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../util/noop");r.ignoreElements=i;var u=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype._next=function(t){s.noop()},e}(o.Subscriber)},{"../Subscriber":13,"../util/noop":334}],232:[function(t,e,r){function i(){return this.lift(new s)}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.isEmpty=i;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return n(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},{"../Subscriber":13}],233:[function(t,e,r){function i(t,e,r){return this.lift(new u(t,e,r,this))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../util/EmptyError");r.last=i;var u=function(){function t(t,e,r,i){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=i}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,r,i,n,o){t.call(this,e),this.predicate=r,this.resultSelector=i,this.defaultValue=n,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof n&&(this.lastValue=n,this.hasValue=!0)}return n(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(i){return void this.destination.error(i)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(i){return void this.destination.error(i)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},{"../Subscriber":13,"../util/EmptyError":317}],234:[function(t,e,r){function i(t){return t(this)}r.letProto=i},{}],235:[function(t,e,r){function i(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.map=i;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.project,this.thisArg))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.project=r,this.count=0,this.thisArg=i||this}return n(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(o.Subscriber)},{"../Subscriber":13}],236:[function(t,e,r){function i(t){return this.lift(new s(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.mapTo=i;var s=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.value))},t}(),u=function(t){function e(e,r){t.call(this,e),this.value=r}return n(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},{"../Subscriber":13}],237:[function(t,e,r){function i(){return this.lift(new u)}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../Notification");r.materialize=i;var u=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e)}return n(e,t),e.prototype._next=function(t){this.destination.next(s.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(s.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(s.Notification.createComplete()),t.complete()},e}(o.Subscriber)},{"../Notification":4,"../Subscriber":13}],238:[function(t,e,r){function i(t){var e="function"==typeof t?t:function(t,e){return t>e?t:e};return this.lift(new n.ReduceOperator(e))}var n=t("./reduce");r.max=i},{"./reduce":256}],239:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),n.apply(this,t)}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,i=null,n=t[t.length-1];return u.isScheduler(n)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof n&&(r=t.pop()),1===t.length?t[0]:new o.ArrayObservable(t,i).lift(new s.MergeAllOperator(r))}var o=t("../observable/ArrayObservable"),s=t("./mergeAll"),u=t("../util/isScheduler");r.merge=i,r.mergeStatic=n},{"../observable/ArrayObservable":143,"../util/isScheduler":333,"./mergeAll":240}],240:[function(t,e,r){function i(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new u(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.mergeAll=i;var u=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.concurrent))},t}();r.MergeAllOperator=u;var c=function(t){function e(e,r){t.call(this,e),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return n(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);r.MergeAllSubscriber=c},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],241:[function(t,e,r){function i(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new u(t,e,r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../util/subscribeToResult"),s=t("../OuterSubscriber");r.mergeMap=i;var u=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.resultSelector,this.concurrent))},t}();r.MergeMapOperator=u;var c=function(t){function e(e,r,i,n){void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=i,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(o.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.resultSelector?this._notifyResultSelector(t,e,r,i):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,i){var n;try{n=this.resultSelector(t,e,r,i)}catch(o){return void this.destination.error(o)}this.destination.next(n)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);r.MergeMapSubscriber=c},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],242:[function(t,e,r){function i(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new u(t,e,r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.mergeMapTo=i;var u=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.ish,this.resultSelector,this.concurrent))},t}();r.MergeMapToOperator=u;var c=function(t){function e(e,r,i,n){void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=r,this.resultSelector=i,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,r=this.index++,i=this.ish,n=this.destination;this.active++,this._innerSub(i,n,e,t,r)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r,i,n){this.add(s.subscribeToResult(this,t,i,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,i):u.next(e)},e.prototype.trySelectResult=function(t,e,r,i){var n,o=this,s=o.resultSelector,u=o.destination;try{n=s(t,e,r,i)}catch(c){return void u.error(c)}u.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);r.MergeMapToSubscriber=c},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],243:[function(t,e,r){function i(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new a(t,e,r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../util/tryCatch"),s=t("../util/errorObject"),u=t("../util/subscribeToResult"),c=t("../OuterSubscriber");r.mergeScan=i;var a=function(){function t(t,e,r){this.project=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.project,this.seed,this.concurrent))},t}();r.MergeScanOperator=a;var l=function(t){function e(e,r,i,n){t.call(this,e),this.project=r,this.acc=i,this.concurrent=n,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=o.tryCatch(this.project)(this.acc,t),i=this.destination;r===s.errorObject?i.error(s.errorObject.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){this.add(u.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(c.OuterSubscriber);r.MergeScanSubscriber=l},{"../OuterSubscriber":7,"../util/errorObject":326,"../util/subscribeToResult":337,"../util/tryCatch":339}],244:[function(t,e,r){function i(t){var e="function"==typeof t?t:function(t,e){return e>t?t:e};return this.lift(new n.ReduceOperator(e))}var n=t("./reduce");r.min=i},{"./reduce":256}],245:[function(t,e,r){function i(t,e){var r;return r="function"==typeof t?t:function(){return t},e?new n.MulticastObservable(this,r,e):new o.ConnectableObservable(this,r)}var n=t("../observable/MulticastObservable"),o=t("../observable/ConnectableObservable");r.multicast=i},{"../observable/ConnectableObservable":146,"../observable/MulticastObservable":158}],246:[function(t,e,r){function i(t,e){return void 0===e&&(e=0),this.lift(new u(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../Notification");r.observeOn=i;var u=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.scheduler,this.delay))},t}();r.ObserveOnOperator=u;var c=function(t){function e(e,r,i){void 0===i&&(i=0),t.call(this,e),this.scheduler=r,this.delay=i}return n(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r)},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(o.Subscriber);r.ObserveOnSubscriber=c;var a=function(){function t(t,e){this.notification=t,this.destination=e}return t}();r.ObserveOnMessage=a},{"../Notification":4,"../Subscriber":13}],247:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&u.isArray(t[0])&&(t=t[0]),this.lift(new l(t))}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return 1===t.length&&u.isArray(t[0])&&(t=t[0]),r=t.shift(),new s.FromObservable(r,null).lift(new l(t))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../observable/FromObservable"),u=t("../util/isArray"),c=t("../OuterSubscriber"),a=t("../util/subscribeToResult");r.onErrorResumeNext=i,r.onErrorResumeNextStatic=n;var l=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e._subscribe(new b(t,this.nextSources))},t}(),b=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return o(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){
this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(a.subscribeToResult(this,t)):this.destination.complete()},e}(c.OuterSubscriber)},{"../OuterSubscriber":7,"../observable/FromObservable":153,"../util/isArray":327,"../util/subscribeToResult":337}],248:[function(t,e,r){function i(){return this.lift(new s)}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.pairwise=i;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return n(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(o.Subscriber)},{"../Subscriber":13}],249:[function(t,e,r){function i(t,e){return[o.filter.call(this,t),o.filter.call(this,n.not(t,e))]}var n=t("../util/not"),o=t("./filter");r.partition=i},{"../util/not":335,"./filter":225}],250:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return o.map.call(this,n(t,r))}function n(t,e){var r=function(r){for(var i=r,n=0;e>n;n++){var o=i[t[n]];if("undefined"==typeof o)return;i=o}return i};return r}var o=t("./map");r.pluck=i},{"./map":235}],251:[function(t,e,r){function i(t){return t?o.multicast.call(this,function(){return new n.Subject},t):o.multicast.call(this,new n.Subject)}var n=t("../Subject"),o=t("./multicast");r.publish=i},{"../Subject":11,"./multicast":245}],252:[function(t,e,r){function i(t){return o.multicast.call(this,new n.BehaviorSubject(t))}var n=t("../BehaviorSubject"),o=t("./multicast");r.publishBehavior=i},{"../BehaviorSubject":2,"./multicast":245}],253:[function(t,e,r){function i(){return o.multicast.call(this,new n.AsyncSubject)}var n=t("../AsyncSubject"),o=t("./multicast");r.publishLast=i},{"../AsyncSubject":1,"./multicast":245}],254:[function(t,e,r){function i(t,e,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),o.multicast.call(this,new n.ReplaySubject(t,e,r))}var n=t("../ReplaySubject"),o=t("./multicast");r.publishReplay=i},{"../ReplaySubject":8,"./multicast":245}],255:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&s.isArray(t[0])&&(t=t[0]),t.unshift(this),n.apply(this,t)}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!s.isArray(t[0]))return t[0];t=t[0]}return new u.ArrayObservable(t).lift(new l)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../util/isArray"),u=t("../observable/ArrayObservable"),c=t("../OuterSubscriber"),a=t("../util/subscribeToResult");r.race=i,r.raceStatic=n;var l=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new b(t))},t}();r.RaceOperator=l;var b=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;e>r;r++){var i=t[r],n=a.subscribeToResult(this,i,i,r);this.subscriptions&&(this.subscriptions.push(n),this.add(n))}this.observables=null}},e.prototype.notifyNext=function(t,e,r,i,n){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(c.OuterSubscriber);r.RaceSubscriber=b},{"../OuterSubscriber":7,"../observable/ArrayObservable":143,"../util/isArray":327,"../util/subscribeToResult":337}],256:[function(t,e,r){function i(t,e){return this.lift(new s(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.reduce=i;var s=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.accumulator,this.seed))},t}();r.ReduceOperator=s;var u=function(t){function e(e,r,i){t.call(this,e),this.accumulator=r,this.hasValue=!1,this.acc=i,this.accumulator=r,this.hasSeed="undefined"!=typeof i}return n(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t)}catch(r){return void this.destination.error(r)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);r.ReduceSubscriber=u},{"../Subscriber":13}],257:[function(t,e,r){function i(t){return void 0===t&&(t=-1),0===t?new s.EmptyObservable:0>t?this.lift(new u(-1,this)):this.lift(new u(t-1,this))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../observable/EmptyObservable");r.repeat=i;var u=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.count,this.source))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.count=r,this.source=i}return n(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,r=e.source,i=e.count;if(0===i)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,r.subscribe(this)}},e}(o.Subscriber)},{"../Subscriber":13,"../observable/EmptyObservable":148}],258:[function(t,e,r){function i(t){return void 0===t&&(t=-1),this.lift(new s(t,this))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.retry=i;var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.count=r,this.source=i}return n(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this,i=r.source,n=r.count;if(0===n)return t.prototype.error.call(this,e);n>-1&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,i.subscribe(this)}},e}(o.Subscriber)},{"../Subscriber":13}],259:[function(t,e,r){function i(t){return this.lift(new l(t,this))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subject"),s=t("../util/tryCatch"),u=t("../util/errorObject"),c=t("../OuterSubscriber"),a=t("../util/subscribeToResult");r.retryWhen=i;var l=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new b(t,this.notifier,this.source))},t}(),b=function(t){function e(e,r,i){t.call(this,e),this.notifier=r,this.source=i}return n(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,i=this.retries,n=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{if(r=new o.Subject,i=s.tryCatch(this.notifier)(r),i===u.errorObject)return t.prototype.error.call(this,u.errorObject.e);n=a.subscribeToResult(this,i)}this.unsubscribe(),this.closed=!1,this.errors=r,this.retries=i,this.retriesSubscription=n,r.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,r=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.errors,u=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.errors=s,this.retries=u,this.retriesSubscription=c,this.source.subscribe(this)},e}(c.OuterSubscriber)},{"../OuterSubscriber":7,"../Subject":11,"../util/errorObject":326,"../util/subscribeToResult":337,"../util/tryCatch":339}],260:[function(t,e,r){function i(t){return this.lift(new u(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.sample=i;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.add(s.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,i,n){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],261:[function(t,e,r){function i(t,e){return void 0===e&&(e=u.async),this.lift(new c(t,e))}function n(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../Subscriber"),u=t("../scheduler/async");r.sampleTime=i;var c=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.period,this.scheduler))},t}(),a=function(t){function e(e,r,i){t.call(this,e),this.period=r,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(n,r,{subscriber:this,period:r}))}return o(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(s.Subscriber)},{"../Subscriber":13,"../scheduler/async":305}],262:[function(t,e,r){function i(t,e){return this.lift(new s(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.scan=i;var s=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.accumulator,this.seed))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.accumulator=r,this.index=0,this.accumulatorSet=!1,this.seed=i,this.accumulatorSet="undefined"!=typeof i}return n(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.accumulatorSet=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){return this.accumulatorSet?this._tryNext(t):(this.seed=t,void this.destination.next(t))},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},{"../Subscriber":13}],263:[function(t,e,r){function i(){return new s.Subject}function n(){return o.multicast.call(this,i).refCount()}var o=t("./multicast"),s=t("../Subject");r.share=n},{"../Subject":11,"./multicast":245}],264:[function(t,e,r){function i(t){return this.lift(new u(t,this))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../util/EmptyError");r.single=i;var u=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.source))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.predicate=r,this.source=i,this.seenValue=!1,this.index=0}return n(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.predicate;this.index++,e?this.tryNext(t):this.applySingleValue(t)},e.prototype.tryNext=function(t){try{var e=this.predicate(t,this.index,this.source);e&&this.applySingleValue(t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},{"../Subscriber":13,"../util/EmptyError":317}],265:[function(t,e,r){function i(t){return this.lift(new s(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.skip=i;var s=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return n(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(o.Subscriber)},{"../Subscriber":13}],266:[function(t,e,r){function i(t){return this.lift(new u(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.skipUntil=i;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(s.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,i,n){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],267:[function(t,e,r){function i(t){return this.lift(new s(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.skipWhile=i;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate))},t}(),u=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return n(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(r){this.destination.error(r)}},e}(o.Subscriber)},{"../Subscriber":13}],268:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];c.isScheduler(r)?t.pop():r=null;var i=t.length;return 1===i?u.concatStatic(new o.ScalarObservable(t[0],r),this):i>1?u.concatStatic(new n.ArrayObservable(t,r),this):u.concatStatic(new s.EmptyObservable(r),this)}var n=t("../observable/ArrayObservable"),o=t("../observable/ScalarObservable"),s=t("../observable/EmptyObservable"),u=t("./concat"),c=t("../util/isScheduler");r.startWith=i},{"../observable/ArrayObservable":143,"../observable/EmptyObservable":148,"../observable/ScalarObservable":163,"../util/isScheduler":333,"./concat":204}],269:[function(t,e,r){function i(t,e){return void 0===e&&(e=0),new n.SubscribeOnObservable(this,e,t)}var n=t("../observable/SubscribeOnObservable");r.subscribeOn=i},{"../observable/SubscribeOnObservable":164}],270:[function(t,e,r){function i(){return this.lift(new u)}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r._switch=i;var u=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return n(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=s.subscribeToResult(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],271:[function(t,e,r){function i(t,e){return this.lift(new u(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.switchMap=i;var u=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.resultSelector))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.project=r,this.resultSelector=i,this.index=0}return n(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var i=this.innerSubscription;i&&i.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){this.resultSelector?this._tryNotifyNext(t,e,r,i):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,i){var n;try{n=this.resultSelector(t,e,r,i)}catch(o){return void this.destination.error(o)}this.destination.next(n)},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],272:[function(t,e,r){function i(t,e){return this.lift(new u(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.switchMapTo=i;var u=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.observable,this.resultSelector))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.inner=r,this.resultSelector=i,this.index=0}return n(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.resultSelector,u=o.destination;s?this.tryResultSelector(t,e,r,i):u.next(e)},e.prototype.tryResultSelector=function(t,e,r,i){var n,o=this,s=o.resultSelector,u=o.destination;try{n=s(t,e,r,i)}catch(c){return void u.error(c)}u.next(n)},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],273:[function(t,e,r){function i(t){return 0===t?new u.EmptyObservable:this.lift(new c(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),u=t("../observable/EmptyObservable");r.take=i;var c=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return n(e,t),e.prototype._next=function(t){var e=this.total;++this.count<=e&&(this.destination.next(t),this.count===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},{"../Subscriber":13,"../observable/EmptyObservable":148,"../util/ArgumentOutOfRangeError":316}],274:[function(t,e,r){function i(t){return 0===t?new u.EmptyObservable:this.lift(new c(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),u=t("../observable/EmptyObservable");r.takeLast=i;var c=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){t.call(this,e),this.total=r,this.ring=new Array,this.count=0}return n(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,i=this.count++;if(e.length<r)e.push(t);else{var n=i%r;e[n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,i=this.ring,n=0;r>n;n++){var o=e++%r;t.next(i[o])}t.complete()},e}(o.Subscriber)},{"../Subscriber":13,"../observable/EmptyObservable":148,"../util/ArgumentOutOfRangeError":316}],275:[function(t,e,r){function i(t){return this.lift(new u(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.takeUntil=i;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(s.subscribeToResult(this,r))}return n(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.complete()},e.prototype.notifyComplete=function(){},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],276:[function(t,e,r){function i(t){return this.lift(new s(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.takeWhile=i;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate))},t}(),u=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.index=0}return n(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void r.error(i)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(o.Subscriber)},{"../Subscriber":13}],277:[function(t,e,r){function i(t){return this.lift(new u(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.throttle=i;var u=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.destination=e,this.durationSelector=r}return n(e,t),e.prototype._next=function(t){this.throttled||this.tryDurationSelector(t)},e.prototype.tryDurationSelector=function(t){var e=null;try{e=this.durationSelector(t)}catch(r){return void this.destination.error(r)}this.emitAndThrottle(t,e)},e.prototype.emitAndThrottle=function(t,e){this.add(this.throttled=s.subscribeToResult(this,e)),this.destination.next(t)},e.prototype._unsubscribe=function(){var t=this.throttled;t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype.notifyNext=function(t,e,r,i,n){this._unsubscribe()},e.prototype.notifyComplete=function(){this._unsubscribe()},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],278:[function(t,e,r){function i(t,e){return void 0===e&&(e=u.async),this.lift(new c(t,e))}function n(t){var e=t.subscriber;e.clearThrottle()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../Subscriber"),u=t("../scheduler/async");r.throttleTime=i;var c=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.duration,this.scheduler))},t}(),a=function(t){function e(e,r,i){t.call(this,e),this.duration=r,this.scheduler=i}return o(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(n,this.duration,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(s.Subscriber)},{"../Subscriber":13,"../scheduler/async":305}],279:[function(t,e,r){function i(t){return void 0===t&&(t=s.async),this.lift(new c(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../scheduler/async");r.timeInterval=i;var u=function(){function t(t,e){this.value=t,this.interval=e}return t}();r.TimeInterval=u;var c=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.scheduler))},t}(),a=function(t){function e(e,r){t.call(this,e),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return n(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),r=e-this.lastTime;this.lastTime=e,this.destination.next(new u(t,r))},e}(o.Subscriber)},{"../Subscriber":13,"../scheduler/async":305}],280:[function(t,e,r){function i(t,e,r){void 0===e&&(e=null),void 0===r&&(r=o.async);var i=s.isDate(t),n=i?+t-r.now():Math.abs(t);return this.lift(new c(n,i,e,r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../scheduler/async"),s=t("../util/isDate"),u=t("../Subscriber");r.timeout=i;var c=function(){function t(t,e,r,i){this.waitFor=t,this.absoluteTimeout=e,this.errorToSend=r,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},t}(),a=function(t){function e(e,r,i,n,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=i,this.errorToSend=n,this.scheduler=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return n(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.notifyTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index;this.scheduler.schedule(e.dispatchTimeout,this.waitFor,{subscriber:this,index:t}),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},e}(u.Subscriber)},{"../Subscriber":13,"../scheduler/async":305,"../util/isDate":328}],281:[function(t,e,r){function i(t,e,r){void 0===r&&(r=o.async);var i=s.isDate(t),n=i?+t-r.now():Math.abs(t);return this.lift(new a(n,i,e,r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../scheduler/async"),s=t("../util/isDate"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.timeoutWith=i;var a=function(){function t(t,e,r,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l=function(t){function e(e,r,i,n,o){t.call(this),this.destination=e,this.absoluteTimeout=r,this.waitFor=i,this.withObservable=n,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,e.add(this),this.scheduleTimeout()}return n(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.handleTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index,r={subscriber:this,index:t};this.scheduler.schedule(e.dispatchTimeout,this.waitFor,r),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.handleTimeout=function(){if(!this.closed){var t=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=c.subscribeToResult(this,t))}},e}(u.OuterSubscriber)},{"../OuterSubscriber":7,"../scheduler/async":305,"../util/isDate":328,"../util/subscribeToResult":337}],282:[function(t,e,r){function i(t){return void 0===t&&(t=s.async),this.lift(new c(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../scheduler/async");r.timestamp=i;var u=function(){function t(t,e){this.value=t,this.timestamp=e}return t}();r.Timestamp=u;var c=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){
return e._subscribe(new a(t,this.scheduler))},t}(),a=function(t){function e(e,r){t.call(this,e),this.scheduler=r}return n(e,t),e.prototype._next=function(t){var e=this.scheduler.now();this.destination.next(new u(t,e))},e}(o.Subscriber)},{"../Subscriber":13,"../scheduler/async":305}],283:[function(t,e,r){function i(){return this.lift(new s)}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.toArray=i;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.array=[]}return n(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(o.Subscriber)},{"../Subscriber":13}],284:[function(t,e,r){function i(t){var e=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;e.subscribe(function(t){return i=t},function(t){return r(t)},function(){return t(i)})})}var n=t("../util/root");r.toPromise=i},{"../util/root":336}],285:[function(t,e,r){function i(t){return this.lift(new c(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subject"),s=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.window=i;var c=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new a(t),i=e._subscribe(r);return i.closed||r.add(u.subscribeToResult(r,this.windowBoundaries)),i},t}(),a=function(t){function e(e){t.call(this,e),this.window=new o.Subject,e.next(this.window)}return n(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new o.Subject;e.next(r)},e}(s.OuterSubscriber)},{"../OuterSubscriber":7,"../Subject":11,"../util/subscribeToResult":337}],286:[function(t,e,r){function i(t,e){return void 0===e&&(e=0),this.lift(new u(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../Subject");r.windowCount=i;var u=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.windowSize,this.startWindowEvery))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.destination=e,this.windowSize=r,this.startWindowEvery=i,this.windows=[new s.Subject],this.count=0,e.next(this.windows[0])}return n(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,i=this.windowSize,n=this.windows,o=n.length,u=0;o>u&&!this.closed;u++)n[u].next(t);var c=this.count-i+1;if(c>=0&&c%e===0&&!this.closed&&n.shift().complete(),++this.count%e===0&&!this.closed){var a=new s.Subject;n.push(a),r.next(a)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(o.Subscriber)},{"../Subject":11,"../Subscriber":13}],287:[function(t,e,r){function i(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=a.async),this.lift(new b(t,e,r))}function n(t){var e=t.subscriber,r=t.windowTimeSpan,i=t.window;i&&i.complete(),t.window=e.openWindow(),this.schedule(t,r)}function o(t){var e=t.windowTimeSpan,r=t.subscriber,i=t.scheduler,n=t.windowCreationInterval,o=r.openWindow(),u=this,c={action:u,subscription:null},a={subscriber:r,window:o,context:c};c.subscription=i.schedule(s,e,a),u.add(c.subscription),u.schedule(t,n)}function s(t){var e=t.subscriber,r=t.window,i=t.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(r)}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=t("../Subject"),a=t("../scheduler/async"),l=t("../Subscriber");r.windowTime=i;var b=function(){function t(t,e,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},t}(),h=function(t){function e(e,r,i,u){if(t.call(this,e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=i,this.scheduler=u,this.windows=[],null!==i&&i>=0){var c=this.openWindow(),a={subscriber:this,window:c,context:null},l={windowTimeSpan:r,windowCreationInterval:i,subscriber:this,scheduler:u};this.add(u.schedule(s,r,a)),this.add(u.schedule(o,i,l))}else{var b=this.openWindow(),h={subscriber:this,window:b,windowTimeSpan:r};this.add(u.schedule(n,r,h))}}return u(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,i=0;r>i;i++){var n=e[i];n.closed||n.next(t)}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new c.Subject;this.windows.push(t);var e=this.destination;return e.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(l.Subscriber)},{"../Subject":11,"../Subscriber":13,"../scheduler/async":305}],288:[function(t,e,r){function i(t,e){return this.lift(new b(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subject"),s=t("../Subscription"),u=t("../util/tryCatch"),c=t("../util/errorObject"),a=t("../OuterSubscriber"),l=t("../util/subscribeToResult");r.windowToggle=i;var b=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.openings,this.closingSelector))},t}(),h=function(t){function e(e,r,i){t.call(this,e),this.openings=r,this.closingSelector=i,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,r,r))}return n(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,i=0;r>i;i++)e[i].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,n=-1;++n<i;){var o=r[n];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,i=-1;++i<r;){var n=e[i];n.window.complete(),n.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var i=t[r];i.window.unsubscribe(),i.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,i,n){if(t===this.openings){var a=this.closingSelector,b=u.tryCatch(a)(e);if(b===c.errorObject)return this.error(c.errorObject.e);var h=new o.Subject,p=new s.Subscription,f={window:h,subscription:p};this.contexts.push(f);var d=l.subscribeToResult(this,b,f);d.closed?this.closeWindow(this.contexts.length-1):(d.context=f,p.add(d)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],i=r.window,n=r.subscription;e.splice(t,1),i.complete(),n.unsubscribe()}},e}(a.OuterSubscriber)},{"../OuterSubscriber":7,"../Subject":11,"../Subscription":14,"../util/errorObject":326,"../util/subscribeToResult":337,"../util/tryCatch":339}],289:[function(t,e,r){function i(t){return this.lift(new l(t))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subject"),s=t("../util/tryCatch"),u=t("../util/errorObject"),c=t("../OuterSubscriber"),a=t("../util/subscribeToResult");r.windowWhen=i;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new b(t,this.closingSelector))},t}(),b=function(t){function e(e,r){t.call(this,e),this.destination=e,this.closingSelector=r,this.openWindow()}return n(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.openWindow(n)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new o.Subject;this.destination.next(r);var i=s.tryCatch(this.closingSelector)();if(i===u.errorObject){var n=u.errorObject.e;this.destination.error(n),this.window.error(n)}else this.add(this.closingNotification=a.subscribeToResult(this,i))},e}(c.OuterSubscriber)},{"../OuterSubscriber":7,"../Subject":11,"../util/errorObject":326,"../util/subscribeToResult":337,"../util/tryCatch":339}],290:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r;"function"==typeof t[t.length-1]&&(r=t.pop());var i=t;return this.lift(new u(i,r))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.withLatestFrom=i;var u=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.observables,this.project))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.observables=r,this.project=i,this.toRespond=[];var n=r.length;this.values=new Array(n);for(var o=0;n>o;o++)this.toRespond.push(o);for(var o=0;n>o;o++){var u=r[o];this.add(s.subscribeToResult(this,u,u,o))}}return n(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values[r]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(o.OuterSubscriber)},{"../OuterSubscriber":7,"../util/subscribeToResult":337}],291:[function(t,e,r){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),n.apply(this,t)}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new s.ArrayObservable(t).lift(new h(r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../observable/ArrayObservable"),u=t("../util/isArray"),c=t("../Subscriber"),a=t("../OuterSubscriber"),l=t("../util/subscribeToResult"),b=t("../symbol/iterator");r.zipProto=i,r.zipStatic=n;var h=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new p(t,this.project))},t}();r.ZipOperator=h;var p=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null)),t.call(this,e),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=i}return o(e,t),e.prototype._next=function(t){var e=this.iterators,r=this.index++;u.isArray(t)?e.push(new d(t)):"function"==typeof t[b.$$iterator]?e.push(new f(t[b.$$iterator]())):e.push(new v(this.destination,this,t,r))},e.prototype._complete=function(){var t=this.iterators,e=t.length;this.active=e;for(var r=0;e>r;r++){var i=t[r];i.stillUnsubscribed?this.add(i.subscribe(i,r)):this.active--}},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;e>i;i++){var n=t[i];if("function"==typeof n.hasValue&&!n.hasValue())return}for(var o=!1,s=[],i=0;e>i;i++){var n=t[i],u=n.next();if(n.hasCompleted()&&(o=!0),u.done)return void r.complete();s.push(u.value)}this.project?this._tryProject(s):r.next(s),o&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(c.Subscriber);r.ZipSubscriber=p;var f=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[b.$$iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,r,i,n){t.call(this,e),this.parent=r,this.observable=i,this.index=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(e,t),e.prototype[b.$$iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return l.subscribeToResult(this,this.observable,this,e)},e}(a.OuterSubscriber)},{"../OuterSubscriber":7,"../Subscriber":13,"../observable/ArrayObservable":143,"../symbol/iterator":307,"../util/isArray":327,"../util/subscribeToResult":337}],292:[function(t,e,r){function i(t){return this.lift(new n.ZipOperator(t))}var n=t("./zip");r.zipAll=i},{"./zip":291}],293:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Subscription"),o=function(t){function e(e,r){t.call(this)}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n.Subscription);r.Action=o},{"../Subscription":14}],294:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./AsyncAction"),o=t("../util/AnimationFrame"),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return i(e,t),e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=o.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.recycleAsyncId.call(this,e,r,i):void(0===e.actions.length&&(o.AnimationFrame.cancelAnimationFrame(r),e.scheduled=void 0))},e}(n.AsyncAction);r.AnimationFrameAction=s},{"../util/AnimationFrame":315,"./AsyncAction":298}],295:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./AsyncScheduler"),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var t,e=this.actions,r=-1,i=e.length,n=e.shift();do if(t=n.execute(n.state,n.delay))break;while(++r<i&&(n=e.shift()));if(this.active=!1,t){for(;++r<i&&(n=e.shift());)n.unsubscribe();throw t}},e}(n.AsyncScheduler);r.AnimationFrameScheduler=o},{"./AsyncScheduler":299}],296:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../util/Immediate"),o=t("./AsyncAction"),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return i(e,t),e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=n.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.recycleAsyncId.call(this,e,r,i):void(0===e.actions.length&&(n.Immediate.clearImmediate(r),e.scheduled=void 0))},e}(o.AsyncAction);r.AsapAction=s},{"../util/Immediate":319,"./AsyncAction":298}],297:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./AsyncScheduler"),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var t,e=this.actions,r=-1,i=e.length,n=e.shift();do if(t=n.execute(n.state,n.delay))break;while(++r<i&&(n=e.shift()));if(this.active=!1,t){for(;++r<i&&(n=e.shift());)n.unsubscribe();throw t}},e}(n.AsyncScheduler);r.AsapScheduler=o},{"./AsyncScheduler":299}],298:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../util/root"),o=t("./Action"),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),n.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r?e:n.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);return r?r:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},e.prototype._execute=function(t,e){var r=!1,i=void 0;try{this.work(t)}catch(n){r=!0,i=!!n&&n||new Error(n)}return r?(this.unsubscribe(),i):void 0},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,i=r.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(o.Action);r.AsyncAction=s},{"../util/root":336,"./Action":293}],299:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Scheduler"),o=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return i(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var r;this.active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}},e}(n.Scheduler);r.AsyncScheduler=o},{"../Scheduler":10}],300:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./AsyncAction"),o=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return i(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):e.flush(this)},e}(n.AsyncAction);r.QueueAction=o},{"./AsyncAction":298}],301:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./AsyncScheduler"),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e}(n.AsyncScheduler);r.QueueScheduler=o},{"./AsyncScheduler":299}],302:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./AsyncAction"),o=t("./AsyncScheduler"),s=function(t){function e(e,r){var i=this;void 0===e&&(e=u),void 0===r&&(r=750),t.call(this,e,function(){return i.frame}),this.maxFrames=r,this.frame=0,this.index=-1}return i(e,t),e.prototype.flush=function(){for(var t,e,r=this,i=r.actions,n=r.maxFrames;(e=i.shift())&&(this.frame=e.delay)<=n&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=i.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(o.AsyncScheduler);r.VirtualTimeScheduler=s;var u=function(t){function e(e,r,i){void 0===i&&(i=e.index+=1),t.call(this,e,r),this.scheduler=e,this.work=r,this.index=i,this.index=e.index=i}return i(e,t),e.prototype.schedule=function(r,i){return void 0===i&&(i=0),this.id?this.add(new e(this.scheduler,this.work)).schedule(r,i):t.prototype.schedule.call(this,r,i)},e.prototype.requestAsyncId=function(t,r,i){void 0===i&&(i=0),this.delay=t.frame+i;var n=t.actions;return n.push(this),n.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(n.AsyncAction);r.VirtualAction=u},{"./AsyncAction":298,"./AsyncScheduler":299}],303:[function(t,e,r){var i=t("./AnimationFrameAction"),n=t("./AnimationFrameScheduler");r.animationFrame=new n.AnimationFrameScheduler(i.AnimationFrameAction)},{"./AnimationFrameAction":294,"./AnimationFrameScheduler":295}],304:[function(t,e,r){var i=t("./AsapAction"),n=t("./AsapScheduler");r.asap=new n.AsapScheduler(i.AsapAction)},{"./AsapAction":296,"./AsapScheduler":297}],305:[function(t,e,r){var i=t("./AsyncAction"),n=t("./AsyncScheduler");r.async=new n.AsyncScheduler(i.AsyncAction)},{"./AsyncAction":298,"./AsyncScheduler":299}],306:[function(t,e,r){var i=t("./QueueAction"),n=t("./QueueScheduler");r.queue=new n.QueueScheduler(i.QueueAction)},{"./QueueAction":300,"./QueueScheduler":301}],307:[function(t,e,r){var i=t("../util/root"),n=i.root.Symbol;if("function"==typeof n)n.iterator?r.$$iterator=n.iterator:"function"==typeof n["for"]&&(r.$$iterator=n["for"]("iterator"));else if(i.root.Set&&"function"==typeof(new i.root.Set)["@@iterator"])r.$$iterator="@@iterator";else if(i.root.Map)for(var o=Object.getOwnPropertyNames(i.root.Map.prototype),s=0;s<o.length;++s){var u=o[s];if("entries"!==u&&"size"!==u&&i.root.Map.prototype[u]===i.root.Map.prototype.entries){r.$$iterator=u;break}}else r.$$iterator="@@iterator"},{"../util/root":336}],308:[function(t,e,r){function i(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var n=t("../util/root");r.getSymbolObservable=i,r.$$observable=i(n.root)},{"../util/root":336}],309:[function(t,e,r){var i=t("../util/root"),n=i.root.Symbol;r.$$rxSubscriber="function"==typeof n&&"function"==typeof n["for"]?n["for"]("rxSubscriber"):"@@rxSubscriber"},{"../util/root":336}],310:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../Subscription"),s=t("./SubscriptionLoggable"),u=t("../util/applyMixins"),c=function(t){function e(e,r){t.call(this,function(t){var e=this,r=e.logSubscribedFrame();return t.add(new o.Subscription(function(){e.logUnsubscribedFrame(r)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=r}return i(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,r=0;e>r;r++){var i=this.messages[r];t.add(this.scheduler.schedule(function(t){var e=t.message,r=t.subscriber;e.notification.observe(r)},i.frame,{message:i,subscriber:t}))}},e}(n.Observable);r.ColdObservable=c,u.applyMixins(c,[s.SubscriptionLoggable])},{"../Observable":5,"../Subscription":14,"../util/applyMixins":324,"./SubscriptionLoggable":313}],311:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Subject"),o=t("../Subscription"),s=t("./SubscriptionLoggable"),u=t("../util/applyMixins"),c=function(t){function e(e,r){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=r}return i(e,t),e.prototype._subscribe=function(e){var r=this,i=r.logSubscribedFrame();return e.add(new o.Subscription(function(){r.logUnsubscribedFrame(i)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,r=0;e>r;r++)!function(){var e=t.messages[r];t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(n.Subject);r.HotObservable=c,u.applyMixins(c,[s.SubscriptionLoggable])},{"../Subject":11,"../Subscription":14,"../util/applyMixins":324,"./SubscriptionLoggable":313}],312:[function(t,e,r){var i=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}return t}();r.SubscriptionLog=i},{}],313:[function(t,e,r){var i=t("./SubscriptionLog"),n=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new i.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,r=e[t];e[t]=new i.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},t}();r.SubscriptionLoggable=n},{"./SubscriptionLog":312}],314:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("../Observable"),o=t("../Notification"),s=t("./ColdObservable"),u=t("./HotObservable"),c=t("./SubscriptionLog"),a=t("../scheduler/VirtualTimeScheduler"),l=function(t){function e(e){t.call(this),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return i(e,t),e.prototype.createTime=function(t){var r=t.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*e.frameTimeFactor},e.prototype.createColdObservable=function(t,r,i){if(-1!==t.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==t.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var n=e.parseMarbles(t,r,i),o=new s.ColdObservable(n,this);return this.coldObservables.push(o),o},e.prototype.createHotObservable=function(t,r,i){if(-1!==t.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var n=e.parseMarbles(t,r,i),o=new u.HotObservable(n,this);return this.hotObservables.push(o),o},e.prototype.materializeInnerObservable=function(t,e){var r=this,i=[];return t.subscribe(function(t){i.push({frame:r.frame-e,notification:o.Notification.createNext(t)})},function(t){i.push({frame:r.frame-e,notification:o.Notification.createError(t)})},function(){i.push({frame:r.frame-e,notification:o.Notification.createComplete()})}),i},e.prototype.expectObservable=function(t,r){var i=this;void 0===r&&(r=null);var s,u=[],c={actual:u,ready:!1},a=e.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule(function(){s=t.subscribe(function(t){var e=t;t instanceof n.Observable&&(e=i.materializeInnerObservable(e,i.frame)),u.push({frame:i.frame,notification:o.Notification.createNext(e)})},function(t){u.push({frame:i.frame,notification:o.Notification.createError(t)})},function(){u.push({frame:i.frame,notification:o.Notification.createComplete()})})},0),a!==Number.POSITIVE_INFINITY&&this.schedule(function(){return s.unsubscribe()},a),this.flushTests.push(c),{toBe:function(t,r,i){c.ready=!0,c.expected=e.parseMarbles(t,r,i,!0)}}},e.prototype.expectSubscriptions=function(t){var r={actual:t,ready:!1};return this.flushTests.push(r),{toBe:function(t){var i="string"==typeof t?[t]:t;r.ready=!0,r.expected=i.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var r=this.flushTests.filter(function(t){return t.ready});r.length>0;){var i=r.shift();this.assertDeepEqual(i.actual,i.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new c.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,r=-1,i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,o=0;e>o;o++){var s=o*this.frameTimeFactor,u=t[o];switch(u){case"-":case" ":break;case"(":r=s;break;case")":r=-1;break;case"^":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:s;break;case"!":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+u+"'.");
}}return 0>n?new c.SubscriptionLog(i):new c.SubscriptionLog(i,n)},e.parseMarbles=function(t,e,r,i){if(void 0===i&&(i=!1),-1!==t.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var n=t.length,u=[],c=t.indexOf("^"),a=-1===c?0:c*-this.frameTimeFactor,l="object"!=typeof e?function(t){return t}:function(t){return i&&e[t]instanceof s.ColdObservable?e[t].messages:e[t]},b=-1,h=0;n>h;h++){var p=h*this.frameTimeFactor+a,f=void 0,d=t[h];switch(d){case"-":case" ":break;case"(":b=p;break;case")":b=-1;break;case"|":f=o.Notification.createComplete();break;case"^":break;case"#":f=o.Notification.createError(r||"error");break;default:f=o.Notification.createNext(l(d))}f&&u.push({frame:b>-1?b:p,notification:f})}return u},e}(a.VirtualTimeScheduler);r.TestScheduler=l},{"../Notification":4,"../Observable":5,"../scheduler/VirtualTimeScheduler":302,"./ColdObservable":310,"./HotObservable":311,"./SubscriptionLog":312}],315:[function(t,e,r){var i=t("./root"),n=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}();r.RequestAnimationFrameDefinition=n,r.AnimationFrame=new n(i.root)},{"./root":336}],316:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);r.ArgumentOutOfRangeError=n},{}],317:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);r.EmptyError=n},{}],318:[function(t,e,r){var i=function(){function t(){this.values={}}return t.prototype["delete"]=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var r=this.values;for(var i in r)r.hasOwnProperty(i)&&null!==r[i]&&t.call(e,r[i],i)},t.prototype.clear=function(){this.values={}},t}();r.FastMap=i},{}],319:[function(t,e,r){var i=t("./root"),n=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function r(t){delete r.instance.tasksByHandle[t]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=function n(){var t=n,e=t.handler,r=t.args;"function"==typeof e?e.apply(void 0,r):new Function(""+e)()};return i.handler=t,i.args=e,i},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",r=function n(r){var i=n.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&i.runIfPresent(+r.data.slice(e.length))};r.instance=this,t.addEventListener("message",r,!1);var i=function o(){var t=o,e=t.messagePrefix,r=t.instance,i=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(e+i,"*"),i};return i.instance=this,i.messagePrefix=e,i},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var r=e.data;t.runIfPresent(r)};var r=function i(){var t=i,e=t.channel,r=t.instance,n=r.addFromSetImmediateArguments(arguments);return e.port2.postMessage(n),n};return r.channel=e,r.instance=this,r},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function e(){var t=e.instance,r=t.root,i=r.document,n=i.documentElement,o=t.addFromSetImmediateArguments(arguments),s=i.createElement("script");return s.onreadystatechange=function(){t.runIfPresent(o),s.onreadystatechange=null,n.removeChild(s),s=null},n.appendChild(s),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return t.instance=this,t},t}();r.ImmediateDefinition=n,r.Immediate=new n(i.root)},{"./root":336}],320:[function(t,e,r){var i=t("./root"),n=t("./MapPolyfill");r.Map=i.root.Map||function(){return n.MapPolyfill}()},{"./MapPolyfill":321,"./root":336}],321:[function(t,e,r){var i=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return-1===r?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return-1===e?!1:(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}();r.MapPolyfill=i},{}],322:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);r.ObjectUnsubscribedError=n},{}],323:[function(t,e,r){var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return i(e,t),e}(Error);r.UnsubscriptionError=n},{}],324:[function(t,e,r){function i(t,e){for(var r=0,i=e.length;i>r;r++)for(var n=e[r],o=Object.getOwnPropertyNames(n.prototype),s=0,u=o.length;u>s;s++){var c=o[s];t.prototype[c]=n.prototype[c]}}r.applyMixins=i},{}],325:[function(t,e,r){var i=t("./root"),n=i.root.Object;"function"!=typeof n.assign&&!function(){n.assign=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(void 0===t||null===t)throw new TypeError("cannot convert undefined or null to object");for(var i=n(t),o=e.length,s=0;o>s;s++){var u=e[s];if(void 0!==u&&null!==u)for(var c in u)u.hasOwnProperty(c)&&(i[c]=u[c])}return i}}(),r.assign=n.assign},{"./root":336}],326:[function(t,e,r){r.errorObject={e:{}}},{}],327:[function(t,e,r){r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},{}],328:[function(t,e,r){function i(t){return t instanceof Date&&!isNaN(+t)}r.isDate=i},{}],329:[function(t,e,r){function i(t){return"function"==typeof t}r.isFunction=i},{}],330:[function(t,e,r){function i(t){return!n.isArray(t)&&t-parseFloat(t)+1>=0}var n=t("../util/isArray");r.isNumeric=i},{"../util/isArray":327}],331:[function(t,e,r){function i(t){return null!=t&&"object"==typeof t}r.isObject=i},{}],332:[function(t,e,r){function i(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}r.isPromise=i},{}],333:[function(t,e,r){function i(t){return t&&"function"==typeof t.schedule}r.isScheduler=i},{}],334:[function(t,e,r){function i(){}r.noop=i},{}],335:[function(t,e,r){function i(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}r.not=i},{}],336:[function(t,e,r){(function(t){var i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};r.root=i[typeof self]&&self||i[typeof window]&&window;var n=(i[typeof r]&&r&&!r.nodeType&&r,i[typeof e]&&e&&!e.nodeType&&e,i[typeof t]&&t);!n||n.global!==n&&n.window!==n||(r.root=n)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],337:[function(t,e,r){function i(t,e,r,i){var b=new a.InnerSubscriber(t,r,i);if(b.closed)return null;if(e instanceof u.Observable)return e._isScalar?(b.next(e.value),b.complete(),null):e.subscribe(b);if(o.isArray(e)){for(var h=0,p=e.length;p>h&&!b.closed;h++)b.next(e[h]);b.closed||b.complete()}else{if(s.isPromise(e))return e.then(function(t){b.closed||(b.next(t),b.complete())},function(t){return b.error(t)}).then(null,function(t){n.root.setTimeout(function(){throw t})}),b;if("function"==typeof e[c.$$iterator])for(var f=e[c.$$iterator]();;){var d=f.next();if(d.done){b.complete();break}if(b.next(d.value),b.closed)break}else if("function"==typeof e[l.$$observable]){var v=e[l.$$observable]();if("function"==typeof v.subscribe)return v.subscribe(new a.InnerSubscriber(t,r,i));b.error(new Error("invalid observable"))}else b.error(new TypeError("unknown type returned"))}return null}var n=t("./root"),o=t("./isArray"),s=t("./isPromise"),u=t("../Observable"),c=t("../symbol/iterator"),a=t("../InnerSubscriber"),l=t("../symbol/observable");r.subscribeToResult=i},{"../InnerSubscriber":3,"../Observable":5,"../symbol/iterator":307,"../symbol/observable":308,"./isArray":327,"./isPromise":332,"./root":336}],338:[function(t,e,r){function i(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[o.$$rxSubscriber])return t[o.$$rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber}var n=t("../Subscriber"),o=t("../symbol/rxSubscriber");r.toSubscriber=i},{"../Subscriber":13,"../symbol/rxSubscriber":309}],339:[function(t,e,r){function i(){try{return o.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function n(t){return o=t,i}var o,s=t("./errorObject");r.tryCatch=n},{"./errorObject":326}]},{},[9])(9)});var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),ScalarObservable_1=require("./ScalarObservable"),EmptyObservable_1=require("./EmptyObservable"),ArrayLikeObservable=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return __extends(e,t),e.create=function(t,r){var i=t.length;return 0===i?new EmptyObservable_1.EmptyObservable:1===i?new ScalarObservable_1.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,i=t.length,n=t.subscriber;if(!n.closed){if(r>=i)return void n.complete();n.next(e[r]),t.index=r+1,this.schedule(t)}},e.prototype._subscribe=function(t){var r=0,i=this,n=i.arrayLike,o=i.scheduler,s=n.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:n,index:r,length:s,subscriber:t});for(var u=0;s>u&&!t.closed;u++)t.next(n[u]);t.complete()},e}(Observable_1.Observable);exports.ArrayLikeObservable=ArrayLikeObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),ScalarObservable_1=require("./ScalarObservable"),EmptyObservable_1=require("./EmptyObservable"),isScheduler_1=require("../util/isScheduler"),ArrayObservable=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return __extends(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var i=t[t.length-1];isScheduler_1.isScheduler(i)?t.pop():i=null;var n=t.length;return n>1?new e(t,i):1===n?new ScalarObservable_1.ScalarObservable(t[0],i):new EmptyObservable_1.EmptyObservable(i)},e.dispatch=function(t){var e=t.array,r=t.index,i=t.count,n=t.subscriber;return r>=i?void n.complete():(n.next(e[r]),void(n.closed||(t.index=r+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,i=this.array,n=i.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:i,index:r,count:n,subscriber:t});for(var s=0;n>s&&!t.closed;s++)t.next(i[s]);t.complete()},e}(Observable_1.Observable);exports.ArrayObservable=ArrayObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),AsyncSubject_1=require("../AsyncSubject"),BoundCallbackObservable=function(t){function e(e,r,i,n){t.call(this),this.callbackFunc=e,this.selector=r,this.args=i,this.scheduler=n}return __extends(e,t),e.create=function(t,r,i){return void 0===r&&(r=void 0),function(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];return new e(t,r,n,i)}},e.prototype._subscribe=function(t){var r=this.callbackFunc,i=this.args,n=this.scheduler,o=this.subject;if(n)return n.schedule(e.dispatch,0,{source:this,subscriber:t});if(!o){o=this.subject=new AsyncSubject_1.AsyncSubject;var s=function c(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=c.source,i=r.selector,n=r.subject;if(i){var o=tryCatch_1.tryCatch(i).apply(this,t);o===errorObject_1.errorObject?n.error(errorObject_1.errorObject.e):(n.next(o),n.complete())}else n.next(1===t.length?t[0]:t),n.complete()};s.source=this;var u=tryCatch_1.tryCatch(r).apply(this,i.concat(s));u===errorObject_1.errorObject&&o.error(errorObject_1.errorObject.e)}return o.subscribe(t)},e.dispatch=function(t){var e=this,r=t.source,i=t.subscriber,n=r.callbackFunc,o=r.args,s=r.scheduler,u=r.subject;if(!u){u=r.subject=new AsyncSubject_1.AsyncSubject;var c=function l(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var i=l.source,n=i.selector,o=i.subject;if(n){var u=tryCatch_1.tryCatch(n).apply(this,t);u===errorObject_1.errorObject?e.add(s.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:o})):e.add(s.schedule(dispatchNext,0,{value:u,subject:o}))}else{var c=1===t.length?t[0]:t;e.add(s.schedule(dispatchNext,0,{value:c,subject:o}))}};c.source=r;var a=tryCatch_1.tryCatch(n).apply(this,o.concat(c));a===errorObject_1.errorObject&&u.error(errorObject_1.errorObject.e)}e.add(u.subscribe(i))},e}(Observable_1.Observable);exports.BoundCallbackObservable=BoundCallbackObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),AsyncSubject_1=require("../AsyncSubject"),BoundNodeCallbackObservable=function(t){function e(e,r,i,n){t.call(this),this.callbackFunc=e,this.selector=r,this.args=i,this.scheduler=n}return __extends(e,t),e.create=function(t,r,i){return void 0===r&&(r=void 0),function(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];return new e(t,r,n,i)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,r=this.args,i=this.scheduler,n=this.subject;if(i)return i.schedule(dispatch,0,{source:this,subscriber:t});if(!n){n=this.subject=new AsyncSubject_1.AsyncSubject;var o=function u(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=u.source,i=r.selector,n=r.subject,o=t.shift();if(o)n.error(o);else if(i){var s=tryCatch_1.tryCatch(i).apply(this,t);s===errorObject_1.errorObject?n.error(errorObject_1.errorObject.e):(n.next(s),n.complete())}else n.next(1===t.length?t[0]:t),n.complete()};o.source=this;var s=tryCatch_1.tryCatch(e).apply(this,r.concat(o));s===errorObject_1.errorObject&&n.error(errorObject_1.errorObject.e)}return n.subscribe(t)},e}(Observable_1.Observable);exports.BoundNodeCallbackObservable=BoundNodeCallbackObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("../Subject"),Observable_1=require("../Observable"),Subscriber_1=require("../Subscriber"),Subscription_1=require("../Subscription"),ConnectableObservable=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r,this._refCount=0}return __extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new Subscription_1.Subscription,t.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),t.closed?(this._connection=null,t=Subscription_1.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new RefCountOperator(this))},e}(Observable_1.Observable);exports.ConnectableObservable=ConnectableObservable;var ConnectableSubscriber=function(t){function e(e,r){t.call(this,e),this.connectable=r}return __extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(Subject_1.SubjectSubscriber),RefCountOperator=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var i=new RefCountSubscriber(t,r),n=e._subscribe(i);return i.closed||(i.connection=r.connect()),n},t}(),RefCountSubscriber=function(t){function e(e,r){t.call(this,e),this.connectable=r}return __extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(0>=e)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var r=this.connection,i=t._connection;this.connection=null,!i||r&&i!==r||i.unsubscribe()},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber"),DeferObservable=function(t){function e(e){t.call(this),this.observableFactory=e}return __extends(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new DeferSubscriber(t,this.observableFactory)},e}(Observable_1.Observable);exports.DeferObservable=DeferObservable;var DeferSubscriber=function(t){function e(e,r){t.call(this,e),this.factory=r,this.tryDefer()}return __extends(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(subscribeToResult_1.subscribeToResult(this,t))},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),EmptyObservable=function(t){function e(e){t.call(this),this.scheduler=e}return __extends(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;return r?r.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(Observable_1.Observable);exports.EmptyObservable=EmptyObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),ErrorObservable=function(t){function e(e,r){t.call(this),this.error=e,this.scheduler=r}return __extends(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.error,r=t.subscriber;r.error(e)},e.prototype._subscribe=function(t){var r=this.error,i=this.scheduler;return i?i.schedule(e.dispatch,0,{error:r,subscriber:t}):void t.error(r)},e}(Observable_1.Observable);exports.ErrorObservable=ErrorObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),EmptyObservable_1=require("./EmptyObservable"),isArray_1=require("../util/isArray"),subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber"),ForkJoinObservable=function(t){function e(e,r){t.call(this),this.sources=e,this.resultSelector=r}return __extends(e,t),e.create=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];if(null===t||0===arguments.length)return new EmptyObservable_1.EmptyObservable;var i=null;return"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&isArray_1.isArray(t[0])&&(t=t[0]),0===t.length?new EmptyObservable_1.EmptyObservable:new e(t,i)},e.prototype._subscribe=function(t){return new ForkJoinSubscriber(t,this.sources,this.resultSelector)},e}(Observable_1.Observable);exports.ForkJoinObservable=ForkJoinObservable;var ForkJoinSubscriber=function(t){function e(e,r,i){t.call(this,e),this.sources=r,this.resultSelector=i,this.completed=0,this.haveValues=0;var n=r.length;this.total=n,this.values=new Array(n);for(var o=0;n>o;o++){var s=r[o],u=subscribeToResult_1.subscribeToResult(this,s,null,o);u&&(u.outerIndex=o,this.add(u))}}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values[r]=e,n._hasValue||(n._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this,i=r.haveValues,n=r.resultSelector,o=r.values,s=o.length;if(!t._hasValue)return void e.complete();if(this.completed++,this.completed===s){if(i===s){var u=n?n.apply(this,o):o;e.next(u)}e.complete()}},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),tryCatch_1=require("../util/tryCatch"),isFunction_1=require("../util/isFunction"),errorObject_1=require("../util/errorObject"),Subscription_1=require("../Subscription"),FromEventObservable=function(t){function e(e,r,i,n){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=i,this.options=n}return __extends(e,t),e.create=function(t,r,i,n){return isFunction_1.isFunction(i)&&(n=i,i=void 0),new e(t,r,n,i)},e.setupSubscription=function(t,r,i,n,o){var s;if(isNodeList(t)||isHTMLCollection(t))for(var u=0,c=t.length;c>u;u++)e.setupSubscription(t[u],r,i,n,o);else if(isEventTarget(t)){var a=t;t.addEventListener(r,i,o),s=function(){return a.removeEventListener(r,i)}}else if(isJQueryStyleEventEmitter(t)){var l=t;t.on(r,i),s=function(){return l.off(r,i)}}else if(isNodeStyleEventEmmitter(t)){var b=t;t.addListener(r,i),s=function(){return b.removeListener(r,i)}}n.add(new Subscription_1.Subscription(s))},e.prototype._subscribe=function(t){var r=this.sourceObj,i=this.eventName,n=this.options,o=this.selector,s=o?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var i=tryCatch_1.tryCatch(o).apply(void 0,e);i===errorObject_1.errorObject?t.error(errorObject_1.errorObject.e):t.next(i)}:function(e){return t.next(e)};e.setupSubscription(r,i,s,t,n)},e}(Observable_1.Observable);exports.FromEventObservable=FromEventObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),Subscription_1=require("../Subscription"),FromEventPatternObservable=function(t){function e(e,r,i){t.call(this),this.addHandler=e,this.removeHandler=r,this.selector=i}return __extends(e,t),e.create=function(t,r,i){return new e(t,r,i)},e.prototype._subscribe=function(t){var e=this,r=this.removeHandler,i=this.selector?function(){for(var r=[],i=0;i<arguments.length;i++)r[i-0]=arguments[i];e._callSelector(t,r)}:function(e){t.next(e)};this._callAddHandler(i,t),t.add(new Subscription_1.Subscription(function(){r(i)}))},e.prototype._callSelector=function(t,e){try{var r=this.selector.apply(this,e);t.next(r)}catch(i){t.error(i)}},e.prototype._callAddHandler=function(t,e){try{this.addHandler(t)}catch(r){e.error(r)}},e}(Observable_1.Observable);exports.FromEventPatternObservable=FromEventPatternObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},isArray_1=require("../util/isArray"),isPromise_1=require("../util/isPromise"),PromiseObservable_1=require("./PromiseObservable"),IteratorObservable_1=require("./IteratorObservable"),ArrayObservable_1=require("./ArrayObservable"),ArrayLikeObservable_1=require("./ArrayLikeObservable"),iterator_1=require("../symbol/iterator"),Observable_1=require("../Observable"),observeOn_1=require("../operator/observeOn"),observable_1=require("../symbol/observable"),isArrayLike=function(t){return t&&"number"==typeof t.length},FromObservable=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return __extends(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[observable_1.$$observable])return t instanceof Observable_1.Observable&&!r?t:new e(t,r);if(isArray_1.isArray(t))return new ArrayObservable_1.ArrayObservable(t,r);if(isPromise_1.isPromise(t))return new PromiseObservable_1.PromiseObservable(t,r);if("function"==typeof t[iterator_1.$$iterator]||"string"==typeof t)return new IteratorObservable_1.IteratorObservable(t,r);if(isArrayLike(t))return new ArrayLikeObservable_1.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[observable_1.$$observable]().subscribe(t):e[observable_1.$$observable]().subscribe(new observeOn_1.ObserveOnSubscriber(t,r,0))},e}(Observable_1.Observable);exports.FromObservable=FromObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),isScheduler_1=require("../util/isScheduler"),selfSelector=function(t){return t},GenerateObservable=function(t){function e(e,r,i,n,o){t.call(this),this.initialState=e,this.condition=r,this.iterate=i,this.resultSelector=n,this.scheduler=o}return __extends(e,t),e.create=function(t,r,i,n,o){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||selfSelector,t.scheduler):void 0===n||isScheduler_1.isScheduler(n)?new e(t,r,i,selfSelector,n):new e(t,r,i,n,o)},e.prototype._subscribe=function(t){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var i=this,n=i.condition,o=i.resultSelector,s=i.iterate;;){if(n){var u=void 0;try{u=n(r)}catch(c){return void t.error(c)}if(!u){t.complete();break}}var a=void 0;try{a=o(r)}catch(c){return void t.error(c)}if(t.next(a),t.closed)break;try{r=s(r)}catch(c){return void t.error(c)}}},e.dispatch=function(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(i){return void e.error(i)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(i){return void e.error(i)}if(!n)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(i){return void e.error(i)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}},e}(Observable_1.Observable);exports.GenerateObservable=GenerateObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber"),IfObservable=function(t){function e(e,r,i){t.call(this),this.condition=e,this.thenSource=r,this.elseSource=i}return __extends(e,t),e.create=function(t,r,i){return new e(t,r,i)},e.prototype._subscribe=function(t){var e=this,r=e.condition,i=e.thenSource,n=e.elseSource;return new IfSubscriber(t,r,i,n)},e}(Observable_1.Observable);exports.IfObservable=IfObservable;var IfSubscriber=function(t){function e(e,r,i,n){t.call(this,e),this.condition=r,this.thenSource=i,this.elseSource=n,this.tryIf()}return __extends(e,t),
e.prototype.tryIf=function(){var t,e=this,r=e.condition,i=e.thenSource,n=e.elseSource;try{t=r();var o=t?i:n;o?this.add(subscribeToResult_1.subscribeToResult(this,o)):this._complete()}catch(s){this._error(s)}},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},isNumeric_1=require("../util/isNumeric"),Observable_1=require("../Observable"),async_1=require("../scheduler/async"),IntervalObservable=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=async_1.async),t.call(this),this.period=e,this.scheduler=r,(!isNumeric_1.isNumeric(e)||0>e)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=async_1.async)}return __extends(e,t),e.create=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=async_1.async),new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.subscriber,i=t.period;r.next(e),r.closed||(t.index+=1,this.schedule(t,i))},e.prototype._subscribe=function(t){var r=0,i=this.period,n=this.scheduler;t.add(n.schedule(e.dispatch,i,{index:r,subscriber:t,period:i}))},e}(Observable_1.Observable);exports.IntervalObservable=IntervalObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},root_1=require("../util/root"),Observable_1=require("../Observable"),iterator_1=require("../symbol/iterator"),IteratorObservable=function(t){function e(e,r){if(t.call(this),this.scheduler=r,null==e)throw new Error("iterator cannot be null.");this.iterator=getIterator(e)}return __extends(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,i=t.iterator,n=t.subscriber;if(r)return void n.error(t.error);var o=i.next();return o.done?void n.complete():(n.next(o.value),t.index=e+1,void(n.closed||this.schedule(t)))},e.prototype._subscribe=function(t){var r=0,i=this,n=i.iterator,o=i.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,iterator:n,subscriber:t});for(;;){var s=n.next();if(s.done){t.complete();break}if(t.next(s.value),t.closed)break}},e}(Observable_1.Observable);exports.IteratorObservable=IteratorObservable;var StringIterator=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[iterator_1.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),ArrayIterator=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=toLength(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[iterator_1.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),maxSafeInteger=Math.pow(2,53)-1,__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),ConnectableObservable_1=require("../observable/ConnectableObservable"),MulticastObservable=function(t){function e(e,r,i){t.call(this),this.source=e,this.subjectFactory=r,this.selector=i}return __extends(e,t),e.prototype._subscribe=function(t){var e=this,r=e.selector,i=e.source,n=new ConnectableObservable_1.ConnectableObservable(i,this.subjectFactory),o=r(n).subscribe(t);return o.add(n.connect()),o},e}(Observable_1.Observable);exports.MulticastObservable=MulticastObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),noop_1=require("../util/noop"),NeverObservable=function(t){function e(){t.call(this)}return __extends(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){noop_1.noop()},e}(Observable_1.Observable);exports.NeverObservable=NeverObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),PairsObservable=function(t){function e(e,r){t.call(this),this.obj=e,this.scheduler=r,this.keys=Object.keys(e)}return __extends(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=e.keys,i=e.scheduler,n=r.length;if(i)return i.schedule(dispatch,0,{obj:this.obj,keys:r,length:n,index:0,subscriber:t});for(var o=0;n>o;o++){var s=r[o];t.next([s,this.obj[s]])}t.complete()},e}(Observable_1.Observable);exports.PairsObservable=PairsObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},root_1=require("../util/root"),Observable_1=require("../Observable"),PromiseObservable=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return __extends(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,i=this.scheduler;if(null==i)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){root_1.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return i.schedule(dispatchNext,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(i.schedule(dispatchNext,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(i.schedule(dispatchError,0,{err:e,subscriber:t}))}).then(null,function(t){root_1.root.setTimeout(function(){throw t})})},e}(Observable_1.Observable);exports.PromiseObservable=PromiseObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),RangeObservable=function(t){function e(e,r,i){t.call(this),this.start=e,this._count=r,this.scheduler=i}return __extends(e,t),e.create=function(t,r,i){return void 0===t&&(t=0),void 0===r&&(r=0),new e(t,r,i)},e.dispatch=function(t){var e=t.start,r=t.index,i=t.count,n=t.subscriber;return r>=i?void n.complete():(n.next(e),void(n.closed||(t.index=r+1,t.start=e+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,i=this.start,n=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,count:n,start:i,subscriber:t});for(;;){if(r++>=n){t.complete();break}if(t.next(i++),t.closed)break}},e}(Observable_1.Observable);exports.RangeObservable=RangeObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),ScalarObservable=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return __extends(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,i=t.subscriber;return e?void i.complete():(i.next(r),void(i.closed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var r=this.value,i=this.scheduler;return i?i.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t}):(t.next(r),void(t.closed||t.complete()))},e}(Observable_1.Observable);exports.ScalarObservable=ScalarObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),asap_1=require("../scheduler/asap"),isNumeric_1=require("../util/isNumeric"),SubscribeOnObservable=function(t){function e(e,r,i){void 0===r&&(r=0),void 0===i&&(i=asap_1.asap),t.call(this),this.source=e,this.delayTime=r,this.scheduler=i,(!isNumeric_1.isNumeric(r)||0>r)&&(this.delayTime=0),i&&"function"==typeof i.schedule||(this.scheduler=asap_1.asap)}return __extends(e,t),e.create=function(t,r,i){return void 0===r&&(r=0),void 0===i&&(i=asap_1.asap),new e(t,r,i)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return e.subscribe(r)},e.prototype._subscribe=function(t){var r=this.delayTime,i=this.source,n=this.scheduler;return n.schedule(e.dispatch,r,{source:i,subscriber:t})},e}(Observable_1.Observable);exports.SubscribeOnObservable=SubscribeOnObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},isNumeric_1=require("../util/isNumeric"),Observable_1=require("../Observable"),async_1=require("../scheduler/async"),isScheduler_1=require("../util/isScheduler"),isDate_1=require("../util/isDate"),TimerObservable=function(t){function e(e,r,i){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,isNumeric_1.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):isScheduler_1.isScheduler(r)&&(i=r),isScheduler_1.isScheduler(i)||(i=async_1.async),this.scheduler=i,this.dueTime=isDate_1.isDate(e)?+e-this.scheduler.now():e}return __extends(e,t),e.create=function(t,r,i){return void 0===t&&(t=0),new e(t,r,i)},e.dispatch=function(t){var e=t.index,r=t.period,i=t.subscriber,n=this;if(i.next(e),!i.closed){if(-1===r)return i.complete();t.index=e+1,n.schedule(t,r)}},e.prototype._subscribe=function(t){var r=0,i=this,n=i.period,o=i.dueTime,s=i.scheduler;return s.schedule(e.dispatch,o,{index:r,period:n,subscriber:t})},e}(Observable_1.Observable);exports.TimerObservable=TimerObservable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber"),UsingObservable=function(t){function e(e,r){t.call(this),this.resourceFactory=e,this.observableFactory=r}return __extends(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e,r=this,i=r.resourceFactory,n=r.observableFactory;try{return e=i(),new UsingSubscriber(t,e,n)}catch(o){t.error(o)}},e}(Observable_1.Observable);exports.UsingObservable=UsingObservable;var UsingSubscriber=function(t){function e(e,r,i){t.call(this,e),this.resource=r,this.observableFactory=i,e.add(r),this.tryUse()}return __extends(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(subscribeToResult_1.subscribeToResult(this,t))}catch(e){this._error(e)}},e}(OuterSubscriber_1.OuterSubscriber),BoundCallbackObservable_1=require("./BoundCallbackObservable");exports.bindCallback=BoundCallbackObservable_1.BoundCallbackObservable.create;var BoundNodeCallbackObservable_1=require("./BoundNodeCallbackObservable");exports.bindNodeCallback=BoundNodeCallbackObservable_1.BoundNodeCallbackObservable.create;var isScheduler_1=require("../util/isScheduler"),isArray_1=require("../util/isArray"),ArrayObservable_1=require("./ArrayObservable"),combineLatest_1=require("../operator/combineLatest");exports.combineLatest=combineLatest;var concat_1=require("../operator/concat");exports.concat=concat_1.concatStatic;var DeferObservable_1=require("./DeferObservable");exports.defer=DeferObservable_1.DeferObservable.create;var EmptyObservable_1=require("./EmptyObservable");exports.empty=EmptyObservable_1.EmptyObservable.create;var ForkJoinObservable_1=require("./ForkJoinObservable");exports.forkJoin=ForkJoinObservable_1.ForkJoinObservable.create;var FromObservable_1=require("./FromObservable");exports.from=FromObservable_1.FromObservable.create;var FromEventObservable_1=require("./FromEventObservable");exports.fromEvent=FromEventObservable_1.FromEventObservable.create;var FromEventPatternObservable_1=require("./FromEventPatternObservable");exports.fromEventPattern=FromEventPatternObservable_1.FromEventPatternObservable.create;var PromiseObservable_1=require("./PromiseObservable");exports.fromPromise=PromiseObservable_1.PromiseObservable.create;var IfObservable_1=require("./IfObservable");exports._if=IfObservable_1.IfObservable.create;var IntervalObservable_1=require("./IntervalObservable");exports.interval=IntervalObservable_1.IntervalObservable.create;var merge_1=require("../operator/merge");exports.merge=merge_1.mergeStatic;var NeverObservable_1=require("./NeverObservable");exports.never=NeverObservable_1.NeverObservable.create;var ArrayObservable_1=require("./ArrayObservable");exports.of=ArrayObservable_1.ArrayObservable.of;var PairsObservable_1=require("./PairsObservable");exports.pairs=PairsObservable_1.PairsObservable.create;var RangeObservable_1=require("./RangeObservable");exports.range=RangeObservable_1.RangeObservable.create;var ErrorObservable_1=require("./ErrorObservable");exports._throw=ErrorObservable_1.ErrorObservable.create;var TimerObservable_1=require("./TimerObservable");exports.timer=TimerObservable_1.TimerObservable.create;var UsingObservable_1=require("./UsingObservable");exports.using=UsingObservable_1.UsingObservable.create;var zip_1=require("../operator/zip");exports.zip=zip_1.zipStatic;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscription_1=require("../Subscription"),Action=function(t){function e(e,r){t.call(this)}return __extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(Subscription_1.Subscription);exports.Action=Action;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},AsyncAction_1=require("./AsyncAction"),AnimationFrame_1=require("../util/AnimationFrame"),AnimationFrameAction=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return __extends(e,t),e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=AnimationFrame_1.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.recycleAsyncId.call(this,e,r,i):void(0===e.actions.length&&(AnimationFrame_1.AnimationFrame.cancelAnimationFrame(r),e.scheduled=void 0))},e}(AsyncAction_1.AsyncAction);exports.AnimationFrameAction=AnimationFrameAction;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},AsyncScheduler_1=require("./AsyncScheduler"),AnimationFrameScheduler=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var t,e=this.actions,r=-1,i=e.length,n=e.shift();do if(t=n.execute(n.state,n.delay))break;while(++r<i&&(n=e.shift()));if(this.active=!1,t){for(;++r<i&&(n=e.shift());)n.unsubscribe();throw t}},e}(AsyncScheduler_1.AsyncScheduler);exports.AnimationFrameScheduler=AnimationFrameScheduler;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Immediate_1=require("../util/Immediate"),AsyncAction_1=require("./AsyncAction"),AsapAction=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return __extends(e,t),e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=Immediate_1.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.recycleAsyncId.call(this,e,r,i):void(0===e.actions.length&&(Immediate_1.Immediate.clearImmediate(r),e.scheduled=void 0))},e}(AsyncAction_1.AsyncAction);exports.AsapAction=AsapAction;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},AsyncScheduler_1=require("./AsyncScheduler"),AsapScheduler=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var t,e=this.actions,r=-1,i=e.length,n=e.shift();do if(t=n.execute(n.state,n.delay))break;while(++r<i&&(n=e.shift()));if(this.active=!1,t){for(;++r<i&&(n=e.shift());)n.unsubscribe();throw t}},e}(AsyncScheduler_1.AsyncScheduler);exports.AsapScheduler=AsapScheduler;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},root_1=require("../util/root"),Action_1=require("./Action"),AsyncAction=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return __extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),root_1.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r?e:root_1.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);return r?r:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},e.prototype._execute=function(t,e){var r=!1,i=void 0;try{this.work(t)}catch(n){r=!0,i=!!n&&n||new Error(n)}return r?(this.unsubscribe(),i):void 0},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,i=r.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(Action_1.Action);exports.AsyncAction=AsyncAction;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Scheduler_1=require("../Scheduler"),AsyncScheduler=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return __extends(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var r;this.active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}},e}(Scheduler_1.Scheduler);exports.AsyncScheduler=AsyncScheduler;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},AsyncAction_1=require("./AsyncAction"),QueueAction=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return __extends(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):e.flush(this)},e}(AsyncAction_1.AsyncAction);exports.QueueAction=QueueAction;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},AsyncScheduler_1=require("./AsyncScheduler"),QueueScheduler=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(AsyncScheduler_1.AsyncScheduler);exports.QueueScheduler=QueueScheduler;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},AsyncAction_1=require("./AsyncAction"),AsyncScheduler_1=require("./AsyncScheduler"),VirtualTimeScheduler=function(t){function e(e,r){var i=this;void 0===e&&(e=VirtualAction),void 0===r&&(r=750),t.call(this,e,function(){return i.frame}),this.maxFrames=r,this.frame=0,this.index=-1}return __extends(e,t),e.prototype.flush=function(){for(var t,e,r=this,i=r.actions,n=r.maxFrames;(e=i.shift())&&(this.frame=e.delay)<=n&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=i.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(AsyncScheduler_1.AsyncScheduler);exports.VirtualTimeScheduler=VirtualTimeScheduler;var VirtualAction=function(t){function e(e,r,i){void 0===i&&(i=e.index+=1),t.call(this,e,r),this.scheduler=e,this.work=r,this.index=i,this.index=e.index=i}return __extends(e,t),e.prototype.schedule=function(r,i){return void 0===i&&(i=0),this.id?this.add(new e(this.scheduler,this.work)).schedule(r,i):t.prototype.schedule.call(this,r,i)},e.prototype.requestAsyncId=function(t,r,i){void 0===i&&(i=0),this.delay=t.frame+i;var n=t.actions;return n.push(this),n.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(AsyncAction_1.AsyncAction);exports.VirtualAction=VirtualAction;var AnimationFrameAction_1=require("./AnimationFrameAction"),AnimationFrameScheduler_1=require("./AnimationFrameScheduler");exports.animationFrame=new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction);var AsapAction_1=require("./AsapAction"),AsapScheduler_1=require("./AsapScheduler");exports.asap=new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction);var AsyncAction_1=require("./AsyncAction"),AsyncScheduler_1=require("./AsyncScheduler");exports.async=new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction);var QueueAction_1=require("./QueueAction"),QueueScheduler_1=require("./QueueScheduler");exports.queue=new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction),System.register(["./Subject","./Subscription"],function(t,e){var r,i,n,o=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return o(e,t),e.prototype._subscribe=function(e){return this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),i.Subscription.EMPTY):this.hasError?(e.error(this.thrownError),i.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(r.Subject),t("AsyncSubject",n)}}}),System.register(["./Subject","./util/ObjectUnsubscribedError"],function(t,e){var r,i,n,o=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){function e(e){t.call(this),this._value=e}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.Subject),t("BehaviorSubject",n)}}}),System.register(["./Subscriber"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(e,r,i){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=i,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r.Subscriber),t("InnerSubscriber",i)}}}),System.register(["./Observable","./scheduler/MiscJSDoc","./observable/dom/MiscJSDoc"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t},function(t){},function(t){}],execute:function(){i=function(){function t(){}return t.create=function(t){return new r.Observable(t)},t}(),t("ObservableDoc",i),n=function(){function t(){this.closed=!1}return t.prototype.next=function(t){},t.prototype.error=function(t){},t.prototype.complete=function(){},t}(),t("ObserverDoc",n)}}}),System.register(["./Observable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){i=function(){function t(t,e,r){this.kind=t,this.value=e,this.exception=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.exception);case"C":return t.complete&&t.complete()}},t.prototype["do"]=function(t,e,r){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return e&&e(this.exception);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this["do"](t,e,r)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return r.Observable.of(this.value);case"E":return r.Observable["throw"](this.exception);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),t("Notification",i)}}}),System.register(["./util/root","./util/toSubscriber","./symbol/observable"],function(t,e){var r,i,n,o;e&&e.id;return{setters:[function(t){r=t},function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=i.toSubscriber(t,e,r);if(n?n.call(o,this):o.add(this._subscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype.forEach=function(t,e){var i=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var n=i.subscribe(function(e){if(n)try{t(e)}catch(i){r(i),n.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[n.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}(),t("Observable",o)}}}),System.register([],function(t,e){var r;e&&e.id;return{setters:[],execute:function(){t("empty",r={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}})}}}),System.register([],function(t,e){e&&e.id;return{setters:[],execute:function(){}}}),System.register(["./Subscriber"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r.Subscriber),t("OuterSubscriber",i)}}}),System.register(["./Subject","./scheduler/queue","./operator/observeOn"],function(t,e){var r,i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t}],execute:function(){o=function(t){function e(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=i,this._events=[],this._bufferSize=1>e?1:e,this._windowTime=1>r?1:r}return u(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new s(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(e){var r=this._trimBufferThenGetEvents(),i=this.scheduler;i&&e.add(e=new n.ObserveOnSubscriber(e,i));for(var o=r.length,s=0;o>s&&!e.closed;s++)e.next(r[s].value);return t.prototype._subscribe.call(this,e)},e.prototype._getNow=function(){return(this.scheduler||i.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;n>o&&!(t-i[o].time<r);)o++;return n>e&&(o=Math.max(o,n-e)),o>0&&i.splice(0,o),i},e}(r.Subject),t("ReplaySubject",o),s=function(){function t(t,e){this.time=t,this.value=e}return t}()}}}),function(t,e){t.Rx=e()}(window||global||this,function(){return require("../dist/cjs/Rx")}),System.register(["./Subject","./Observable","./add/observable/bindCallback","./add/observable/bindNodeCallback","./add/observable/combineLatest","./add/observable/concat","./add/observable/defer","./add/observable/empty","./add/observable/forkJoin","./add/observable/from","./add/observable/fromEvent","./add/observable/fromEventPattern","./add/observable/fromPromise","./add/observable/generate","./add/observable/if","./add/observable/interval","./add/observable/merge","./add/observable/race","./add/observable/never","./add/observable/of","./add/observable/onErrorResumeNext","./add/observable/pairs","./add/observable/range","./add/observable/using","./add/observable/throw","./add/observable/timer","./add/observable/zip","./add/observable/dom/ajax","./add/observable/dom/webSocket","./add/operator/buffer","./add/operator/bufferCount","./add/operator/bufferTime","./add/operator/bufferToggle","./add/operator/bufferWhen","./add/operator/cache","./add/operator/catch","./add/operator/combineAll","./add/operator/combineLatest","./add/operator/concat","./add/operator/concatAll","./add/operator/concatMap","./add/operator/concatMapTo","./add/operator/count","./add/operator/dematerialize","./add/operator/debounce","./add/operator/debounceTime","./add/operator/defaultIfEmpty","./add/operator/delay","./add/operator/delayWhen","./add/operator/distinct","./add/operator/distinctKey","./add/operator/distinctUntilChanged","./add/operator/distinctUntilKeyChanged","./add/operator/do","./add/operator/exhaust","./add/operator/exhaustMap","./add/operator/expand","./add/operator/elementAt","./add/operator/filter","./add/operator/finally","./add/operator/find","./add/operator/findIndex","./add/operator/first","./add/operator/groupBy","./add/operator/ignoreElements","./add/operator/isEmpty","./add/operator/audit","./add/operator/auditTime","./add/operator/last","./add/operator/let","./add/operator/every","./add/operator/map","./add/operator/mapTo","./add/operator/materialize","./add/operator/max","./add/operator/merge","./add/operator/mergeAll","./add/operator/mergeMap","./add/operator/mergeMapTo","./add/operator/mergeScan","./add/operator/min","./add/operator/multicast","./add/operator/observeOn","./add/operator/onErrorResumeNext","./add/operator/pairwise","./add/operator/partition","./add/operator/pluck","./add/operator/publish","./add/operator/publishBehavior","./add/operator/publishReplay","./add/operator/publishLast","./add/operator/race","./add/operator/reduce","./add/operator/repeat","./add/operator/retry","./add/operator/retryWhen","./add/operator/sample","./add/operator/sampleTime","./add/operator/scan","./add/operator/share","./add/operator/single","./add/operator/skip","./add/operator/skipUntil","./add/operator/skipWhile","./add/operator/startWith","./add/operator/subscribeOn","./add/operator/switch","./add/operator/switchMap","./add/operator/switchMapTo","./add/operator/take","./add/operator/takeLast","./add/operator/takeUntil","./add/operator/takeWhile","./add/operator/throttle","./add/operator/throttleTime","./add/operator/timeInterval","./add/operator/timeout","./add/operator/timeoutWith","./add/operator/timestamp","./add/operator/toArray","./add/operator/toPromise","./add/operator/window","./add/operator/windowCount","./add/operator/windowTime","./add/operator/windowToggle","./add/operator/windowWhen","./add/operator/withLatestFrom","./add/operator/zip","./add/operator/zipAll","./Subscription","./Subscriber","./AsyncSubject","./ReplaySubject","./BehaviorSubject","./observable/MulticastObservable","./observable/ConnectableObservable","./Notification","./util/EmptyError","./util/ArgumentOutOfRangeError","./util/ObjectUnsubscribedError","./util/UnsubscriptionError","./operator/timeInterval","./operator/timestamp","./testing/TestScheduler","./scheduler/VirtualTimeScheduler","./observable/dom/AjaxObservable","./scheduler/asap","./scheduler/async","./scheduler/queue","./scheduler/animationFrame","./symbol/rxSubscriber","./symbol/iterator","./symbol/observable"],function(t,e){
var r,i,n,o,s,u,c,a,l;e&&e.id;return{setters:[function(e){t({Subject:e.Subject})},function(e){t({Observable:e.Observable})},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(t){},function(e){t({Subscription:e.Subscription})},function(e){t({Subscriber:e.Subscriber})},function(e){t({AsyncSubject:e.AsyncSubject})},function(e){t({ReplaySubject:e.ReplaySubject})},function(e){t({BehaviorSubject:e.BehaviorSubject})},function(e){t({MulticastObservable:e.MulticastObservable})},function(e){t({ConnectableObservable:e.ConnectableObservable})},function(e){t({Notification:e.Notification})},function(e){t({EmptyError:e.EmptyError})},function(e){t({ArgumentOutOfRangeError:e.ArgumentOutOfRangeError})},function(e){t({ObjectUnsubscribedError:e.ObjectUnsubscribedError})},function(e){t({UnsubscriptionError:e.UnsubscriptionError})},function(e){t({TimeInterval:e.TimeInterval})},function(e){t({Timestamp:e.Timestamp})},function(e){t({TestScheduler:e.TestScheduler})},function(e){t({VirtualTimeScheduler:e.VirtualTimeScheduler})},function(e){t({AjaxRequest:e.AjaxRequest,AjaxResponse:e.AjaxResponse,AjaxError:e.AjaxError,AjaxTimeoutError:e.AjaxTimeoutError})},function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t},function(t){c=t}],execute:function(){a={asap:r.asap,queue:n.queue,animationFrame:o.animationFrame,async:i.async},l={rxSubscriber:s.$$rxSubscriber,observable:c.$$observable,iterator:u.$$iterator},t("Scheduler",a),t("Symbol",l)}}}),System.register([],function(t,e){var r;e&&e.id;return{setters:[],execute:function(){r=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}(),t("Scheduler",r)}}}),System.register(["./Observable","./Subscriber","./Subscription","./util/ObjectUnsubscribedError","./SubjectSubscription","./symbol/rxSubscriber"],function(t,e){var r,i,n,o,s,u,c,a,l,b=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){c=function(t){function e(e){t.call(this,e),this.destination=e}return b(e,t),e}(i.Subscriber),t("SubjectSubscriber",c),a=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return b(e,t),e.prototype[u.$$rxSubscriber]=function(){return new c(this)},e.prototype.lift=function(t){var e=new l(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new o.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,i=e.slice(),n=0;r>n;n++)i[n].next(t)},e.prototype.error=function(t){if(this.closed)throw new o.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,i=e.slice(),n=0;r>n;n++)i[n].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new o.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),i=0;e>i;i++)r[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._subscribe=function(t){if(this.closed)throw new o.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),n.Subscription.EMPTY):this.isStopped?(t.complete(),n.Subscription.EMPTY):(this.observers.push(t),new s.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new r.Observable;return t.source=this,t},e.create=function(t,e){return new l(t,e)},e}(r.Observable),t("Subject",a),l=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return b(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):n.Subscription.EMPTY},e}(a),t("AnonymousSubject",l)}}}),System.register(["./Subscription"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r.Subscription),t("SubjectSubscription",i)}}}),System.register(["./util/isFunction","./Subscription","./Observer","./symbol/rxSubscriber"],function(t,e){var r,i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(t){function e(r,i,o){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=n.empty;break;case 1:if(!r){this.destination=n.empty;break}if("object"==typeof r){r instanceof e?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,r,i,o)}}return c(e,t),e.prototype[o.$$rxSubscriber]=function(){return this},e.create=function(t,r,i){var n=new e(t,r,i);return n.syncErrorThrowable=!1,n},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(i.Subscription),t("Subscriber",s),u=function(t){function e(e,i,n,o){t.call(this),this._parent=e;var s,u=this;r.isFunction(i)?s=i:i&&(u=i,s=i.next,n=i.error,o=i.complete,r.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this)),this._context=u,this._next=s,this._error=n,this._complete=o}return c(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){throw this.unsubscribe(),r}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(i){return t.syncErrorValue=i,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(s)}}}),System.register(["./util/isArray","./util/isObject","./util/isFunction","./util/tryCatch","./util/errorObject","./util/UnsubscriptionError"],function(t,e){var r,i,n,o,s,u,c;e&&e.id;return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){c=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var c=this,a=c._unsubscribe,l=c._subscriptions;if(this._subscriptions=null,n.isFunction(a)){var b=o.tryCatch(a).call(this);b===s.errorObject&&(e=!0,(t=t||[]).push(s.errorObject.e))}if(r.isArray(l))for(var h=-1,p=l.length;++h<p;){var f=l[h];if(i.isObject(f)){var b=o.tryCatch(f.unsubscribe).call(f);if(b===s.errorObject){e=!0,t=t||[];var d=s.errorObject.e;d instanceof u.UnsubscriptionError?t=t.concat(d.errors):t.push(d)}}}if(e)throw new u.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)break;this.closed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return r},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var r=this._subscriptions;if(r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}(),t("Subscription",c)}}});var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.audit=audit;var AuditOperator=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new AuditSubscriber(t,this.durationSelector))},t}(),AuditSubscriber=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1}return __extends(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=tryCatch_1.tryCatch(this.durationSelector)(t);e===errorObject_1.errorObject?this.destination.error(errorObject_1.errorObject.e):this.add(this.throttled=subscribeToResult_1.subscribeToResult(this,e))}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,i=t.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,r,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},async_1=require("../scheduler/async"),Subscriber_1=require("../Subscriber");exports.auditTime=auditTime;var AuditTimeOperator=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new AuditTimeSubscriber(t,this.duration,this.scheduler))},t}(),AuditTimeSubscriber=function(t){function e(e,r,i){t.call(this,e),this.duration=r,this.scheduler=i,this.hasValue=!1}return __extends(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,i=t.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.buffer=buffer;var BufferOperator=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e._subscribe(new BufferSubscriber(t,this.closingNotifier))},t}(),BufferSubscriber=function(t){function e(e,r){t.call(this,e),this.buffer=[],this.add(subscribeToResult_1.subscribeToResult(this,r))}return __extends(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.bufferCount=bufferCount;var BufferCountOperator=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new BufferCountSubscriber(t,this.bufferSize,this.startBufferEvery))},t}(),BufferCountSubscriber=function(t){function e(e,r,i){t.call(this,e),this.bufferSize=r,this.startBufferEvery=i,this.buffers=[[]],this.count=0}return __extends(e,t),e.prototype._next=function(t){var e=this.count+=1,r=this.destination,i=this.bufferSize,n=null==this.startBufferEvery?i:this.startBufferEvery,o=this.buffers,s=o.length,u=-1;e%n===0&&o.push([]);for(var c=0;s>c;c++){var a=o[c];a.push(t),a.length===i&&(u=c,r.next(a))}-1!==u&&o.splice(u,1)},e.prototype._complete=function(){for(var e=this.destination,r=this.buffers;r.length>0;){var i=r.shift();i.length>0&&e.next(i)}t.prototype._complete.call(this)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},async_1=require("../scheduler/async"),Subscriber_1=require("../Subscriber"),isScheduler_1=require("../util/isScheduler");exports.bufferTime=bufferTime;var BufferTimeOperator=function(){function t(t,e,r,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new BufferTimeSubscriber(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Context=function(){function t(){this.buffer=[]}return t}(),BufferTimeSubscriber=function(t){function e(e,r,i,n,o){t.call(this,e),this.bufferTimeSpan=r,this.bufferCreationInterval=i,this.maxBufferSize=n,this.scheduler=o,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==i||0>i,this.timespanOnly){var u={subscriber:this,context:s,bufferTimeSpan:r};this.add(s.closeAction=o.schedule(dispatchBufferTimeSpanOnly,r,u))}else{var c={subscriber:this,context:s},a={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:this,scheduler:o};this.add(s.closeAction=o.schedule(dispatchBufferClose,r,c)),this.add(o.schedule(dispatchBufferCreation,i,a))}}return __extends(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,i=r.length,n=0;i>n;n++){var o=r[n],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,r=e.contexts,i=e.destination;r.length>0;){var n=r.shift();i.next(n.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,i={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,r,i))}},e.prototype.openContext=function(){var t=new Context;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts,r=e?e.indexOf(t):-1;r>=0&&e.splice(e.indexOf(t),1)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscription_1=require("../Subscription"),subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber");exports.bufferToggle=bufferToggle;var BufferToggleOperator=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new BufferToggleSubscriber(t,this.openings,this.closingSelector))},t}(),BufferToggleSubscriber=function(t){function e(e,r,i){t.call(this,e),this.openings=r,this.closingSelector=i,this.contexts=[],this.add(subscribeToResult_1.subscribeToResult(this,r))}return __extends(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,i=0;r>i;i++)e[i].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,r=e.call(this,t);r&&this.trySubscribe(r)}catch(i){this._error(i)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,i=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(i),i.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=[],i=new Subscription_1.Subscription,n={buffer:r,subscription:i};e.push(n);var o=subscribeToResult_1.subscribeToResult(this,t,n);!o||o.closed?this.closeBuffer(n):(o.context=n,this.add(o),i.add(o))},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscription_1=require("../Subscription"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.bufferWhen=bufferWhen;var BufferWhenOperator=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new BufferWhenSubscriber(t,this.closingSelector))},t}(),BufferWhenSubscriber=function(t){function e(e,r){t.call(this,e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return __extends(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,i,n){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=tryCatch_1.tryCatch(this.closingSelector)();r===errorObject_1.errorObject?this.error(errorObject_1.errorObject.e):(t=new Subscription_1.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(subscribeToResult_1.subscribeToResult(this,r)),this.subscribing=!1)},e}(OuterSubscriber_1.OuterSubscriber),Observable_1=require("../Observable"),ReplaySubject_1=require("../ReplaySubject");exports.cache=cache;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports._catch=_catch;var CatchOperator=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e._subscribe(new CatchSubscriber(t,this.selector,this.caught))},t}(),CatchSubscriber=function(t){function e(e,r,i){t.call(this,e),this.selector=r,this.caught=i}return __extends(e,t),e.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void this.destination.error(t)}this.unsubscribe(),this.destination.remove(this),subscribeToResult_1.subscribeToResult(this,e)}},e}(OuterSubscriber_1.OuterSubscriber),combineLatest_1=require("./combineLatest");exports.combineAll=combineAll;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},ArrayObservable_1=require("../observable/ArrayObservable"),isArray_1=require("../util/isArray"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult"),none={};exports.combineLatest=combineLatest;var CombineLatestOperator=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new CombineLatestSubscriber(t,this.project))},t}();exports.CombineLatestOperator=CombineLatestOperator;var CombineLatestSubscriber=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[]}return __extends(e,t),e.prototype._next=function(t){this.values.push(none),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;e>r;r++){var i=t[r];this.add(subscribeToResult_1.subscribeToResult(this,i,i,r))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.values,s=o[r],u=this.toRespond?s===none?--this.toRespond:this.toRespond:0;o[r]=e,0===u&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(OuterSubscriber_1.OuterSubscriber);exports.CombineLatestSubscriber=CombineLatestSubscriber;var isScheduler_1=require("../util/isScheduler"),ArrayObservable_1=require("../observable/ArrayObservable"),mergeAll_1=require("./mergeAll");exports.concat=concat,exports.concatStatic=concatStatic;var mergeAll_1=require("./mergeAll");exports.concatAll=concatAll;var mergeMap_1=require("./mergeMap");exports.concatMap=concatMap;var mergeMapTo_1=require("./mergeMapTo");exports.concatMapTo=concatMapTo;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.count=count;var CountOperator=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new CountSubscriber(t,this.predicate,this.source))},t}(),CountSubscriber=function(t){function e(e,r,i){t.call(this,e),this.predicate=r,this.source=i,this.count=0,this.index=0}return __extends(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.debounce=debounce;var DebounceOperator=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new DebounceSubscriber(t,this.durationSelector))},t}(),DebounceSubscriber=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return __extends(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=subscribeToResult_1.subscribeToResult(this,e),r.closed||this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,i,n){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.debounceTime=debounceTime;var DebounceTimeOperator=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new DebounceTimeSubscriber(t,this.dueTime,this.scheduler))},t}(),DebounceTimeSubscriber=function(t){function e(e,r,i){t.call(this,e),this.dueTime=r,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return __extends(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.defaultIfEmpty=defaultIfEmpty;var DefaultIfEmptyOperator=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e._subscribe(new DefaultIfEmptySubscriber(t,this.defaultValue))},t}(),DefaultIfEmptySubscriber=function(t){function e(e,r){t.call(this,e),this.defaultValue=r,this.isEmpty=!0}return __extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},async_1=require("../scheduler/async"),isDate_1=require("../util/isDate"),Subscriber_1=require("../Subscriber"),Notification_1=require("../Notification");exports.delay=delay;var DelayOperator=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new DelaySubscriber(t,this.delay,this.scheduler))},t}(),DelaySubscriber=function(t){function e(e,r,i){t.call(this,e),this.delay=r,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}return __extends(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,i=t.scheduler,n=t.destination;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(n);if(r.length>0){var o=Math.max(0,r[0].time-i.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var e=this.scheduler,r=new DelayMessage(e.now()+this.delay,t);this.queue.push(r),this.active===!1&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(Notification_1.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(Notification_1.Notification.createComplete())},e}(Subscriber_1.Subscriber),DelayMessage=function(){function t(t,e){this.time=t,this.notification=e}return t}(),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),Observable_1=require("../Observable"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.delayWhen=delayWhen;var DelayWhenOperator=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new DelayWhenSubscriber(t,this.delayDurationSelector))},t}(),DelayWhenSubscriber=function(t){function e(e,r){t.call(this,e),this.delayDurationSelector=r,
this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(t),this.removeSubscription(n),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),r=null;return-1!==e&&(r=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),r},e.prototype.tryDelay=function(t,e){var r=subscribeToResult_1.subscribeToResult(this,t,e);this.add(r),this.delayNotifierSubscriptions.push(r),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),SubscriptionDelayObservable=function(t){function e(e,r){t.call(this),this.source=e,this.subscriptionDelay=r}return __extends(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(t,this.source))},e}(Observable_1.Observable),SubscriptionDelaySubscriber=function(t){function e(e,r){t.call(this),this.parent=e,this.source=r,this.sourceSubscribed=!1}return __extends(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.dematerialize=dematerialize;var DeMaterializeOperator=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new DeMaterializeSubscriber(t))},t}(),DeMaterializeSubscriber=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.distinct=distinct;var DistinctOperator=function(){function t(t,e){this.compare=t,this.flushes=e}return t.prototype.call=function(t,e){return e._subscribe(new DistinctSubscriber(t,this.compare,this.flushes))},t}(),DistinctSubscriber=function(t){function e(e,r,i){t.call(this,e),this.values=[],"function"==typeof r&&(this.compare=r),i&&this.add(subscribeToResult_1.subscribeToResult(this,i))}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values.length=0},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){var e=!1,r=this.values,i=r.length;try{for(var n=0;i>n;n++)if(this.compare(r[n],t))return void(e=!0)}catch(o){return void this.destination.error(o)}this.values.push(t),this.destination.next(t)},e.prototype.compare=function(t,e){return t===e},e}(OuterSubscriber_1.OuterSubscriber);exports.DistinctSubscriber=DistinctSubscriber;var distinct_1=require("./distinct");exports.distinctKey=distinctKey;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject");exports.distinctUntilChanged=distinctUntilChanged;var DistinctUntilChangedOperator=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e._subscribe(new DistinctUntilChangedSubscriber(t,this.compare,this.keySelector))},t}(),DistinctUntilChangedSubscriber=function(t){function e(e,r,i){t.call(this,e),this.keySelector=i,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return __extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,r=t;if(e&&(r=tryCatch_1.tryCatch(this.keySelector)(t),r===errorObject_1.errorObject))return this.destination.error(errorObject_1.errorObject.e);var i=!1;if(this.hasKey){if(i=tryCatch_1.tryCatch(this.compare)(this.key,r),i===errorObject_1.errorObject)return this.destination.error(errorObject_1.errorObject.e)}else this.hasKey=!0;Boolean(i)===!1&&(this.key=r,this.destination.next(t))},e}(Subscriber_1.Subscriber),distinctUntilChanged_1=require("./distinctUntilChanged");exports.distinctUntilKeyChanged=distinctUntilKeyChanged;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports._do=_do;var DoOperator=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e._subscribe(new DoSubscriber(t,this.nextOrObserver,this.error,this.complete))},t}(),DoSubscriber=function(t){function e(e,r,i,n){t.call(this,e);var o=new Subscriber_1.Subscriber(r,i,n);o.syncErrorThrowable=!0,this.add(o),this.safeSubscriber=o}return __extends(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),ArgumentOutOfRangeError_1=require("../util/ArgumentOutOfRangeError");exports.elementAt=elementAt;var ElementAtOperator=function(){function t(t,e){if(this.index=t,this.defaultValue=e,0>t)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new ElementAtSubscriber(t,this.index,this.defaultValue))},t}(),ElementAtSubscriber=function(t){function e(e,r,i){t.call(this,e),this.index=r,this.defaultValue=i}return __extends(e,t),e.prototype._next=function(t){0===this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?t.next(this.defaultValue):t.error(new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError)),t.complete()},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.every=every;var EveryOperator=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e._subscribe(new EverySubscriber(t,this.predicate,this.thisArg,this.source))},t}(),EverySubscriber=function(t){function e(e,r,i,n){t.call(this,e),this.predicate=r,this.thisArg=i,this.source=n,this.index=0,this.thisArg=i||this}return __extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.exhaust=exhaust;var SwitchFirstOperator=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new SwitchFirstSubscriber(t))},t}(),SwitchFirstSubscriber=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return __extends(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(subscribeToResult_1.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.exhaustMap=exhaustMap;var SwitchFirstMapOperator=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new SwitchFirstMapSubscriber(t,this.project,this.resultSelector))},t}(),SwitchFirstMapSubscriber=function(t){function e(e,r,i){t.call(this,e),this.project=r,this.resultSelector=i,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return __extends(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var i=this.project(t,e);this.hasSubscription=!0,this.add(subscribeToResult_1.subscribeToResult(this,i,t,e))}catch(n){r.error(n)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,i):u.next(e)},e.prototype.trySelectResult=function(t,e,r,i){var n=this,o=n.resultSelector,s=n.destination;try{var u=o(t,e,r,i);s.next(u)}catch(c){s.error(c)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.expand=expand;var ExpandOperator=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new ExpandSubscriber(t,this.project,this.concurrent,this.scheduler))},t}();exports.ExpandOperator=ExpandOperator;var ExpandSubscriber=function(t){function e(e,r,i,n){t.call(this,e),this.project=r,this.concurrent=i,this.scheduler=n,this.index=0,this.active=0,this.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(this.buffer=[])}return __extends(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,i=t.value,n=t.index;e.subscribeToProjection(r,i,n)},e.prototype._next=function(t){var r=this.destination;if(r.closed)return void this._complete();var i=this.index++;if(this.active<this.concurrent){r.next(t);var n=tryCatch_1.tryCatch(this.project)(t,i);if(n===errorObject_1.errorObject)r.error(errorObject_1.errorObject.e);else if(this.scheduler){var o={subscriber:this,result:n,value:t,index:i};this.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(n,t,i)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(subscribeToResult_1.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber);exports.ExpandSubscriber=ExpandSubscriber;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.filter=filter;var FilterOperator=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new FilterSubscriber(t,this.predicate,this.thisArg))},t}(),FilterSubscriber=function(t){function e(e,r,i){t.call(this,e),this.predicate=r,this.thisArg=i,this.count=0,this.predicate=r}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),Subscription_1=require("../Subscription");exports._finally=_finally;var FinallyOperator=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e._subscribe(new FinallySubscriber(t,this.callback))},t}(),FinallySubscriber=function(t){function e(e,r){t.call(this,e),this.add(new Subscription_1.Subscription(r))}return __extends(e,t),e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.find=find;var FindValueOperator=function(){function t(t,e,r,i){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=i}return t.prototype.call=function(t,e){return e._subscribe(new FindValueSubscriber(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();exports.FindValueOperator=FindValueOperator;var FindValueSubscriber=function(t){function e(e,r,i,n,o){t.call(this,e),this.predicate=r,this.source=i,this.yieldIndex=n,this.thisArg=o,this.index=0}return __extends(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,r=e.predicate,i=e.thisArg,n=this.index++;try{var o=r.call(i||this,t,n,this.source);o&&this.notifyComplete(this.yieldIndex?n:t)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Subscriber_1.Subscriber);exports.FindValueSubscriber=FindValueSubscriber;var find_1=require("./find");exports.findIndex=findIndex;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),EmptyError_1=require("../util/EmptyError");exports.first=first;var FirstOperator=function(){function t(t,e,r,i){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=i}return t.prototype.call=function(t,e){return e._subscribe(new FirstSubscriber(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),FirstSubscriber=function(t){function e(e,r,i,n,o){t.call(this,e),this.predicate=r,this.resultSelector=i,this.defaultValue=n,this.source=o,this.index=0,this.hasCompleted=!1}return __extends(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(i){return void this.destination.error(i)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(i){return void this.destination.error(i)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;e.next(t),e.complete(),this.hasCompleted=!0},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new EmptyError_1.EmptyError):(t.next(this.defaultValue),t.complete())},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),Subscription_1=require("../Subscription"),Observable_1=require("../Observable"),Subject_1=require("../Subject"),Map_1=require("../util/Map"),FastMap_1=require("../util/FastMap");exports.groupBy=groupBy;var GroupByOperator=function(){function t(t,e,r,i){this.source=t,this.keySelector=e,this.elementSelector=r,this.durationSelector=i}return t.prototype.call=function(t,e){return e._subscribe(new GroupBySubscriber(t,this.keySelector,this.elementSelector,this.durationSelector))},t}(),GroupBySubscriber=function(t){function e(e,r,i,n){t.call(this,e),this.keySelector=r,this.elementSelector=i,this.durationSelector=n,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups="string"==typeof e?new FastMap_1.FastMap:new Map_1.Map);var i,n=r.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(o){this.error(o)}else i=t;if(!n){r.set(e,n=new Subject_1.Subject);var s=new GroupedObservable(e,n,this);if(this.destination.next(s),this.durationSelector){var u=void 0;try{u=this.durationSelector(new GroupedObservable(e,n))}catch(o){return void this.error(o)}this.add(u.subscribe(new GroupDurationSubscriber(e,n,this)))}}n.closed||n.next(i)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups["delete"](t)},e.prototype.unsubscribe=function(){this.closed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(Subscriber_1.Subscriber),GroupDurationSubscriber=function(t){function e(e,r,i){t.call(this),this.key=e,this.group=r,this.parent=i}return __extends(e,t),e.prototype._next=function(t){this._complete()},e.prototype._error=function(t){var e=this.group;e.closed||e.error(t),this.parent.removeGroup(this.key)},e.prototype._complete=function(){var t=this.group;t.closed||t.complete(),this.parent.removeGroup(this.key)},e}(Subscriber_1.Subscriber),GroupedObservable=function(t){function e(e,r,i){t.call(this),this.key=e,this.groupSubject=r,this.refCountSubscription=i}return __extends(e,t),e.prototype._subscribe=function(t){var e=new Subscription_1.Subscription,r=this,i=r.refCountSubscription,n=r.groupSubject;return i&&!i.closed&&e.add(new InnerRefCountSubscription(i)),e.add(n.subscribe(t)),e},e}(Observable_1.Observable);exports.GroupedObservable=GroupedObservable;var InnerRefCountSubscription=function(t){function e(e){t.call(this),this.parent=e,e.count++}return __extends(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(Subscription_1.Subscription),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),noop_1=require("../util/noop");exports.ignoreElements=ignoreElements;var IgnoreElementsOperator=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new IgnoreElementsSubscriber(t))},t}(),IgnoreElementsSubscriber=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype._next=function(t){noop_1.noop()},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.isEmpty=isEmpty;var IsEmptyOperator=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new IsEmptySubscriber(t))},t}(),IsEmptySubscriber=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),EmptyError_1=require("../util/EmptyError");exports.last=last;var LastOperator=function(){function t(t,e,r,i){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=i}return t.prototype.call=function(t,e){return e._subscribe(new LastSubscriber(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),LastSubscriber=function(t){function e(e,r,i,n,o){t.call(this,e),this.predicate=r,this.resultSelector=i,this.defaultValue=n,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof n&&(this.lastValue=n,this.hasValue=!0)}return __extends(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(i){return void this.destination.error(i)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(i){return void this.destination.error(i)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new EmptyError_1.EmptyError)},e}(Subscriber_1.Subscriber);exports.letProto=letProto;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.map=map;var MapOperator=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new MapSubscriber(t,this.project,this.thisArg))},t}(),MapSubscriber=function(t){function e(e,r,i){t.call(this,e),this.project=r,this.count=0,this.thisArg=i||this}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.mapTo=mapTo;var MapToOperator=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e._subscribe(new MapToSubscriber(t,this.value))},t}(),MapToSubscriber=function(t){function e(e,r){t.call(this,e),this.value=r}return __extends(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),Notification_1=require("../Notification");exports.materialize=materialize;var MaterializeOperator=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new MaterializeSubscriber(t))},t}(),MaterializeSubscriber=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype._next=function(t){this.destination.next(Notification_1.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(Notification_1.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(Notification_1.Notification.createComplete()),t.complete()},e}(Subscriber_1.Subscriber),reduce_1=require("./reduce");exports.max=max;var ArrayObservable_1=require("../observable/ArrayObservable"),mergeAll_1=require("./mergeAll"),isScheduler_1=require("../util/isScheduler");exports.merge=merge,exports.mergeStatic=mergeStatic;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.mergeAll=mergeAll;var MergeAllOperator=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e._subscribe(new MergeAllSubscriber(t,this.concurrent))},t}();exports.MergeAllOperator=MergeAllOperator;var MergeAllSubscriber=function(t){function e(e,r){t.call(this,e),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return __extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(subscribeToResult_1.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber);exports.MergeAllSubscriber=MergeAllSubscriber;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber");exports.mergeMap=mergeMap;var MergeMapOperator=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new MergeMapSubscriber(t,this.project,this.resultSelector,this.concurrent))},t}();exports.MergeMapOperator=MergeMapOperator;var MergeMapSubscriber=function(t){function e(e,r,i,n){void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=i,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(subscribeToResult_1.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.resultSelector?this._notifyResultSelector(t,e,r,i):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,i){var n;try{n=this.resultSelector(t,e,r,i)}catch(o){return void this.destination.error(o)}this.destination.next(n)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapSubscriber=MergeMapSubscriber;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.mergeMapTo=mergeMapTo;var MergeMapToOperator=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new MergeMapToSubscriber(t,this.ish,this.resultSelector,this.concurrent))},t}();exports.MergeMapToOperator=MergeMapToOperator;var MergeMapToSubscriber=function(t){function e(e,r,i,n){void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=r,this.resultSelector=i,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,r=this.index++,i=this.ish,n=this.destination;this.active++,this._innerSub(i,n,e,t,r)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r,i,n){this.add(subscribeToResult_1.subscribeToResult(this,t,i,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,i):u.next(e)},e.prototype.trySelectResult=function(t,e,r,i){var n,o=this,s=o.resultSelector,u=o.destination;try{n=s(t,e,r,i)}catch(c){return void u.error(c)}u.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapToSubscriber=MergeMapToSubscriber;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),subscribeToResult_1=require("../util/subscribeToResult"),OuterSubscriber_1=require("../OuterSubscriber");exports.mergeScan=mergeScan;var MergeScanOperator=function(){function t(t,e,r){this.project=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new MergeScanSubscriber(t,this.project,this.seed,this.concurrent))},t}();exports.MergeScanOperator=MergeScanOperator;var MergeScanSubscriber=function(t){function e(e,r,i,n){t.call(this,e),this.project=r,this.acc=i,this.concurrent=n,
this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=tryCatch_1.tryCatch(this.project)(this.acc,t),i=this.destination;r===errorObject_1.errorObject?i.error(errorObject_1.errorObject.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){this.add(subscribeToResult_1.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(OuterSubscriber_1.OuterSubscriber);exports.MergeScanSubscriber=MergeScanSubscriber;var reduce_1=require("./reduce");exports.min=min;var MulticastObservable_1=require("../observable/MulticastObservable"),ConnectableObservable_1=require("../observable/ConnectableObservable");exports.multicast=multicast;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),Notification_1=require("../Notification");exports.observeOn=observeOn;var ObserveOnOperator=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e._subscribe(new ObserveOnSubscriber(t,this.scheduler,this.delay))},t}();exports.ObserveOnOperator=ObserveOnOperator;var ObserveOnSubscriber=function(t){function e(e,r,i){void 0===i&&(i=0),t.call(this,e),this.scheduler=r,this.delay=i}return __extends(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r)},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new ObserveOnMessage(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Notification_1.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Notification_1.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(Notification_1.Notification.createComplete())},e}(Subscriber_1.Subscriber);exports.ObserveOnSubscriber=ObserveOnSubscriber;var ObserveOnMessage=function(){function t(t,e){this.notification=t,this.destination=e}return t}();exports.ObserveOnMessage=ObserveOnMessage;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},FromObservable_1=require("../observable/FromObservable"),isArray_1=require("../util/isArray"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.onErrorResumeNext=onErrorResumeNext,exports.onErrorResumeNextStatic=onErrorResumeNextStatic;var OnErrorResumeNextOperator=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e._subscribe(new OnErrorResumeNextSubscriber(t,this.nextSources))},t}(),OnErrorResumeNextSubscriber=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return __extends(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(subscribeToResult_1.subscribeToResult(this,t)):this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.pairwise=pairwise;var PairwiseOperator=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new PairwiseSubscriber(t))},t}(),PairwiseSubscriber=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return __extends(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(Subscriber_1.Subscriber),not_1=require("../util/not"),filter_1=require("./filter");exports.partition=partition;var map_1=require("./map");exports.pluck=pluck;var Subject_1=require("../Subject"),multicast_1=require("./multicast");exports.publish=publish;var BehaviorSubject_1=require("../BehaviorSubject"),multicast_1=require("./multicast");exports.publishBehavior=publishBehavior;var AsyncSubject_1=require("../AsyncSubject"),multicast_1=require("./multicast");exports.publishLast=publishLast;var ReplaySubject_1=require("../ReplaySubject"),multicast_1=require("./multicast");exports.publishReplay=publishReplay;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},isArray_1=require("../util/isArray"),ArrayObservable_1=require("../observable/ArrayObservable"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.race=race,exports.raceStatic=raceStatic;var RaceOperator=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new RaceSubscriber(t))},t}();exports.RaceOperator=RaceOperator;var RaceSubscriber=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return __extends(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;e>r;r++){var i=t[r],n=subscribeToResult_1.subscribeToResult(this,i,i,r);this.subscriptions&&(this.subscriptions.push(n),this.add(n))}this.observables=null}},e.prototype.notifyNext=function(t,e,r,i,n){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(OuterSubscriber_1.OuterSubscriber);exports.RaceSubscriber=RaceSubscriber;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.reduce=reduce;var ReduceOperator=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new ReduceSubscriber(t,this.accumulator,this.seed))},t}();exports.ReduceOperator=ReduceOperator;var ReduceSubscriber=function(t){function e(e,r,i){t.call(this,e),this.accumulator=r,this.hasValue=!1,this.acc=i,this.accumulator=r,this.hasSeed="undefined"!=typeof i}return __extends(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t)}catch(r){return void this.destination.error(r)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(Subscriber_1.Subscriber);exports.ReduceSubscriber=ReduceSubscriber;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),EmptyObservable_1=require("../observable/EmptyObservable");exports.repeat=repeat;var RepeatOperator=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new RepeatSubscriber(t,this.count,this.source))},t}(),RepeatSubscriber=function(t){function e(e,r,i){t.call(this,e),this.count=r,this.source=i}return __extends(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,r=e.source,i=e.count;if(0===i)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,r.subscribe(this)}},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.retry=retry;var RetryOperator=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new RetrySubscriber(t,this.count,this.source))},t}(),RetrySubscriber=function(t){function e(e,r,i){t.call(this,e),this.count=r,this.source=i}return __extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this,i=r.source,n=r.count;if(0===n)return t.prototype.error.call(this,e);n>-1&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,i.subscribe(this)}},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("../Subject"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.retryWhen=retryWhen;var RetryWhenOperator=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new RetryWhenSubscriber(t,this.notifier,this.source))},t}(),RetryWhenSubscriber=function(t){function e(e,r,i){t.call(this,e),this.notifier=r,this.source=i}return __extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,i=this.retries,n=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{if(r=new Subject_1.Subject,i=tryCatch_1.tryCatch(this.notifier)(r),i===errorObject_1.errorObject)return t.prototype.error.call(this,errorObject_1.errorObject.e);n=subscribeToResult_1.subscribeToResult(this,i)}this.unsubscribe(),this.closed=!1,this.errors=r,this.retries=i,this.retriesSubscription=n,r.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,r=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.errors,u=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.errors=s,this.retries=u,this.retriesSubscription=c,this.source.subscribe(this)},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.sample=sample;var SampleOperator=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new SampleSubscriber(t,this.notifier))},t}(),SampleSubscriber=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.add(subscribeToResult_1.subscribeToResult(this,r))}return __extends(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,i,n){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.sampleTime=sampleTime;var SampleTimeOperator=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new SampleTimeSubscriber(t,this.period,this.scheduler))},t}(),SampleTimeSubscriber=function(t){function e(e,r,i){t.call(this,e),this.period=r,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(dispatchNotification,r,{subscriber:this,period:r}))}return __extends(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.scan=scan;var ScanOperator=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new ScanSubscriber(t,this.accumulator,this.seed))},t}(),ScanSubscriber=function(t){function e(e,r,i){t.call(this,e),this.accumulator=r,this.index=0,this.accumulatorSet=!1,this.seed=i,this.accumulatorSet="undefined"!=typeof i}return __extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.accumulatorSet=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){return this.accumulatorSet?this._tryNext(t):(this.seed=t,void this.destination.next(t))},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)},e}(Subscriber_1.Subscriber),multicast_1=require("./multicast"),Subject_1=require("../Subject");exports.share=share;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),EmptyError_1=require("../util/EmptyError");exports.single=single;var SingleOperator=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new SingleSubscriber(t,this.predicate,this.source))},t}(),SingleSubscriber=function(t){function e(e,r,i){t.call(this,e),this.predicate=r,this.source=i,this.seenValue=!1,this.index=0}return __extends(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.predicate;this.index++,e?this.tryNext(t):this.applySingleValue(t)},e.prototype.tryNext=function(t){try{var e=this.predicate(t,this.index,this.source);e&&this.applySingleValue(t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new EmptyError_1.EmptyError)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.skip=skip;var SkipOperator=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e._subscribe(new SkipSubscriber(t,this.total))},t}(),SkipSubscriber=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return __extends(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.skipUntil=skipUntil;var SkipUntilOperator=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new SkipUntilSubscriber(t,this.notifier))},t}(),SkipUntilSubscriber=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(subscribeToResult_1.subscribeToResult(this,r))}return __extends(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,i,n){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.skipWhile=skipWhile;var SkipWhileOperator=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new SkipWhileSubscriber(t,this.predicate))},t}(),SkipWhileSubscriber=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return __extends(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(r){this.destination.error(r)}},e}(Subscriber_1.Subscriber),ArrayObservable_1=require("../observable/ArrayObservable"),ScalarObservable_1=require("../observable/ScalarObservable"),EmptyObservable_1=require("../observable/EmptyObservable"),concat_1=require("./concat"),isScheduler_1=require("../util/isScheduler");exports.startWith=startWith;var SubscribeOnObservable_1=require("../observable/SubscribeOnObservable");exports.subscribeOn=subscribeOn;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports._switch=_switch;var SwitchOperator=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new SwitchSubscriber(t))},t}(),SwitchSubscriber=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return __extends(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.switchMap=switchMap;var SwitchMapOperator=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new SwitchMapSubscriber(t,this.project,this.resultSelector))},t}(),SwitchMapSubscriber=function(t){function e(e,r,i){t.call(this,e),this.project=r,this.resultSelector=i,this.index=0}return __extends(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var i=this.innerSubscription;i&&i.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){this.resultSelector?this._tryNotifyNext(t,e,r,i):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,i){var n;try{n=this.resultSelector(t,e,r,i)}catch(o){return void this.destination.error(o)}this.destination.next(n)},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.switchMapTo=switchMapTo;var SwitchMapToOperator=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new SwitchMapToSubscriber(t,this.observable,this.resultSelector))},t}(),SwitchMapToSubscriber=function(t){function e(e,r,i){t.call(this,e),this.inner=r,this.resultSelector=i,this.index=0}return __extends(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.resultSelector,u=o.destination;s?this.tryResultSelector(t,e,r,i):u.next(e)},e.prototype.tryResultSelector=function(t,e,r,i){var n,o=this,s=o.resultSelector,u=o.destination;try{n=s(t,e,r,i)}catch(c){return void u.error(c)}u.next(n)},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),ArgumentOutOfRangeError_1=require("../util/ArgumentOutOfRangeError"),EmptyObservable_1=require("../observable/EmptyObservable");exports.take=take;var TakeOperator=function(){function t(t){if(this.total=t,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new TakeSubscriber(t,this.total))},t}(),TakeSubscriber=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return __extends(e,t),e.prototype._next=function(t){var e=this.total;++this.count<=e&&(this.destination.next(t),this.count===e&&(this.destination.complete(),this.unsubscribe()))},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),ArgumentOutOfRangeError_1=require("../util/ArgumentOutOfRangeError"),EmptyObservable_1=require("../observable/EmptyObservable");exports.takeLast=takeLast;var TakeLastOperator=function(){function t(t){if(this.total=t,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new TakeLastSubscriber(t,this.total))},t}(),TakeLastSubscriber=function(t){function e(e,r){t.call(this,e),this.total=r,this.ring=new Array,this.count=0}return __extends(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,i=this.count++;if(e.length<r)e.push(t);else{var n=i%r;e[n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,i=this.ring,n=0;r>n;n++){var o=e++%r;t.next(i[o])}t.complete()},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.takeUntil=takeUntil;var TakeUntilOperator=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new TakeUntilSubscriber(t,this.notifier))},t}(),TakeUntilSubscriber=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(subscribeToResult_1.subscribeToResult(this,r))}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.complete()},e.prototype.notifyComplete=function(){},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.takeWhile=takeWhile;var TakeWhileOperator=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new TakeWhileSubscriber(t,this.predicate))},t}(),TakeWhileSubscriber=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.index=0}return __extends(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void r.error(i)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.throttle=throttle;var ThrottleOperator=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new ThrottleSubscriber(t,this.durationSelector))},t}(),ThrottleSubscriber=function(t){function e(e,r){t.call(this,e),this.destination=e,this.durationSelector=r}return __extends(e,t),e.prototype._next=function(t){this.throttled||this.tryDurationSelector(t)},e.prototype.tryDurationSelector=function(t){var e=null;try{e=this.durationSelector(t)}catch(r){return void this.destination.error(r)}this.emitAndThrottle(t,e)},e.prototype.emitAndThrottle=function(t,e){this.add(this.throttled=subscribeToResult_1.subscribeToResult(this,e)),this.destination.next(t)},e.prototype._unsubscribe=function(){var t=this.throttled;t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype.notifyNext=function(t,e,r,i,n){this._unsubscribe()},e.prototype.notifyComplete=function(){this._unsubscribe()},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.throttleTime=throttleTime;var ThrottleTimeOperator=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new ThrottleTimeSubscriber(t,this.duration,this.scheduler))},t}(),ThrottleTimeSubscriber=function(t){function e(e,r,i){t.call(this,e),this.duration=r,this.scheduler=i}return __extends(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.timeInterval=timeInterval;var TimeInterval=function(){function t(t,e){this.value=t,this.interval=e}return t}();exports.TimeInterval=TimeInterval;var TimeIntervalOperator=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e._subscribe(new TimeIntervalSubscriber(t,this.scheduler))},t}(),TimeIntervalSubscriber=function(t){function e(e,r){t.call(this,e),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return __extends(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),r=e-this.lastTime;this.lastTime=e,this.destination.next(new TimeInterval(t,r))},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},async_1=require("../scheduler/async"),isDate_1=require("../util/isDate"),Subscriber_1=require("../Subscriber");exports.timeout=timeout;var TimeoutOperator=function(){function t(t,e,r,i){this.waitFor=t,this.absoluteTimeout=e,this.errorToSend=r,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new TimeoutSubscriber(t,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},t}(),TimeoutSubscriber=function(t){function e(e,r,i,n,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=i,this.errorToSend=n,this.scheduler=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return __extends(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.notifyTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index;this.scheduler.schedule(e.dispatchTimeout,this.waitFor,{subscriber:this,index:t}),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},async_1=require("../scheduler/async"),isDate_1=require("../util/isDate"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.timeoutWith=timeoutWith;var TimeoutWithOperator=function(){function t(t,e,r,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=i}return t.prototype.call=function(t,e){
return e._subscribe(new TimeoutWithSubscriber(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),TimeoutWithSubscriber=function(t){function e(e,r,i,n,o){t.call(this),this.destination=e,this.absoluteTimeout=r,this.waitFor=i,this.withObservable=n,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,e.add(this),this.scheduleTimeout()}return __extends(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.handleTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index,r={subscriber:this,index:t};this.scheduler.schedule(e.dispatchTimeout,this.waitFor,r),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.handleTimeout=function(){if(!this.closed){var t=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=subscribeToResult_1.subscribeToResult(this,t))}},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");exports.timestamp=timestamp;var Timestamp=function(){function t(t,e){this.value=t,this.timestamp=e}return t}();exports.Timestamp=Timestamp;var TimestampOperator=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e._subscribe(new TimestampSubscriber(t,this.scheduler))},t}(),TimestampSubscriber=function(t){function e(e,r){t.call(this,e),this.scheduler=r}return __extends(e,t),e.prototype._next=function(t){var e=this.scheduler.now();this.destination.next(new Timestamp(t,e))},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.toArray=toArray;var ToArrayOperator=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new ToArraySubscriber(t))},t}(),ToArraySubscriber=function(t){function e(e){t.call(this,e),this.array=[]}return __extends(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(Subscriber_1.Subscriber),root_1=require("../util/root");exports.toPromise=toPromise;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("../Subject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.window=window;var WindowOperator=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new WindowSubscriber(t),i=e._subscribe(r);return i.closed||r.add(subscribeToResult_1.subscribeToResult(r,this.windowBoundaries)),i},t}(),WindowSubscriber=function(t){function e(e){t.call(this,e),this.window=new Subject_1.Subject,e.next(this.window)}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new Subject_1.Subject;e.next(r)},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),Subject_1=require("../Subject");exports.windowCount=windowCount;var WindowCountOperator=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new WindowCountSubscriber(t,this.windowSize,this.startWindowEvery))},t}(),WindowCountSubscriber=function(t){function e(e,r,i){t.call(this,e),this.destination=e,this.windowSize=r,this.startWindowEvery=i,this.windows=[new Subject_1.Subject],this.count=0,e.next(this.windows[0])}return __extends(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,i=this.windowSize,n=this.windows,o=n.length,s=0;o>s&&!this.closed;s++)n[s].next(t);var u=this.count-i+1;if(u>=0&&u%e===0&&!this.closed&&n.shift().complete(),++this.count%e===0&&!this.closed){var c=new Subject_1.Subject;n.push(c),r.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("../Subject"),async_1=require("../scheduler/async"),Subscriber_1=require("../Subscriber");exports.windowTime=windowTime;var WindowTimeOperator=function(){function t(t,e,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new WindowTimeSubscriber(t,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},t}(),WindowTimeSubscriber=function(t){function e(e,r,i,n){if(t.call(this,e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=i,this.scheduler=n,this.windows=[],null!==i&&i>=0){var o=this.openWindow(),s={subscriber:this,window:o,context:null},u={windowTimeSpan:r,windowCreationInterval:i,subscriber:this,scheduler:n};this.add(n.schedule(dispatchWindowClose,r,s)),this.add(n.schedule(dispatchWindowCreation,i,u))}else{var c=this.openWindow(),a={subscriber:this,window:c,windowTimeSpan:r};this.add(n.schedule(dispatchWindowTimeSpanOnly,r,a))}}return __extends(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,i=0;r>i;i++){var n=e[i];n.closed||n.next(t)}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new Subject_1.Subject;this.windows.push(t);var e=this.destination;return e.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(Subscriber_1.Subscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("../Subject"),Subscription_1=require("../Subscription"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.windowToggle=windowToggle;var WindowToggleOperator=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new WindowToggleSubscriber(t,this.openings,this.closingSelector))},t}(),WindowToggleSubscriber=function(t){function e(e,r,i){t.call(this,e),this.openings=r,this.closingSelector=i,this.contexts=[],this.add(this.openSubscription=subscribeToResult_1.subscribeToResult(this,r,r))}return __extends(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,i=0;r>i;i++)e[i].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,n=-1;++n<i;){var o=r[n];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,i=-1;++i<r;){var n=e[i];n.window.complete(),n.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var i=t[r];i.window.unsubscribe(),i.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,i,n){if(t===this.openings){var o=this.closingSelector,s=tryCatch_1.tryCatch(o)(e);if(s===errorObject_1.errorObject)return this.error(errorObject_1.errorObject.e);var u=new Subject_1.Subject,c=new Subscription_1.Subscription,a={window:u,subscription:c};this.contexts.push(a);var l=subscribeToResult_1.subscribeToResult(this,s,a);l.closed?this.closeWindow(this.contexts.length-1):(l.context=a,c.add(l)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],i=r.window,n=r.subscription;e.splice(t,1),i.complete(),n.unsubscribe()}},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("../Subject"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.windowWhen=windowWhen;var WindowOperator=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new WindowSubscriber(t,this.closingSelector))},t}(),WindowSubscriber=function(t){function e(e,r){t.call(this,e),this.destination=e,this.closingSelector=r,this.openWindow()}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.openWindow(n)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new Subject_1.Subject;this.destination.next(r);var i=tryCatch_1.tryCatch(this.closingSelector)();if(i===errorObject_1.errorObject){var n=errorObject_1.errorObject.e;this.destination.error(n),this.window.error(n)}else this.add(this.closingNotification=subscribeToResult_1.subscribeToResult(this,i))},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.withLatestFrom=withLatestFrom;var WithLatestFromOperator=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e._subscribe(new WithLatestFromSubscriber(t,this.observables,this.project))},t}(),WithLatestFromSubscriber=function(t){function e(e,r,i){t.call(this,e),this.observables=r,this.project=i,this.toRespond=[];var n=r.length;this.values=new Array(n);for(var o=0;n>o;o++)this.toRespond.push(o);for(var o=0;n>o;o++){var s=r[o];this.add(subscribeToResult_1.subscribeToResult(this,s,s,o))}}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values[r]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(OuterSubscriber_1.OuterSubscriber),__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},ArrayObservable_1=require("../observable/ArrayObservable"),isArray_1=require("../util/isArray"),Subscriber_1=require("../Subscriber"),OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult"),iterator_1=require("../symbol/iterator");exports.zipProto=zipProto,exports.zipStatic=zipStatic;var ZipOperator=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new ZipSubscriber(t,this.project))},t}();exports.ZipOperator=ZipOperator;var ZipSubscriber=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null)),t.call(this,e),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=i}return __extends(e,t),e.prototype._next=function(t){var e=this.iterators,r=this.index++;isArray_1.isArray(t)?e.push(new StaticArrayIterator(t)):"function"==typeof t[iterator_1.$$iterator]?e.push(new StaticIterator(t[iterator_1.$$iterator]())):e.push(new ZipBufferIterator(this.destination,this,t,r))},e.prototype._complete=function(){var t=this.iterators,e=t.length;this.active=e;for(var r=0;e>r;r++){var i=t[r];i.stillUnsubscribed?this.add(i.subscribe(i,r)):this.active--}},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;e>i;i++){var n=t[i];if("function"==typeof n.hasValue&&!n.hasValue())return}for(var o=!1,s=[],i=0;e>i;i++){var n=t[i],u=n.next();if(n.hasCompleted()&&(o=!0),u.done)return void r.complete();s.push(u.value)}this.project?this._tryProject(s):r.next(s),o&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(Subscriber_1.Subscriber);exports.ZipSubscriber=ZipSubscriber;var StaticIterator=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),StaticArrayIterator=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[iterator_1.$$iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),ZipBufferIterator=function(t){function e(e,r,i,n){t.call(this,e),this.parent=r,this.observable=i,this.index=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return __extends(e,t),e.prototype[iterator_1.$$iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return subscribeToResult_1.subscribeToResult(this,this.observable,this,e)},e}(OuterSubscriber_1.OuterSubscriber),zip_1=require("./zip");exports.zipAll=zipAll;var root_1=require("../util/root"),Symbol=root_1.root.Symbol;if("function"==typeof Symbol)Symbol.iterator?exports.$$iterator=Symbol.iterator:"function"==typeof Symbol["for"]&&(exports.$$iterator=Symbol["for"]("iterator"));else if(root_1.root.Set&&"function"==typeof(new root_1.root.Set)["@@iterator"])exports.$$iterator="@@iterator";else if(root_1.root.Map)for(var keys=Object.getOwnPropertyNames(root_1.root.Map.prototype),i=0;i<keys.length;++i){var key=keys[i];if("entries"!==key&&"size"!==key&&root_1.root.Map.prototype[key]===root_1.root.Map.prototype.entries){exports.$$iterator=key;break}}else exports.$$iterator="@@iterator";var root_1=require("../util/root");exports.getSymbolObservable=getSymbolObservable,exports.$$observable=getSymbolObservable(root_1.root);var root_1=require("../util/root"),Symbol=root_1.root.Symbol;exports.$$rxSubscriber="function"==typeof Symbol&&"function"==typeof Symbol["for"]?Symbol["for"]("rxSubscriber"):"@@rxSubscriber";var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),Subscription_1=require("../Subscription"),SubscriptionLoggable_1=require("./SubscriptionLoggable"),applyMixins_1=require("../util/applyMixins"),ColdObservable=function(t){function e(e,r){t.call(this,function(t){var e=this,r=e.logSubscribedFrame();return t.add(new Subscription_1.Subscription(function(){e.logUnsubscribedFrame(r)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=r}return __extends(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,r=0;e>r;r++){var i=this.messages[r];t.add(this.scheduler.schedule(function(t){var e=t.message,r=t.subscriber;e.notification.observe(r)},i.frame,{message:i,subscriber:t}))}},e}(Observable_1.Observable);exports.ColdObservable=ColdObservable,applyMixins_1.applyMixins(ColdObservable,[SubscriptionLoggable_1.SubscriptionLoggable]);var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("../Subject"),Subscription_1=require("../Subscription"),SubscriptionLoggable_1=require("./SubscriptionLoggable"),applyMixins_1=require("../util/applyMixins"),HotObservable=function(t){function e(e,r){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=r}return __extends(e,t),e.prototype._subscribe=function(e){var r=this,i=r.logSubscribedFrame();return e.add(new Subscription_1.Subscription(function(){r.logUnsubscribedFrame(i)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,r=0;e>r;r++)!function(){var e=t.messages[r];t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(Subject_1.Subject);exports.HotObservable=HotObservable,applyMixins_1.applyMixins(HotObservable,[SubscriptionLoggable_1.SubscriptionLoggable]);var SubscriptionLog=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}return t}();exports.SubscriptionLog=SubscriptionLog;var SubscriptionLog_1=require("./SubscriptionLog"),SubscriptionLoggable=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new SubscriptionLog_1.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,r=e[t];e[t]=new SubscriptionLog_1.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},t}();exports.SubscriptionLoggable=SubscriptionLoggable;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Observable_1=require("../Observable"),Notification_1=require("../Notification"),ColdObservable_1=require("./ColdObservable"),HotObservable_1=require("./HotObservable"),SubscriptionLog_1=require("./SubscriptionLog"),VirtualTimeScheduler_1=require("../scheduler/VirtualTimeScheduler"),TestScheduler=function(t){function e(e){t.call(this),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return __extends(e,t),e.prototype.createTime=function(t){var r=t.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*e.frameTimeFactor},e.prototype.createColdObservable=function(t,r,i){if(-1!==t.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==t.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var n=e.parseMarbles(t,r,i),o=new ColdObservable_1.ColdObservable(n,this);return this.coldObservables.push(o),o},e.prototype.createHotObservable=function(t,r,i){if(-1!==t.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var n=e.parseMarbles(t,r,i),o=new HotObservable_1.HotObservable(n,this);return this.hotObservables.push(o),o},e.prototype.materializeInnerObservable=function(t,e){var r=this,i=[];return t.subscribe(function(t){i.push({frame:r.frame-e,notification:Notification_1.Notification.createNext(t)})},function(t){i.push({frame:r.frame-e,notification:Notification_1.Notification.createError(t)})},function(){i.push({frame:r.frame-e,notification:Notification_1.Notification.createComplete()})}),i},e.prototype.expectObservable=function(t,r){var i=this;void 0===r&&(r=null);var n,o=[],s={actual:o,ready:!1},u=e.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule(function(){n=t.subscribe(function(t){var e=t;t instanceof Observable_1.Observable&&(e=i.materializeInnerObservable(e,i.frame)),o.push({frame:i.frame,notification:Notification_1.Notification.createNext(e)})},function(t){o.push({frame:i.frame,notification:Notification_1.Notification.createError(t)})},function(){o.push({frame:i.frame,notification:Notification_1.Notification.createComplete()})})},0),u!==Number.POSITIVE_INFINITY&&this.schedule(function(){return n.unsubscribe()},u),this.flushTests.push(s),{toBe:function(t,r,i){s.ready=!0,s.expected=e.parseMarbles(t,r,i,!0)}}},e.prototype.expectSubscriptions=function(t){var r={actual:t,ready:!1};return this.flushTests.push(r),{toBe:function(t){var i="string"==typeof t?[t]:t;r.ready=!0,r.expected=i.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var r=this.flushTests.filter(function(t){return t.ready});r.length>0;){var i=r.shift();this.assertDeepEqual(i.actual,i.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new SubscriptionLog_1.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,r=-1,i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,o=0;e>o;o++){var s=o*this.frameTimeFactor,u=t[o];switch(u){case"-":case" ":break;case"(":r=s;break;case")":r=-1;break;case"^":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:s;break;case"!":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+u+"'.")}}return 0>n?new SubscriptionLog_1.SubscriptionLog(i):new SubscriptionLog_1.SubscriptionLog(i,n)},e.parseMarbles=function(t,e,r,i){if(void 0===i&&(i=!1),-1!==t.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var n=t.length,o=[],s=t.indexOf("^"),u=-1===s?0:s*-this.frameTimeFactor,c="object"!=typeof e?function(t){return t}:function(t){return i&&e[t]instanceof ColdObservable_1.ColdObservable?e[t].messages:e[t]},a=-1,l=0;n>l;l++){var b=l*this.frameTimeFactor+u,h=void 0,p=t[l];switch(p){case"-":case" ":break;case"(":a=b;break;case")":a=-1;break;case"|":h=Notification_1.Notification.createComplete();break;case"^":break;case"#":h=Notification_1.Notification.createError(r||"error");break;default:h=Notification_1.Notification.createNext(c(p))}h&&o.push({frame:a>-1?a:b,notification:h})}return o},e}(VirtualTimeScheduler_1.VirtualTimeScheduler);exports.TestScheduler=TestScheduler;var root_1=require("./root"),RequestAnimationFrameDefinition=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}();exports.RequestAnimationFrameDefinition=RequestAnimationFrameDefinition,exports.AnimationFrame=new RequestAnimationFrameDefinition(root_1.root);var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},ArgumentOutOfRangeError=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return __extends(e,t),e}(Error);exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},EmptyError=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return __extends(e,t),e}(Error);exports.EmptyError=EmptyError;var FastMap=function(){function t(){this.values={}}return t.prototype["delete"]=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var r=this.values;for(var i in r)r.hasOwnProperty(i)&&null!==r[i]&&t.call(e,r[i],i)},t.prototype.clear=function(){this.values={}},t}();exports.FastMap=FastMap;var root_1=require("./root"),ImmediateDefinition=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function r(t){delete r.instance.tasksByHandle[t]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=function n(){var t=n,e=t.handler,r=t.args;"function"==typeof e?e.apply(void 0,r):new Function(""+e)()};return i.handler=t,i.args=e,i},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",r=function n(r){var i=n.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&i.runIfPresent(+r.data.slice(e.length))};r.instance=this,t.addEventListener("message",r,!1);var i=function o(){var t=o,e=t.messagePrefix,r=t.instance,i=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(e+i,"*"),i};return i.instance=this,i.messagePrefix=e,i},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var r=e.data;t.runIfPresent(r)};var r=function i(){var t=i,e=t.channel,r=t.instance,n=r.addFromSetImmediateArguments(arguments);return e.port2.postMessage(n),n};return r.channel=e,r.instance=this,r},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function e(){var t=e.instance,r=t.root,i=r.document,n=i.documentElement,o=t.addFromSetImmediateArguments(arguments),s=i.createElement("script");return s.onreadystatechange=function(){t.runIfPresent(o),s.onreadystatechange=null,n.removeChild(s),s=null},n.appendChild(s),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return t.instance=this,t},t}();exports.ImmediateDefinition=ImmediateDefinition,exports.Immediate=new ImmediateDefinition(root_1.root);var root_1=require("./root"),MapPolyfill_1=require("./MapPolyfill");exports.Map=root_1.root.Map||function(){
return MapPolyfill_1.MapPolyfill}();var MapPolyfill=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return-1===r?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return-1===e?!1:(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}();exports.MapPolyfill=MapPolyfill;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},ObjectUnsubscribedError=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return __extends(e,t),e}(Error);exports.ObjectUnsubscribedError=ObjectUnsubscribedError;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},UnsubscriptionError=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return __extends(e,t),e}(Error);exports.UnsubscriptionError=UnsubscriptionError,exports.applyMixins=applyMixins;var root_1=require("./root"),Object=root_1.root.Object;"function"!=typeof Object.assign&&!function(){Object.assign=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(void 0===t||null===t)throw new TypeError("cannot convert undefined or null to object");for(var i=Object(t),n=e.length,o=0;n>o;o++){var s=e[o];if(void 0!==s&&null!==s)for(var u in s)s.hasOwnProperty(u)&&(i[u]=s[u])}return i}}(),exports.assign=Object.assign,exports.errorObject={e:{}},exports.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length},exports.isDate=isDate,exports.isFunction=isFunction;var isArray_1=require("../util/isArray");exports.isNumeric=isNumeric,exports.isObject=isObject,exports.isPromise=isPromise,exports.isScheduler=isScheduler,exports.noop=noop,exports.not=not;var objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};exports.root=objectTypes[typeof self]&&self||objectTypes[typeof window]&&window;var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=objectTypes[typeof global]&&global;!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(exports.root=freeGlobal);var root_1=require("./root"),isArray_1=require("./isArray"),isPromise_1=require("./isPromise"),Observable_1=require("../Observable"),iterator_1=require("../symbol/iterator"),InnerSubscriber_1=require("../InnerSubscriber"),observable_1=require("../symbol/observable");exports.subscribeToResult=subscribeToResult;var Subscriber_1=require("../Subscriber"),rxSubscriber_1=require("../symbol/rxSubscriber");exports.toSubscriber=toSubscriber;var errorObject_1=require("./errorObject"),tryCatchTarget;exports.tryCatch=tryCatch;var Observable_1=require("../../Observable"),bindCallback_1=require("../../observable/bindCallback");Observable_1.Observable.bindCallback=bindCallback_1.bindCallback;var Observable_1=require("../../Observable"),bindNodeCallback_1=require("../../observable/bindNodeCallback");Observable_1.Observable.bindNodeCallback=bindNodeCallback_1.bindNodeCallback;var Observable_1=require("../../Observable"),combineLatest_1=require("../../observable/combineLatest");Observable_1.Observable.combineLatest=combineLatest_1.combineLatest;var Observable_1=require("../../Observable"),concat_1=require("../../observable/concat");Observable_1.Observable.concat=concat_1.concat;var Observable_1=require("../../Observable"),defer_1=require("../../observable/defer");Observable_1.Observable.defer=defer_1.defer;var Observable_1=require("../../Observable"),empty_1=require("../../observable/empty");Observable_1.Observable.empty=empty_1.empty;var Observable_1=require("../../Observable"),forkJoin_1=require("../../observable/forkJoin");Observable_1.Observable.forkJoin=forkJoin_1.forkJoin;var Observable_1=require("../../Observable"),from_1=require("../../observable/from");Observable_1.Observable.from=from_1.from;var Observable_1=require("../../Observable"),fromEvent_1=require("../../observable/fromEvent");Observable_1.Observable.fromEvent=fromEvent_1.fromEvent;var Observable_1=require("../../Observable"),fromEventPattern_1=require("../../observable/fromEventPattern");Observable_1.Observable.fromEventPattern=fromEventPattern_1.fromEventPattern;var Observable_1=require("../../Observable"),fromPromise_1=require("../../observable/fromPromise");Observable_1.Observable.fromPromise=fromPromise_1.fromPromise;var Observable_1=require("../../Observable"),GenerateObservable_1=require("../../observable/GenerateObservable");Observable_1.Observable.generate=GenerateObservable_1.GenerateObservable.create;var Observable_1=require("../../Observable"),if_1=require("../../observable/if");Observable_1.Observable["if"]=if_1._if;var Observable_1=require("../../Observable"),interval_1=require("../../observable/interval");Observable_1.Observable.interval=interval_1.interval;var Observable_1=require("../../Observable"),merge_1=require("../../observable/merge");Observable_1.Observable.merge=merge_1.merge;var Observable_1=require("../../Observable"),never_1=require("../../observable/never");Observable_1.Observable.never=never_1.never;var Observable_1=require("../../Observable"),of_1=require("../../observable/of");Observable_1.Observable.of=of_1.of;var Observable_1=require("../../Observable"),onErrorResumeNext_1=require("../../operator/onErrorResumeNext");Observable_1.Observable.onErrorResumeNext=onErrorResumeNext_1.onErrorResumeNextStatic;var Observable_1=require("../../Observable"),pairs_1=require("../../observable/pairs");Observable_1.Observable.pairs=pairs_1.pairs;var Observable_1=require("../../Observable"),race_1=require("../../operator/race");Observable_1.Observable.race=race_1.raceStatic;var Observable_1=require("../../Observable"),range_1=require("../../observable/range");Observable_1.Observable.range=range_1.range;var Observable_1=require("../../Observable"),throw_1=require("../../observable/throw");Observable_1.Observable["throw"]=throw_1._throw;var Observable_1=require("../../Observable"),timer_1=require("../../observable/timer");Observable_1.Observable.timer=timer_1.timer;var Observable_1=require("../../Observable"),using_1=require("../../observable/using");Observable_1.Observable.using=using_1.using;var Observable_1=require("../../Observable"),zip_1=require("../../observable/zip");Observable_1.Observable.zip=zip_1.zip;var Observable_1=require("../../Observable"),audit_1=require("../../operator/audit");Observable_1.Observable.prototype.audit=audit_1.audit;var Observable_1=require("../../Observable"),auditTime_1=require("../../operator/auditTime");Observable_1.Observable.prototype.auditTime=auditTime_1.auditTime;var Observable_1=require("../../Observable"),buffer_1=require("../../operator/buffer");Observable_1.Observable.prototype.buffer=buffer_1.buffer;var Observable_1=require("../../Observable"),bufferCount_1=require("../../operator/bufferCount");Observable_1.Observable.prototype.bufferCount=bufferCount_1.bufferCount;var Observable_1=require("../../Observable"),bufferTime_1=require("../../operator/bufferTime");Observable_1.Observable.prototype.bufferTime=bufferTime_1.bufferTime;var Observable_1=require("../../Observable"),bufferToggle_1=require("../../operator/bufferToggle");Observable_1.Observable.prototype.bufferToggle=bufferToggle_1.bufferToggle;var Observable_1=require("../../Observable"),bufferWhen_1=require("../../operator/bufferWhen");Observable_1.Observable.prototype.bufferWhen=bufferWhen_1.bufferWhen;var Observable_1=require("../../Observable"),cache_1=require("../../operator/cache");Observable_1.Observable.prototype.cache=cache_1.cache;var Observable_1=require("../../Observable"),catch_1=require("../../operator/catch");Observable_1.Observable.prototype["catch"]=catch_1._catch;var Observable_1=require("../../Observable"),combineAll_1=require("../../operator/combineAll");Observable_1.Observable.prototype.combineAll=combineAll_1.combineAll;var Observable_1=require("../../Observable"),combineLatest_1=require("../../operator/combineLatest");Observable_1.Observable.prototype.combineLatest=combineLatest_1.combineLatest;var Observable_1=require("../../Observable"),concat_1=require("../../operator/concat");Observable_1.Observable.prototype.concat=concat_1.concat;var Observable_1=require("../../Observable"),concatAll_1=require("../../operator/concatAll");Observable_1.Observable.prototype.concatAll=concatAll_1.concatAll;var Observable_1=require("../../Observable"),concatMap_1=require("../../operator/concatMap");Observable_1.Observable.prototype.concatMap=concatMap_1.concatMap;var Observable_1=require("../../Observable"),concatMapTo_1=require("../../operator/concatMapTo");Observable_1.Observable.prototype.concatMapTo=concatMapTo_1.concatMapTo;var Observable_1=require("../../Observable"),count_1=require("../../operator/count");Observable_1.Observable.prototype.count=count_1.count;var Observable_1=require("../../Observable"),debounce_1=require("../../operator/debounce");Observable_1.Observable.prototype.debounce=debounce_1.debounce;var Observable_1=require("../../Observable"),debounceTime_1=require("../../operator/debounceTime");Observable_1.Observable.prototype.debounceTime=debounceTime_1.debounceTime;var Observable_1=require("../../Observable"),defaultIfEmpty_1=require("../../operator/defaultIfEmpty");Observable_1.Observable.prototype.defaultIfEmpty=defaultIfEmpty_1.defaultIfEmpty;var Observable_1=require("../../Observable"),delay_1=require("../../operator/delay");Observable_1.Observable.prototype.delay=delay_1.delay;var Observable_1=require("../../Observable"),delayWhen_1=require("../../operator/delayWhen");Observable_1.Observable.prototype.delayWhen=delayWhen_1.delayWhen;var Observable_1=require("../../Observable"),dematerialize_1=require("../../operator/dematerialize");Observable_1.Observable.prototype.dematerialize=dematerialize_1.dematerialize;var Observable_1=require("../../Observable"),distinct_1=require("../../operator/distinct");Observable_1.Observable.prototype.distinct=distinct_1.distinct;var Observable_1=require("../../Observable"),distinctKey_1=require("../../operator/distinctKey");Observable_1.Observable.prototype.distinctKey=distinctKey_1.distinctKey;var Observable_1=require("../../Observable"),distinctUntilChanged_1=require("../../operator/distinctUntilChanged");Observable_1.Observable.prototype.distinctUntilChanged=distinctUntilChanged_1.distinctUntilChanged;var Observable_1=require("../../Observable"),distinctUntilKeyChanged_1=require("../../operator/distinctUntilKeyChanged");Observable_1.Observable.prototype.distinctUntilKeyChanged=distinctUntilKeyChanged_1.distinctUntilKeyChanged;var Observable_1=require("../../Observable"),do_1=require("../../operator/do");Observable_1.Observable.prototype["do"]=do_1._do;var Observable_1=require("../../Observable"),elementAt_1=require("../../operator/elementAt");Observable_1.Observable.prototype.elementAt=elementAt_1.elementAt;var Observable_1=require("../../Observable"),every_1=require("../../operator/every");Observable_1.Observable.prototype.every=every_1.every;var Observable_1=require("../../Observable"),exhaust_1=require("../../operator/exhaust");Observable_1.Observable.prototype.exhaust=exhaust_1.exhaust;var Observable_1=require("../../Observable"),exhaustMap_1=require("../../operator/exhaustMap");Observable_1.Observable.prototype.exhaustMap=exhaustMap_1.exhaustMap;var Observable_1=require("../../Observable"),expand_1=require("../../operator/expand");Observable_1.Observable.prototype.expand=expand_1.expand;var Observable_1=require("../../Observable"),filter_1=require("../../operator/filter");Observable_1.Observable.prototype.filter=filter_1.filter;var Observable_1=require("../../Observable"),finally_1=require("../../operator/finally");Observable_1.Observable.prototype["finally"]=finally_1._finally;var Observable_1=require("../../Observable"),find_1=require("../../operator/find");Observable_1.Observable.prototype.find=find_1.find;var Observable_1=require("../../Observable"),findIndex_1=require("../../operator/findIndex");Observable_1.Observable.prototype.findIndex=findIndex_1.findIndex;var Observable_1=require("../../Observable"),first_1=require("../../operator/first");Observable_1.Observable.prototype.first=first_1.first;var Observable_1=require("../../Observable"),groupBy_1=require("../../operator/groupBy");Observable_1.Observable.prototype.groupBy=groupBy_1.groupBy;var Observable_1=require("../../Observable"),ignoreElements_1=require("../../operator/ignoreElements");Observable_1.Observable.prototype.ignoreElements=ignoreElements_1.ignoreElements;var Observable_1=require("../../Observable"),isEmpty_1=require("../../operator/isEmpty");Observable_1.Observable.prototype.isEmpty=isEmpty_1.isEmpty;var Observable_1=require("../../Observable"),last_1=require("../../operator/last");Observable_1.Observable.prototype.last=last_1.last;var Observable_1=require("../../Observable"),let_1=require("../../operator/let");Observable_1.Observable.prototype.let=let_1.letProto,Observable_1.Observable.prototype.letBind=let_1.letProto;var Observable_1=require("../../Observable"),map_1=require("../../operator/map");Observable_1.Observable.prototype.map=map_1.map;var Observable_1=require("../../Observable"),mapTo_1=require("../../operator/mapTo");Observable_1.Observable.prototype.mapTo=mapTo_1.mapTo;var Observable_1=require("../../Observable"),materialize_1=require("../../operator/materialize");Observable_1.Observable.prototype.materialize=materialize_1.materialize;var Observable_1=require("../../Observable"),max_1=require("../../operator/max");Observable_1.Observable.prototype.max=max_1.max;var Observable_1=require("../../Observable"),merge_1=require("../../operator/merge");Observable_1.Observable.prototype.merge=merge_1.merge;var Observable_1=require("../../Observable"),mergeAll_1=require("../../operator/mergeAll");Observable_1.Observable.prototype.mergeAll=mergeAll_1.mergeAll;var Observable_1=require("../../Observable"),mergeMap_1=require("../../operator/mergeMap");Observable_1.Observable.prototype.mergeMap=mergeMap_1.mergeMap,Observable_1.Observable.prototype.flatMap=mergeMap_1.mergeMap;var Observable_1=require("../../Observable"),mergeMapTo_1=require("../../operator/mergeMapTo");Observable_1.Observable.prototype.flatMapTo=mergeMapTo_1.mergeMapTo,Observable_1.Observable.prototype.mergeMapTo=mergeMapTo_1.mergeMapTo;var Observable_1=require("../../Observable"),mergeScan_1=require("../../operator/mergeScan");Observable_1.Observable.prototype.mergeScan=mergeScan_1.mergeScan;var Observable_1=require("../../Observable"),min_1=require("../../operator/min");Observable_1.Observable.prototype.min=min_1.min;var Observable_1=require("../../Observable"),multicast_1=require("../../operator/multicast");Observable_1.Observable.prototype.multicast=multicast_1.multicast;var Observable_1=require("../../Observable"),observeOn_1=require("../../operator/observeOn");Observable_1.Observable.prototype.observeOn=observeOn_1.observeOn;var Observable_1=require("../../Observable"),onErrorResumeNext_1=require("../../operator/onErrorResumeNext");Observable_1.Observable.prototype.onErrorResumeNext=onErrorResumeNext_1.onErrorResumeNext;var Observable_1=require("../../Observable"),pairwise_1=require("../../operator/pairwise");Observable_1.Observable.prototype.pairwise=pairwise_1.pairwise;var Observable_1=require("../../Observable"),partition_1=require("../../operator/partition");Observable_1.Observable.prototype.partition=partition_1.partition;var Observable_1=require("../../Observable"),pluck_1=require("../../operator/pluck");Observable_1.Observable.prototype.pluck=pluck_1.pluck;var Observable_1=require("../../Observable"),publish_1=require("../../operator/publish");Observable_1.Observable.prototype.publish=publish_1.publish;var Observable_1=require("../../Observable"),publishBehavior_1=require("../../operator/publishBehavior");Observable_1.Observable.prototype.publishBehavior=publishBehavior_1.publishBehavior;var Observable_1=require("../../Observable"),publishLast_1=require("../../operator/publishLast");Observable_1.Observable.prototype.publishLast=publishLast_1.publishLast;var Observable_1=require("../../Observable"),publishReplay_1=require("../../operator/publishReplay");Observable_1.Observable.prototype.publishReplay=publishReplay_1.publishReplay;var Observable_1=require("../../Observable"),race_1=require("../../operator/race");Observable_1.Observable.prototype.race=race_1.race;var Observable_1=require("../../Observable"),reduce_1=require("../../operator/reduce");Observable_1.Observable.prototype.reduce=reduce_1.reduce;var Observable_1=require("../../Observable"),repeat_1=require("../../operator/repeat");Observable_1.Observable.prototype.repeat=repeat_1.repeat;var Observable_1=require("../../Observable"),retry_1=require("../../operator/retry");Observable_1.Observable.prototype.retry=retry_1.retry;var Observable_1=require("../../Observable"),retryWhen_1=require("../../operator/retryWhen");Observable_1.Observable.prototype.retryWhen=retryWhen_1.retryWhen;var Observable_1=require("../../Observable"),sample_1=require("../../operator/sample");Observable_1.Observable.prototype.sample=sample_1.sample;var Observable_1=require("../../Observable"),sampleTime_1=require("../../operator/sampleTime");Observable_1.Observable.prototype.sampleTime=sampleTime_1.sampleTime;var Observable_1=require("../../Observable"),scan_1=require("../../operator/scan");Observable_1.Observable.prototype.scan=scan_1.scan;var Observable_1=require("../../Observable"),share_1=require("../../operator/share");Observable_1.Observable.prototype.share=share_1.share;var Observable_1=require("../../Observable"),single_1=require("../../operator/single");Observable_1.Observable.prototype.single=single_1.single;var Observable_1=require("../../Observable"),skip_1=require("../../operator/skip");Observable_1.Observable.prototype.skip=skip_1.skip;var Observable_1=require("../../Observable"),skipUntil_1=require("../../operator/skipUntil");Observable_1.Observable.prototype.skipUntil=skipUntil_1.skipUntil;var Observable_1=require("../../Observable"),skipWhile_1=require("../../operator/skipWhile");Observable_1.Observable.prototype.skipWhile=skipWhile_1.skipWhile;var Observable_1=require("../../Observable"),startWith_1=require("../../operator/startWith");Observable_1.Observable.prototype.startWith=startWith_1.startWith;var Observable_1=require("../../Observable"),subscribeOn_1=require("../../operator/subscribeOn");Observable_1.Observable.prototype.subscribeOn=subscribeOn_1.subscribeOn;var Observable_1=require("../../Observable"),switch_1=require("../../operator/switch");Observable_1.Observable.prototype["switch"]=switch_1._switch;var Observable_1=require("../../Observable"),switchMap_1=require("../../operator/switchMap");Observable_1.Observable.prototype.switchMap=switchMap_1.switchMap;var Observable_1=require("../../Observable"),switchMapTo_1=require("../../operator/switchMapTo");Observable_1.Observable.prototype.switchMapTo=switchMapTo_1.switchMapTo;var Observable_1=require("../../Observable"),take_1=require("../../operator/take");Observable_1.Observable.prototype.take=take_1.take;var Observable_1=require("../../Observable"),takeLast_1=require("../../operator/takeLast");Observable_1.Observable.prototype.takeLast=takeLast_1.takeLast;var Observable_1=require("../../Observable"),takeUntil_1=require("../../operator/takeUntil");Observable_1.Observable.prototype.takeUntil=takeUntil_1.takeUntil;var Observable_1=require("../../Observable"),takeWhile_1=require("../../operator/takeWhile");Observable_1.Observable.prototype.takeWhile=takeWhile_1.takeWhile;var Observable_1=require("../../Observable"),throttle_1=require("../../operator/throttle");Observable_1.Observable.prototype.throttle=throttle_1.throttle;var Observable_1=require("../../Observable"),throttleTime_1=require("../../operator/throttleTime");Observable_1.Observable.prototype.throttleTime=throttleTime_1.throttleTime;var Observable_1=require("../../Observable"),timeInterval_1=require("../../operator/timeInterval");Observable_1.Observable.prototype.timeInterval=timeInterval_1.timeInterval;var Observable_1=require("../../Observable"),timeout_1=require("../../operator/timeout");Observable_1.Observable.prototype.timeout=timeout_1.timeout;var Observable_1=require("../../Observable"),timeoutWith_1=require("../../operator/timeoutWith");Observable_1.Observable.prototype.timeoutWith=timeoutWith_1.timeoutWith;var Observable_1=require("../../Observable"),timestamp_1=require("../../operator/timestamp");Observable_1.Observable.prototype.timestamp=timestamp_1.timestamp;var Observable_1=require("../../Observable"),toArray_1=require("../../operator/toArray");Observable_1.Observable.prototype.toArray=toArray_1.toArray;var Observable_1=require("../../Observable"),toPromise_1=require("../../operator/toPromise");Observable_1.Observable.prototype.toPromise=toPromise_1.toPromise;var Observable_1=require("../../Observable"),window_1=require("../../operator/window");Observable_1.Observable.prototype.window=window_1.window;var Observable_1=require("../../Observable"),windowCount_1=require("../../operator/windowCount");Observable_1.Observable.prototype.windowCount=windowCount_1.windowCount;var Observable_1=require("../../Observable"),windowTime_1=require("../../operator/windowTime");Observable_1.Observable.prototype.windowTime=windowTime_1.windowTime;var Observable_1=require("../../Observable"),windowToggle_1=require("../../operator/windowToggle");Observable_1.Observable.prototype.windowToggle=windowToggle_1.windowToggle;var Observable_1=require("../../Observable"),windowWhen_1=require("../../operator/windowWhen");Observable_1.Observable.prototype.windowWhen=windowWhen_1.windowWhen;var Observable_1=require("../../Observable"),withLatestFrom_1=require("../../operator/withLatestFrom");Observable_1.Observable.prototype.withLatestFrom=withLatestFrom_1.withLatestFrom;var Observable_1=require("../../Observable"),zip_1=require("../../operator/zip");Observable_1.Observable.prototype.zip=zip_1.zipProto;var Observable_1=require("../../Observable"),zipAll_1=require("../../operator/zipAll");Observable_1.Observable.prototype.zipAll=zipAll_1.zipAll;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},root_1=require("../../util/root"),tryCatch_1=require("../../util/tryCatch"),errorObject_1=require("../../util/errorObject"),Observable_1=require("../../Observable"),Subscriber_1=require("../../Subscriber");exports.ajaxGet=ajaxGet,exports.ajaxPost=ajaxPost,exports.ajaxDelete=ajaxDelete,exports.ajaxPut=ajaxPut,exports.ajaxGetJSON=ajaxGetJSON;var AjaxObservable=function(t){function e(e){t.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?getCORSRequest.call(this):getXMLHttpRequest()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)r.url=e;else for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);this.request=r}return __extends(e,t),e.prototype._subscribe=function(t){return new AjaxSubscriber(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=ajaxGet,t.post=ajaxPost,t["delete"]=ajaxDelete,t.put=ajaxPut,t.getJSON=ajaxGetJSON,t}(),e}(Observable_1.Observable);exports.AjaxObservable=AjaxObservable;var AjaxSubscriber=function(t){function e(e,r){t.call(this,e),this.request=r,this.done=!1;var i=r.headers=r.headers||{};r.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in i||root_1.root.FormData&&r.body instanceof root_1.root.FormData||"undefined"==typeof r.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return __extends(e,t),e.prototype.next=function(t){this.done=!0;var e=this,r=e.xhr,i=e.request,n=e.destination,o=new AjaxResponse(t,r,i);n.next(o)},e.prototype.send=function(){var t=this,e=t.request,r=t.request,i=r.user,n=r.method,o=r.url,s=r.async,u=r.password,c=r.headers,a=r.body,l=e.createXHR,b=tryCatch_1.tryCatch(l).call(e);if(b===errorObject_1.errorObject)this.error(errorObject_1.errorObject.e);else{this.xhr=b;var h=void 0;if(h=i?tryCatch_1.tryCatch(b.open).call(b,n,o,s,i,u):tryCatch_1.tryCatch(b.open).call(b,n,o,s),h===errorObject_1.errorObject)return this.error(errorObject_1.errorObject.e),null;b.timeout=e.timeout,b.responseType=e.responseType,this.setHeaders(b,c),this.setupEvents(b,e),a?b.send(a):b.send()}return b},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(root_1.root.FormData&&t instanceof root_1.root.FormData)return t;if(e){var r=e.indexOf(";");-1!==r&&(e=e.substring(0,r))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])},e.prototype.setupEvents=function(t,e){var r=e.progressSubscriber;t.ontimeout=function i(t){var e=i,r=e.subscriber,n=e.progressSubscriber,o=e.request;n&&n.error(t),r.error(new AjaxTimeoutError(this,o))},t.ontimeout.request=e,t.ontimeout.subscriber=this,t.ontimeout.progressSubscriber=r,t.upload&&"withCredentials"in t&&root_1.root.XDomainRequest&&(r&&(t.onprogress=function n(t){var e=n.progressSubscriber;e.next(t)},t.onprogress.progressSubscriber=r),t.onerror=function o(t){var e=o,r=e.progressSubscriber,i=e.subscriber,n=e.request;r&&r.error(t),i.error(new AjaxError("ajax error",this,n))},t.onerror.request=e,t.onerror.subscriber=this,t.onerror.progressSubscriber=r),t.onreadystatechange=function s(t){var e=s,r=e.subscriber,i=e.progressSubscriber,n=e.request;if(4===this.readyState){var o=1223===this.status?204:this.status,u="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=u?200:0),o>=200&&300>o?(i&&i.complete(),r.next(t),r.complete()):(i&&i.error(t),r.error(new AjaxError("ajax error "+o,this,n)))}},t.onreadystatechange.subscriber=this,t.onreadystatechange.progressSubscriber=r,t.onreadystatechange.request=e},e.prototype.unsubscribe=function(){var e=this,r=e.done,i=e.xhr;!r&&i&&4!==i.readyState&&i.abort(),t.prototype.unsubscribe.call(this)},e}(Subscriber_1.Subscriber);exports.AjaxSubscriber=AjaxSubscriber;var AjaxResponse=function(){function t(t,e,r){switch(this.originalEvent=t,this.xhr=e,this.request=r,this.status=e.status,this.responseType=e.responseType||r.responseType,this.responseType){case"json":"response"in e?this.response=e.responseType?e.response:JSON.parse(e.response||e.responseText||""):this.response=JSON.parse(e.responseText||"");break;case"xml":this.response=e.responseXML;break;case"text":default:this.response="response"in e?e.response:e.responseText}}return t}();exports.AjaxResponse=AjaxResponse;var AjaxError=function(t){function e(e,r,i){t.call(this,e),this.message=e,this.xhr=r,this.request=i,this.status=r.status}return __extends(e,t),e}(Error);exports.AjaxError=AjaxError;var AjaxTimeoutError=function(t){function e(e,r){t.call(this,"ajax timeout",e,r)}return __extends(e,t),e}(AjaxError);exports.AjaxTimeoutError=AjaxTimeoutError;var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subject_1=require("../../Subject"),Subscriber_1=require("../../Subscriber"),Observable_1=require("../../Observable"),Subscription_1=require("../../Subscription"),root_1=require("../../util/root"),ReplaySubject_1=require("../../ReplaySubject"),tryCatch_1=require("../../util/tryCatch"),errorObject_1=require("../../util/errorObject"),assign_1=require("../../util/assign"),WebSocketSubject=function(t){function e(e,r){if(e instanceof Observable_1.Observable)t.call(this,r,e);else{if(t.call(this),this.WebSocketCtor=root_1.root.WebSocket,this._output=new Subject_1.Subject,"string"==typeof e?this.url=e:assign_1.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new ReplaySubject_1.ReplaySubject}}return __extends(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var r=new e(this,this.destination);return r.operator=t,r},e.prototype.multiplex=function(t,e,r){var i=this;return new Observable_1.Observable(function(n){var o=tryCatch_1.tryCatch(t)();o===errorObject_1.errorObject?n.error(errorObject_1.errorObject.e):i.next(o);var s=i.subscribe(function(t){var e=tryCatch_1.tryCatch(r)(t);e===errorObject_1.errorObject?n.error(errorObject_1.errorObject.e):e&&n.next(t)},function(t){return n.error(t)},function(){return n.complete()});return function(){var t=tryCatch_1.tryCatch(e)();t===errorObject_1.errorObject?n.error(errorObject_1.errorObject.e):i.next(t),s.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,r=this.protocol?new e(this.url,this.protocol):new e(this.url);this.socket=r;var i=new Subscription_1.Subscription(function(){t.socket=null,r&&1===r.readyState&&r.close()}),n=this._output;r.onopen=function(e){var o=t.openObserver;o&&o.next(e);var s=t.destination;t.destination=Subscriber_1.Subscriber.create(function(t){return 1===r.readyState&&r.send(t)},function(e){var i=t.closingObserver;i&&i.next(void 0),e&&e.code?r.close(e.code,e.reason):n.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t.destination=new ReplaySubject_1.ReplaySubject,t.socket=null},function(){var e=t.closingObserver;e&&e.next(void 0),r.close(),t.destination=new ReplaySubject_1.ReplaySubject,t.socket=null}),s&&s instanceof ReplaySubject_1.ReplaySubject&&i.add(s.subscribe(t.destination))},r.onerror=function(t){return n.error(t)},r.onclose=function(e){var r=t.closeObserver;r&&r.next(e),e.wasClean?n.complete():n.error(e)},r.onmessage=function(e){var r=tryCatch_1.tryCatch(t.resultSelector)(e);r===errorObject_1.errorObject?n.error(errorObject_1.errorObject.e):n.next(r)}},e.prototype._subscribe=function(t){var e=this,r=this.source;if(r)return r.subscribe(t);this.socket||this._connectSocket();var i=new Subscription_1.Subscription;return i.add(this._output.subscribe(t)),i.add(function(){var t=e.socket;0===e._output.observers.length&&t&&1===t.readyState&&(t.close(),e.socket=null)}),i},e.prototype.unsubscribe=function(){var e=this,r=e.source,i=e.socket;i&&1===i.readyState&&(i.close(),this.socket=null),t.prototype.unsubscribe.call(this),r||(this.destination=new ReplaySubject_1.ReplaySubject)},e}(Subject_1.AnonymousSubject);exports.WebSocketSubject=WebSocketSubject;var AjaxObservable_1=require("./AjaxObservable");exports.ajax=AjaxObservable_1.AjaxObservable.create;var WebSocketSubject_1=require("./WebSocketSubject");exports.webSocket=WebSocketSubject_1.WebSocketSubject.create,System.register(["../Subscription"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){
function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(e,r){t.call(this)}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(r.Subscription),t("Action",i)}}}),System.register(["./AsyncAction","../util/AnimationFrame"],function(t,e){var r,i,n,o=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return o(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=i.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.recycleAsyncId.call(this,e,r,n):void(0===e.actions.length&&(i.AnimationFrame.cancelAnimationFrame(r),e.scheduled=void 0))},e}(r.AsyncAction),t("AnimationFrameAction",n)}}}),System.register(["./AsyncScheduler"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var t,e=this.actions,r=-1,i=e.length,n=e.shift();do if(t=n.execute(n.state,n.delay))break;while(++r<i&&(n=e.shift()));if(this.active=!1,t){for(;++r<i&&(n=e.shift());)n.unsubscribe();throw t}},e}(r.AsyncScheduler),t("AnimationFrameScheduler",i)}}}),System.register(["../util/Immediate","./AsyncAction"],function(t,e){var r,i,n,o=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return o(e,t),e.prototype.requestAsyncId=function(e,i,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,i,n):(e.actions.push(this),e.scheduled||(e.scheduled=r.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,i,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.recycleAsyncId.call(this,e,i,n):void(0===e.actions.length&&(r.Immediate.clearImmediate(i),e.scheduled=void 0))},e}(i.AsyncAction),t("AsapAction",n)}}}),System.register(["./AsyncScheduler"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var t,e=this.actions,r=-1,i=e.length,n=e.shift();do if(t=n.execute(n.state,n.delay))break;while(++r<i&&(n=e.shift()));if(this.active=!1,t){for(;++r<i&&(n=e.shift());)n.unsubscribe();throw t}},e}(r.AsyncScheduler),t("AsapScheduler",i)}}}),System.register(["../util/root","./Action"],function(t,e){var r,i,n,o=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return o(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),r.root.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,e,i){return void 0===i&&(i=0),null!==i&&this.delay===i?e:r.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);return r?r:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},e.prototype._execute=function(t,e){var r=!1,i=void 0;try{this.work(t)}catch(n){r=!0,i=!!n&&n||new Error(n)}return r?(this.unsubscribe(),i):void 0},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,i=r.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(i.Action),t("AsyncAction",n)}}}),System.register(["../Scheduler"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var r;this.active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}},e}(r.Scheduler),t("AsyncScheduler",i)}}}),System.register(["./AsyncAction"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):e.flush(this)},e}(r.AsyncAction),t("QueueAction",i)}}}),System.register(["./AsyncScheduler"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(r.AsyncScheduler),t("QueueScheduler",i)}}}),System.register(["./AsyncAction","./AsyncScheduler"],function(t,e){var r,i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){function e(e,r){var i=this;void 0===e&&(e=o),void 0===r&&(r=750),t.call(this,e,function(){return i.frame}),this.maxFrames=r,this.frame=0,this.index=-1}return s(e,t),e.prototype.flush=function(){for(var t,e,r=this,i=r.actions,n=r.maxFrames;(e=i.shift())&&(this.frame=e.delay)<=n&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=i.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(i.AsyncScheduler),t("VirtualTimeScheduler",n),o=function(t){function e(e,r,i){void 0===i&&(i=e.index+=1),t.call(this,e,r),this.scheduler=e,this.work=r,this.index=i,this.index=e.index=i}return s(e,t),e.prototype.schedule=function(r,i){return void 0===i&&(i=0),this.id?this.add(new e(this.scheduler,this.work)).schedule(r,i):t.prototype.schedule.call(this,r,i)},e.prototype.requestAsyncId=function(t,r,i){void 0===i&&(i=0),this.delay=t.frame+i;var n=t.actions;return n.push(this),n.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(r.AsyncAction),t("VirtualAction",o)}}}),System.register(["./AnimationFrameAction","./AnimationFrameScheduler"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){t("animationFrame",n=new i.AnimationFrameScheduler(r.AnimationFrameAction))}}}),System.register(["./AsapAction","./AsapScheduler"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){t("asap",n=new i.AsapScheduler(r.AsapAction))}}}),System.register(["./AsyncAction","./AsyncScheduler"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){t("async",n=new i.AsyncScheduler(r.AsyncAction))}}}),System.register(["./QueueAction","./QueueScheduler"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){t("queue",n=new i.QueueScheduler(r.QueueAction))}}}),System.register(["../util/root"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t}],execute:function(){if(n=r.root.Symbol,"function"==typeof n)n.iterator?t("$$iterator",i=n.iterator):"function"==typeof n["for"]&&t("$$iterator",i=n["for"]("iterator"));else if(r.root.Set&&"function"==typeof(new r.root.Set)["@@iterator"])t("$$iterator",i="@@iterator");else if(r.root.Map)for(var e=Object.getOwnPropertyNames(r.root.Map.prototype),o=0;o<e.length;++o){var s=e[o];if("entries"!==s&&"size"!==s&&r.root.Map.prototype[s]===r.root.Map.prototype.entries){t("$$iterator",i=s);break}}else t("$$iterator",i="@@iterator")}}}),System.register(["../util/root"],function(t,e){function r(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var i,n;e&&e.id;return t("getSymbolObservable",r),{setters:[function(t){i=t}],execute:function(){t("$$observable",n=r(i.root))}}}),System.register(["../util/root"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t}],execute:function(){i=r.root.Symbol,t("$$rxSubscriber",n="function"==typeof i&&"function"==typeof i["for"]?i["for"]("rxSubscriber"):"@@rxSubscriber")}}}),System.register(["../Observable","./ScalarObservable","./EmptyObservable"],function(t,e){var r,i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t}],execute:function(){o=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return s(e,t),e.create=function(t,r){var o=t.length;return 0===o?new n.EmptyObservable:1===o?new i.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,i=t.length,n=t.subscriber;if(!n.closed){if(r>=i)return void n.complete();n.next(e[r]),t.index=r+1,this.schedule(t)}},e.prototype._subscribe=function(t){var r=0,i=this,n=i.arrayLike,o=i.scheduler,s=n.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:n,index:r,length:s,subscriber:t});for(var u=0;s>u&&!t.closed;u++)t.next(n[u]);t.complete()},e}(r.Observable),t("ArrayLikeObservable",o)}}}),System.register(["../Observable","./ScalarObservable","./EmptyObservable","../util/isScheduler"],function(t,e){var r,i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return u(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var s=t[t.length-1];o.isScheduler(s)?t.pop():s=null;var u=t.length;return u>1?new e(t,s):1===u?new i.ScalarObservable(t[0],s):new n.EmptyObservable(s)},e.dispatch=function(t){var e=t.array,r=t.index,i=t.count,n=t.subscriber;return r>=i?void n.complete():(n.next(e[r]),void(n.closed||(t.index=r+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,i=this.array,n=i.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:i,index:r,count:n,subscriber:t});for(var s=0;n>s&&!t.closed;s++)t.next(i[s]);t.complete()},e}(r.Observable),t("ArrayObservable",s)}}}),System.register(["../Observable","../util/tryCatch","../util/errorObject","../AsyncSubject"],function(t,e){function r(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function i(t){var e=t.err,r=t.subject;r.error(e)}var n,o,s,u,c,a=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){c=function(t){function e(e,r,i,n){t.call(this),this.callbackFunc=e,this.selector=r,this.args=i,this.scheduler=n}return a(e,t),e.create=function(t,r,i){return void 0===r&&(r=void 0),function(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];return new e(t,r,n,i)}},e.prototype._subscribe=function(t){var r=this.callbackFunc,i=this.args,n=this.scheduler,c=this.subject;if(n)return n.schedule(e.dispatch,0,{source:this,subscriber:t});if(!c){c=this.subject=new u.AsyncSubject;var a=function b(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=b.source,i=r.selector,n=r.subject;if(i){var u=o.tryCatch(i).apply(this,t);u===s.errorObject?n.error(s.errorObject.e):(n.next(u),n.complete())}else n.next(1===t.length?t[0]:t),n.complete()};a.source=this;var l=o.tryCatch(r).apply(this,i.concat(a));l===s.errorObject&&c.error(s.errorObject.e)}return c.subscribe(t)},e.dispatch=function(t){var e=this,n=t.source,c=t.subscriber,a=n.callbackFunc,l=n.args,b=n.scheduler,h=n.subject;if(!h){h=n.subject=new u.AsyncSubject;var p=function d(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var u=d.source,c=u.selector,a=u.subject;if(c){var l=o.tryCatch(c).apply(this,t);l===s.errorObject?e.add(b.schedule(i,0,{err:s.errorObject.e,subject:a})):e.add(b.schedule(r,0,{value:l,subject:a}))}else{var h=1===t.length?t[0]:t;e.add(b.schedule(r,0,{value:h,subject:a}))}};p.source=n;var f=o.tryCatch(a).apply(this,l.concat(p));f===s.errorObject&&h.error(s.errorObject.e)}e.add(h.subscribe(c))},e}(n.Observable),t("BoundCallbackObservable",c)}}}),System.register(["../Observable","../util/tryCatch","../util/errorObject","../AsyncSubject"],function(t,e){function r(t){var e=this,r=t.source,o=t.subscriber,a=r,l=a.callbackFunc,b=a.args,h=a.scheduler,p=r.subject;if(!p){p=r.subject=new c.AsyncSubject;var f=function v(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=v.source,c=o.selector,a=o.subject,l=t.shift();if(l)a.error(l);else if(c){var b=s.tryCatch(c).apply(this,t);b===u.errorObject?e.add(h.schedule(n,0,{err:u.errorObject.e,subject:a})):e.add(h.schedule(i,0,{value:b,subject:a}))}else{var p=1===t.length?t[0]:t;e.add(h.schedule(i,0,{value:p,subject:a}))}};f.source=r;var d=s.tryCatch(l).apply(this,b.concat(f));d===u.errorObject&&p.error(u.errorObject.e)}e.add(p.subscribe(o))}function i(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function n(t){var e=t.err,r=t.subject;r.error(e)}var o,s,u,c,a,l=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){o=t},function(t){s=t},function(t){u=t},function(t){c=t}],execute:function(){a=function(t){function e(e,r,i,n){t.call(this),this.callbackFunc=e,this.selector=r,this.args=i,this.scheduler=n}return l(e,t),e.create=function(t,r,i){return void 0===r&&(r=void 0),function(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];return new e(t,r,n,i)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,i=this.args,n=this.scheduler,o=this.subject;if(n)return n.schedule(r,0,{source:this,subscriber:t});if(!o){o=this.subject=new c.AsyncSubject;var a=function b(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=b.source,i=r.selector,n=r.subject,o=t.shift();if(o)n.error(o);else if(i){var c=s.tryCatch(i).apply(this,t);c===u.errorObject?n.error(u.errorObject.e):(n.next(c),n.complete())}else n.next(1===t.length?t[0]:t),n.complete()};a.source=this;var l=s.tryCatch(e).apply(this,i.concat(a));l===u.errorObject&&o.error(u.errorObject.e)}return o.subscribe(t)},e}(o.Observable),t("BoundNodeCallbackObservable",a)}}}),System.register(["../Subject","../Observable","../Subscriber","../Subscription"],function(t,e){var r,i,n,o,s,u,c,a,l=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r,this._refCount=0}return l(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new o.Subscription,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed?(this._connection=null,t=o.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new c(this))},e}(i.Observable),t("ConnectableObservable",s),u=function(t){function e(e,r){t.call(this,e),this.connectable=r}return l(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.SubjectSubscriber),c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var i=new a(t,r),n=e._subscribe(i);return i.closed||(i.connection=r.connect()),n},t}(),a=function(t){function e(e,r){t.call(this,e),this.connectable=r}return l(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(0>=e)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var r=this.connection,i=t._connection;this.connection=null,!i||r&&i!==r||i.unsubscribe()},e}(n.Subscriber)}}}),System.register(["../Observable","../util/subscribeToResult","../OuterSubscriber"],function(t,e){var r,i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t}],execute:function(){o=function(t){function e(e){t.call(this),this.observableFactory=e}return u(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new s(t,this.observableFactory)},e}(r.Observable),t("DeferObservable",o),s=function(t){function e(e,r){t.call(this,e),this.factory=r,this.tryDefer()}return u(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(i.subscribeToResult(this,t))},e}(n.OuterSubscriber)}}}),System.register(["../Observable"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(e){t.call(this),this.scheduler=e}return n(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;return r?r.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(r.Observable),t("EmptyObservable",i)}}}),System.register(["../Observable"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(e,r){t.call(this),this.error=e,this.scheduler=r}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.error,r=t.subscriber;r.error(e)},e.prototype._subscribe=function(t){var r=this.error,i=this.scheduler;return i?i.schedule(e.dispatch,0,{error:r,subscriber:t}):void t.error(r)},e}(r.Observable),t("ErrorObservable",i)}}}),System.register(["../Observable","./EmptyObservable","../util/isArray","../util/subscribeToResult","../OuterSubscriber"],function(t,e){var r,i,n,o,s,u,c,a=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){u=function(t){function e(e,r){t.call(this),this.sources=e,this.resultSelector=r}return a(e,t),e.create=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];if(null===t||0===arguments.length)return new i.EmptyObservable;var o=null;return"function"==typeof t[t.length-1]&&(o=t.pop()),1===t.length&&n.isArray(t[0])&&(t=t[0]),0===t.length?new i.EmptyObservable:new e(t,o)},e.prototype._subscribe=function(t){return new c(t,this.sources,this.resultSelector)},e}(r.Observable),t("ForkJoinObservable",u),c=function(t){function e(e,r,i){t.call(this,e),this.sources=r,this.resultSelector=i,this.completed=0,this.haveValues=0;var n=r.length;this.total=n,this.values=new Array(n);for(var s=0;n>s;s++){var u=r[s],c=o.subscribeToResult(this,u,null,s);c&&(c.outerIndex=s,this.add(c))}}return a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values[r]=e,n._hasValue||(n._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this,i=r.haveValues,n=r.resultSelector,o=r.values,s=o.length;if(!t._hasValue)return void e.complete();if(this.completed++,this.completed===s){if(i===s){var u=n?n.apply(this,o):o;e.next(u)}e.complete()}},e}(s.OuterSubscriber)}}}),System.register(["../Observable","../util/tryCatch","../util/isFunction","../util/errorObject","../Subscription"],function(t,e){function r(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function n(t){return!!t&&"[object NodeList]"===t.toString()}function o(t){return!!t&&"[object HTMLCollection]"===t.toString()}function s(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u,c,a,l,b,h,p=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){u=t},function(t){c=t},function(t){a=t},function(t){l=t},function(t){b=t}],execute:function(){h=function(t){function e(e,r,i,n){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=i,this.options=n}return p(e,t),e.create=function(t,r,i,n){return a.isFunction(i)&&(n=i,i=void 0),new e(t,r,n,i)},e.setupSubscription=function(t,u,c,a,l){var h;if(n(t)||o(t))for(var p=0,f=t.length;f>p;p++)e.setupSubscription(t[p],u,c,a,l);else if(s(t)){var d=t;t.addEventListener(u,c,l),h=function(){return d.removeEventListener(u,c)}}else if(i(t)){var v=t;t.on(u,c),h=function(){return v.off(u,c)}}else if(r(t)){var y=t;t.addListener(u,c),h=function(){return y.removeListener(u,c)}}a.add(new b.Subscription(h))},e.prototype._subscribe=function(t){var r=this.sourceObj,i=this.eventName,n=this.options,o=this.selector,s=o?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var i=c.tryCatch(o).apply(void 0,e);i===l.errorObject?t.error(l.errorObject.e):t.next(i)}:function(e){return t.next(e)};e.setupSubscription(r,i,s,t,n)},e}(u.Observable),t("FromEventObservable",h)}}}),System.register(["../Observable","../Subscription"],function(t,e){var r,i,n,o=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){function e(e,r,i){t.call(this),this.addHandler=e,this.removeHandler=r,this.selector=i}return o(e,t),e.create=function(t,r,i){return new e(t,r,i)},e.prototype._subscribe=function(t){var e=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],i=0;i<arguments.length;i++)r[i-0]=arguments[i];e._callSelector(t,r)}:function(e){t.next(e)};this._callAddHandler(n,t),t.add(new i.Subscription(function(){r(n)}))},e.prototype._callSelector=function(t,e){try{var r=this.selector.apply(this,e);t.next(r)}catch(i){t.error(i)}},e.prototype._callAddHandler=function(t,e){try{this.addHandler(t)}catch(r){e.error(r)}},e}(r.Observable),t("FromEventPatternObservable",n)}}}),System.register(["../util/isArray","../util/isPromise","./PromiseObservable","./IteratorObservable","./ArrayObservable","./ArrayLikeObservable","../symbol/iterator","../Observable","../operator/observeOn","../symbol/observable"],function(t,e){var r,i,n,o,s,u,c,a,l,b,h,p,f=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t},function(t){c=t},function(t){a=t},function(t){l=t},function(t){b=t}],execute:function(){h=function(t){return t&&"number"==typeof t.length},p=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return f(e,t),e.create=function(t,l){if(null!=t){if("function"==typeof t[b.$$observable])return t instanceof a.Observable&&!l?t:new e(t,l);if(r.isArray(t))return new s.ArrayObservable(t,l);if(i.isPromise(t))return new n.PromiseObservable(t,l);if("function"==typeof t[c.$$iterator]||"string"==typeof t)return new o.IteratorObservable(t,l);if(h(t))return new u.ArrayLikeObservable(t,l)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[b.$$observable]().subscribe(t):e[b.$$observable]().subscribe(new l.ObserveOnSubscriber(t,r,0))},e}(a.Observable),t("FromObservable",p)}}}),System.register(["../Observable","../util/isScheduler"],function(t,e){var r,i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){return t},o=function(t){function e(e,r,i,n,o){t.call(this),this.initialState=e,this.condition=r,this.iterate=i,this.resultSelector=n,this.scheduler=o}return s(e,t),e.create=function(t,r,o,s,u){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||n,t.scheduler):void 0===s||i.isScheduler(s)?new e(t,r,o,n,s):new e(t,r,o,s,u)},e.prototype._subscribe=function(t){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var i=this,n=i.condition,o=i.resultSelector,s=i.iterate;;){if(n){var u=void 0;try{u=n(r)}catch(c){return void t.error(c)}if(!u){t.complete();break}}var a=void 0;try{a=o(r)}catch(c){return void t.error(c)}if(t.next(a),t.closed)break;try{r=s(r)}catch(c){return void t.error(c)}}},e.dispatch=function(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(i){return void e.error(i)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(i){return void e.error(i)}if(!n)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(i){return void e.error(i)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}},e}(r.Observable),t("GenerateObservable",o)}}}),System.register(["../Observable","../util/subscribeToResult","../OuterSubscriber"],function(t,e){var r,i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t}],execute:function(){o=function(t){function e(e,r,i){t.call(this),this.condition=e,this.thenSource=r,this.elseSource=i}return u(e,t),e.create=function(t,r,i){return new e(t,r,i)},e.prototype._subscribe=function(t){var e=this,r=e.condition,i=e.thenSource,n=e.elseSource;return new s(t,r,i,n)},e}(r.Observable),t("IfObservable",o),s=function(t){function e(e,r,i,n){t.call(this,e),this.condition=r,this.thenSource=i,this.elseSource=n,this.tryIf()}return u(e,t),e.prototype.tryIf=function(){var t,e=this,r=e.condition,n=e.thenSource,o=e.elseSource;try{t=r();var s=t?n:o;s?this.add(i.subscribeToResult(this,s)):this._complete()}catch(u){this._error(u)}},e}(n.OuterSubscriber)}}}),System.register(["../util/isNumeric","../Observable","../scheduler/async"],function(t,e){var r,i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t}],execute:function(){o=function(t){function e(e,i){void 0===e&&(e=0),void 0===i&&(i=n.async),t.call(this),this.period=e,this.scheduler=i,(!r.isNumeric(e)||0>e)&&(this.period=0),i&&"function"==typeof i.schedule||(this.scheduler=n.async)}return s(e,t),e.create=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=n.async),new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.subscriber,i=t.period;r.next(e),r.closed||(t.index+=1,this.schedule(t,i))},e.prototype._subscribe=function(t){var r=0,i=this.period,n=this.scheduler;t.add(n.schedule(e.dispatch,i,{index:r,subscriber:t,period:i}))},e}(i.Observable),t("IntervalObservable",o)}}}),System.register(["../util/root","../Observable","../symbol/iterator"],function(t,e){function r(t){var e=t[c.$$iterator];if(!e&&"string"==typeof t)return new l(t);if(!e&&void 0!==t.length)return new b(t);if(!e)throw new TypeError("object is not iterable");return t[c.$$iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&n(e)?(e=o(e)*Math.floor(Math.abs(e)),0>=e?0:e>h?h:e):e}function n(t){return"number"==typeof t&&s.root.isFinite(t);
}function o(t){var e=+t;return 0===e?e:isNaN(e)?e:0>e?-1:1}var s,u,c,a,l,b,h,p=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){s=t},function(t){u=t},function(t){c=t}],execute:function(){a=function(t){function e(e,i){if(t.call(this),this.scheduler=i,null==e)throw new Error("iterator cannot be null.");this.iterator=r(e)}return p(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,i=t.iterator,n=t.subscriber;if(r)return void n.error(t.error);var o=i.next();return o.done?void n.complete():(n.next(o.value),t.index=e+1,void(n.closed||this.schedule(t)))},e.prototype._subscribe=function(t){var r=0,i=this,n=i.iterator,o=i.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,iterator:n,subscriber:t});for(;;){var s=n.next();if(s.done){t.complete();break}if(t.next(s.value),t.closed)break}},e}(u.Observable),t("IteratorObservable",a),l=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[c.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),b=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=i(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[c.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),h=Math.pow(2,53)-1}}}),System.register(["../Observable","../observable/ConnectableObservable"],function(t,e){var r,i,n,o=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){function e(e,r,i){t.call(this),this.source=e,this.subjectFactory=r,this.selector=i}return o(e,t),e.prototype._subscribe=function(t){var e=this,r=e.selector,n=e.source,o=new i.ConnectableObservable(n,this.subjectFactory),s=r(o).subscribe(t);return s.add(o.connect()),s},e}(r.Observable),t("MulticastObservable",n)}}}),System.register(["../Observable","../util/noop"],function(t,e){var r,i,n,o=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t}],execute:function(){n=function(t){function e(){t.call(this)}return o(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){i.noop()},e}(r.Observable),t("NeverObservable",n)}}}),System.register(["../Observable"],function(t,e){function r(t){var e=t.obj,r=t.keys,i=t.length,n=t.index,o=t.subscriber;if(n===i)return void o.complete();var s=r[n];o.next([s,e[s]]),t.index=n+1,this.schedule(t)}var i,n,o=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){i=t}],execute:function(){n=function(t){function e(e,r){t.call(this),this.obj=e,this.scheduler=r,this.keys=Object.keys(e)}return o(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,i=e.keys,n=e.scheduler,o=i.length;if(n)return n.schedule(r,0,{obj:this.obj,keys:i,length:o,index:0,subscriber:t});for(var s=0;o>s;s++){var u=i[s];t.next([u,this.obj[u]])}t.complete()},e}(i.Observable),t("PairsObservable",n)}}}),System.register(["../util/root","../Observable"],function(t,e){function r(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function i(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}var n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){n=t},function(t){o=t}],execute:function(){s=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return u(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,o=this.promise,s=this.scheduler;if(null==s)this._isScalar?t.closed||(t.next(this.value),t.complete()):o.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){n.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return s.schedule(r,0,{value:this.value,subscriber:t})}else o.then(function(i){e.value=i,e._isScalar=!0,t.closed||t.add(s.schedule(r,0,{value:i,subscriber:t}))},function(e){t.closed||t.add(s.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){n.root.setTimeout(function(){throw t})})},e}(o.Observable),t("PromiseObservable",s)}}}),System.register(["../Observable"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(e,r,i){t.call(this),this.start=e,this._count=r,this.scheduler=i}return n(e,t),e.create=function(t,r,i){return void 0===t&&(t=0),void 0===r&&(r=0),new e(t,r,i)},e.dispatch=function(t){var e=t.start,r=t.index,i=t.count,n=t.subscriber;return r>=i?void n.complete():(n.next(e),void(n.closed||(t.index=r+1,t.start=e+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,i=this.start,n=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,count:n,start:i,subscriber:t});for(;;){if(r++>=n){t.complete();break}if(t.next(i++),t.closed)break}},e}(r.Observable),t("RangeObservable",i)}}}),System.register(["../Observable"],function(t,e){var r,i,n=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t}],execute:function(){i=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,i=t.subscriber;return e?void i.complete():(i.next(r),void(i.closed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var r=this.value,i=this.scheduler;return i?i.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t}):(t.next(r),void(t.closed||t.complete()))},e}(r.Observable),t("ScalarObservable",i)}}}),System.register(["../Observable","../scheduler/asap","../util/isNumeric"],function(t,e){var r,i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t}],execute:function(){o=function(t){function e(e,r,o){void 0===r&&(r=0),void 0===o&&(o=i.asap),t.call(this),this.source=e,this.delayTime=r,this.scheduler=o,(!n.isNumeric(r)||0>r)&&(this.delayTime=0),o&&"function"==typeof o.schedule||(this.scheduler=i.asap)}return s(e,t),e.create=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=i.asap),new e(t,r,n)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return e.subscribe(r)},e.prototype._subscribe=function(t){var r=this.delayTime,i=this.source,n=this.scheduler;return n.schedule(e.dispatch,r,{source:i,subscriber:t})},e}(r.Observable),t("SubscribeOnObservable",o)}}}),System.register(["../util/isNumeric","../Observable","../scheduler/async","../util/isScheduler","../util/isDate"],function(t,e){var r,i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){u=function(t){function e(e,i,u){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,r.isNumeric(i)?this.period=Number(i)<1&&1||Number(i):o.isScheduler(i)&&(u=i),o.isScheduler(u)||(u=n.async),this.scheduler=u,this.dueTime=s.isDate(e)?+e-this.scheduler.now():e}return c(e,t),e.create=function(t,r,i){return void 0===t&&(t=0),new e(t,r,i)},e.dispatch=function(t){var e=t.index,r=t.period,i=t.subscriber,n=this;if(i.next(e),!i.closed){if(-1===r)return i.complete();t.index=e+1,n.schedule(t,r)}},e.prototype._subscribe=function(t){var r=0,i=this,n=i.period,o=i.dueTime,s=i.scheduler;return s.schedule(e.dispatch,o,{index:r,period:n,subscriber:t})},e}(i.Observable),t("TimerObservable",u)}}}),System.register(["../Observable","../util/subscribeToResult","../OuterSubscriber"],function(t,e){var r,i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t}],execute:function(){o=function(t){function e(e,r){t.call(this),this.resourceFactory=e,this.observableFactory=r}return u(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e,r=this,i=r.resourceFactory,n=r.observableFactory;try{return e=i(),new s(t,e,n)}catch(o){t.error(o)}},e}(r.Observable),t("UsingObservable",o),s=function(t){function e(e,r,i){t.call(this,e),this.resource=r,this.observableFactory=i,e.add(r),this.tryUse()}return u(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(i.subscribeToResult(this,t))}catch(e){this._error(e)}},e}(n.OuterSubscriber)}}}),System.register(["./BoundCallbackObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("bindCallback",i=r.BoundCallbackObservable.create)}}}),System.register(["./BoundNodeCallbackObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("bindNodeCallback",i=r.BoundNodeCallbackObservable.create)}}}),System.register(["../util/isScheduler","../util/isArray","./ArrayObservable","../operator/combineLatest"],function(t,e){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,u=null;return i.isScheduler(t[t.length-1])&&(u=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&n.isArray(t[0])&&(t=t[0]),new o.ArrayObservable(t,u).lift(new s.CombineLatestOperator(r))}var i,n,o,s;e&&e.id;return t("combineLatest",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){}}}),System.register(["../operator/concat"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("concat",i=r.concatStatic)}}}),System.register(["./DeferObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("defer",i=r.DeferObservable.create)}}}),System.register(["./EmptyObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("empty",i=r.EmptyObservable.create)}}}),System.register(["./ForkJoinObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("forkJoin",i=r.ForkJoinObservable.create)}}}),System.register(["./FromObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("from",i=r.FromObservable.create)}}}),System.register(["./FromEventObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("fromEvent",i=r.FromEventObservable.create)}}}),System.register(["./FromEventPatternObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("fromEventPattern",i=r.FromEventPatternObservable.create)}}}),System.register(["./PromiseObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("fromPromise",i=r.PromiseObservable.create)}}}),System.register(["./IfObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("_if",i=r.IfObservable.create)}}}),System.register(["./IntervalObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("interval",i=r.IntervalObservable.create)}}}),System.register(["../operator/merge"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("merge",i=r.mergeStatic)}}}),System.register(["./NeverObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("never",i=r.NeverObservable.create)}}}),System.register(["./ArrayObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("of",i=r.ArrayObservable.of)}}}),System.register(["./PairsObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("pairs",i=r.PairsObservable.create)}}}),System.register(["./RangeObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("range",i=r.RangeObservable.create)}}}),System.register(["./ErrorObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("_throw",i=r.ErrorObservable.create)}}}),System.register(["./TimerObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("timer",i=r.TimerObservable.create)}}}),System.register(["./UsingObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("using",i=r.UsingObservable.create)}}}),System.register(["../operator/zip"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("zip",i=r.zipStatic)}}}),System.register(["../util/tryCatch","../util/errorObject","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new u(t))}var i,n,o,s,u,c,a=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("audit",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){u=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1}return a(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=i.tryCatch(this.durationSelector)(t);e===n.errorObject?this.destination.error(n.errorObject.e):this.add(this.throttled=s.subscribeToResult(this,e))}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,i=t.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,r,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(o.OuterSubscriber)}}}),System.register(["../scheduler/async","../Subscriber"],function(t,e){function r(t,e){return void 0===e&&(e=n.async),this.lift(new s(t,e))}function i(t){t.clearThrottle()}var n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("auditTime",r),{setters:[function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.duration,this.scheduler))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.duration=r,this.scheduler=i,this.hasValue=!1}return c(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(i,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,i=t.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(o.Subscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new o(t))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("buffer",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.closingNotifier))},t}(),s=function(t){function e(e,r){t.call(this,e),this.buffer=[],this.add(n.subscribeToResult(this,r))}return u(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(i.OuterSubscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t,e){return void 0===e&&(e=null),this.lift(new n(t,e))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("bufferCount",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.bufferSize,this.startBufferEvery))},t}(),o=function(t){function e(e,r,i){t.call(this,e),this.bufferSize=r,this.startBufferEvery=i,this.buffers=[[]],this.count=0}return s(e,t),e.prototype._next=function(t){var e=this.count+=1,r=this.destination,i=this.bufferSize,n=null==this.startBufferEvery?i:this.startBufferEvery,o=this.buffers,s=o.length,u=-1;e%n===0&&o.push([]);for(var c=0;s>c;c++){var a=o[c];a.push(t),a.length===i&&(u=c,r.next(a))}-1!==u&&o.splice(u,1)},e.prototype._complete=function(){for(var e=this.destination,r=this.buffers;r.length>0;){var i=r.shift();i.length>0&&e.next(i)}t.prototype._complete.call(this)},e}(i.Subscriber)}}}),System.register(["../scheduler/async","../Subscriber","../util/isScheduler"],function(t,e){function r(t){var e=arguments.length,r=s.async;c.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var i=null;e>=2&&(i=arguments[1]);var n=Number.POSITIVE_INFINITY;return e>=3&&(n=arguments[2]),this.lift(new a(t,i,n,r))}function i(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function n(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,i=t.subscriber,n=t.scheduler,s=i.openContext(),u=this;i.closed||(i.add(s.closeAction=n.schedule(o,r,{subscriber:i,context:s})),u.schedule(t,e))}function o(t){var e=t.subscriber,r=t.context;e.closeContext(r)}var s,u,c,a,l,b,h=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("bufferTime",r),{setters:[function(t){s=t},function(t){u=t},function(t){c=t}],execute:function(){a=function(){function t(t,e,r,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new b(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),l=function(){function t(){this.buffer=[]}return t}(),b=function(t){function e(e,r,s,u,c){t.call(this,e),this.bufferTimeSpan=r,this.bufferCreationInterval=s,this.maxBufferSize=u,this.scheduler=c,this.contexts=[];var a=this.openContext();if(this.timespanOnly=null==s||0>s,this.timespanOnly){var l={subscriber:this,context:a,bufferTimeSpan:r};this.add(a.closeAction=c.schedule(i,r,l))}else{var b={subscriber:this,context:a},h={bufferTimeSpan:r,bufferCreationInterval:s,subscriber:this,scheduler:c};this.add(a.closeAction=c.schedule(o,r,b)),this.add(c.schedule(n,s,h))}}return h(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,i=r.length,n=0;i>n;n++){var o=r[n],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,r=e.contexts,i=e.destination;r.length>0;){var n=r.shift();i.next(n.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(i,r,n))}},e.prototype.openContext=function(){var t=new l;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts,r=e?e.indexOf(t):-1;r>=0&&e.splice(e.indexOf(t),1)},e}(u.Subscriber)}}}),System.register(["../Subscription","../util/subscribeToResult","../OuterSubscriber"],function(t,e){function r(t,e){return this.lift(new s(t,e))}var i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("bufferToggle",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.openings,this.closingSelector))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.openings=r,this.closingSelector=i,this.contexts=[],this.add(n.subscribeToResult(this,r))}return c(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,i=0;r>i;i++)e[i].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,r=e.call(this,t);r&&this.trySubscribe(r)}catch(i){this._error(i)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,i=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(i),i.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=[],o=new i.Subscription,s={buffer:r,subscription:o};e.push(s);var u=n.subscribeToResult(this,t,s);!u||u.closed?this.closeBuffer(s):(u.context=s,this.add(u),o.add(u))},e}(o.OuterSubscriber)}}}),System.register(["../Subscription","../util/tryCatch","../util/errorObject","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new c(t))}var i,n,o,s,u,c,a,l=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("bufferWhen",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){c=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.closingSelector))},t}(),a=function(t){function e(e,r){t.call(this,e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return l(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,i,n){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=n.tryCatch(this.closingSelector)();r===o.errorObject?this.error(o.errorObject.e):(t=new i.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(u.subscribeToResult(this,r)),this.subscribing=!1)},e}(s.OuterSubscriber)}}}),System.register(["../Observable","../ReplaySubject"],function(t,e){function r(t,e,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY);var o,s,u=this,c=0,a=function(){return o=new n.ReplaySubject(t,e,r)};return new i.Observable(function(t){o||(o=a(),s=u.subscribe(function(t){return o.next(t)},function(t){var e=o;o=null,e.error(t)},function(){return o.complete()})),c++,o||(o=a());var e=o.subscribe(t);return function(){c--,e&&e.unsubscribe(),0===c&&s.unsubscribe()}})}var i,n;e&&e.id;return t("cache",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){var e=new o(t),r=this.lift(e);return e.caught=r}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("_catch",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.selector,this.caught))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.selector=r,this.caught=i}return u(e,t),e.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void this.destination.error(t)}this.unsubscribe(),this.destination.remove(this),n.subscribeToResult(this,e)}},e}(i.OuterSubscriber)}}}),System.register(["./combineLatest"],function(t,e){function r(t){return this.lift(new i.CombineLatestOperator(t))}var i;e&&e.id;return t("combineAll",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../observable/ArrayObservable","../util/isArray","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&n.isArray(t[0])&&(t=t[0]),t.unshift(this),new i.ArrayObservable(t).lift(new c(r))}var i,n,o,s,u,c,a,l=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("combineLatest",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){u={},c=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.project))},t}(),t("CombineLatestOperator",c),a=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[]}return l(e,t),e.prototype._next=function(t){this.values.push(u),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;e>r;r++){var i=t[r];this.add(s.subscribeToResult(this,i,i,r))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.values,s=o[r],c=this.toRespond?s===u?--this.toRespond:this.toRespond:0;o[r]=e,0===c&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(o.OuterSubscriber),t("CombineLatestSubscriber",a)}}}),System.register(["../util/isScheduler","../observable/ArrayObservable","./mergeAll"],function(t,e){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.apply(void 0,[this].concat(t))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,i=t;return n.isScheduler(i[t.length-1])&&(r=i.pop()),new o.ArrayObservable(t,r).lift(new s.MergeAllOperator(1))}var n,o,s;e&&e.id;return t("concat",r),t("concatStatic",i),{setters:[function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){}}}),System.register(["./mergeAll"],function(t,e){function r(){return this.lift(new i.MergeAllOperator(1))}var i;e&&e.id;return t("concatAll",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["./mergeMap"],function(t,e){function r(t,e){return this.lift(new i.MergeMapOperator(t,e,1))}var i;e&&e.id;return t("concatMap",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["./mergeMapTo"],function(t,e){function r(t,e){return this.lift(new i.MergeMapToOperator(t,e,1))}var i;e&&e.id;return t("concatMapTo",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../Subscriber"],function(t,e){function r(t){return this.lift(new n(t,this))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("count",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.predicate,this.source))},t}(),o=function(t){function e(e,r,i){t.call(this,e),this.predicate=r,this.source=i,this.count=0,this.index=0}return s(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(i.Subscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new o(t))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("debounce",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.durationSelector))},t}(),s=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return u(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=n.subscribeToResult(this,e),r.closed||this.add(this.durationSubscription=r);
},e.prototype.notifyNext=function(t,e,r,i,n){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.OuterSubscriber)}}}),System.register(["../Subscriber","../scheduler/async"],function(t,e){function r(t,e){return void 0===e&&(e=o.async),this.lift(new s(t,e))}function i(t){t.debouncedNext()}var n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("debounceTime",r),{setters:[function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.dueTime,this.scheduler))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.dueTime=r,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return c(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(n.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t){return void 0===t&&(t=null),this.lift(new n(t))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("defaultIfEmpty",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.defaultValue))},t}(),o=function(t){function e(e,r){t.call(this,e),this.defaultValue=r,this.isEmpty=!0}return s(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.Subscriber)}}}),System.register(["../scheduler/async","../util/isDate","../Subscriber","../Notification"],function(t,e){function r(t,e){void 0===e&&(e=i.async);var r=n.isDate(t),o=r?+t-e.now():Math.abs(t);return this.lift(new u(o,e))}var i,n,o,s,u,c,a,l=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("delay",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){u=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.delay,this.scheduler))},t}(),c=function(t){function e(e,r,i){t.call(this,e),this.delay=r,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}return l(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,i=t.scheduler,n=t.destination;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(n);if(r.length>0){var o=Math.max(0,r[0].time-i.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var e=this.scheduler,r=new a(e.now()+this.delay,t);this.queue.push(r),this.active===!1&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(s.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(s.Notification.createComplete())},e}(o.Subscriber),a=function(){function t(t,e){this.time=t,this.notification=e}return t}()}}}),System.register(["../Subscriber","../Observable","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t,e){return e?new a(this,e).lift(new u(t)):this.lift(new u(t))}var i,n,o,s,u,c,a,l,b=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("delayWhen",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){u=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.delayDurationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return b(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(t),this.removeSubscription(n),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),r=null;return-1!==e&&(r=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),r},e.prototype.tryDelay=function(t,e){var r=s.subscribeToResult(this,t,e);this.add(r),this.delayNotifierSubscriptions.push(r),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(o.OuterSubscriber),a=function(t){function e(e,r){t.call(this),this.source=e,this.subscriptionDelay=r}return b(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new l(t,this.source))},e}(n.Observable),l=function(t){function e(e,r){t.call(this),this.parent=e,this.source=r,this.sourceSubscribed=!1}return b(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(i.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(){return this.lift(new n)}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("dematerialize",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new o(t))},t}(),o=function(t){function e(e){t.call(this,e)}return s(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(i.Subscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t,e){return this.lift(new o(t,e))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("distinct",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.compare=t,this.flushes=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.compare,this.flushes))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.values=[],"function"==typeof r&&(this.compare=r),i&&this.add(n.subscribeToResult(this,i))}return u(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values.length=0},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){var e=!1,r=this.values,i=r.length;try{for(var n=0;i>n;n++)if(this.compare(r[n],t))return void(e=!0)}catch(o){return void this.destination.error(o)}this.values.push(t),this.destination.next(t)},e.prototype.compare=function(t,e){return t===e},e}(i.OuterSubscriber),t("DistinctSubscriber",s)}}}),System.register(["./distinct"],function(t,e){function r(t,e,r){return i.distinct.call(this,function(r,i){return e?e(r[t],i[t]):r[t]===i[t]},r)}var i;e&&e.id;return t("distinctKey",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../Subscriber","../util/tryCatch","../util/errorObject"],function(t,e){function r(t,e){return this.lift(new s(t,e))}var i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("distinctUntilChanged",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.compare,this.keySelector))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.keySelector=i,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return c(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,r=t;if(e&&(r=n.tryCatch(this.keySelector)(t),r===o.errorObject))return this.destination.error(o.errorObject.e);var i=!1;if(this.hasKey){if(i=n.tryCatch(this.compare)(this.key,r),i===o.errorObject)return this.destination.error(o.errorObject.e)}else this.hasKey=!0;Boolean(i)===!1&&(this.key=r,this.destination.next(t))},e}(i.Subscriber)}}}),System.register(["./distinctUntilChanged"],function(t,e){function r(t,e){return i.distinctUntilChanged.call(this,function(r,i){return e?e(r[t],i[t]):r[t]===i[t]})}var i;e&&e.id;return t("distinctUntilKeyChanged",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../Subscriber"],function(t,e){function r(t,e,r){return this.lift(new n(t,e,r))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("_do",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.nextOrObserver,this.error,this.complete))},t}(),o=function(t){function e(e,r,n,o){t.call(this,e);var s=new i.Subscriber(r,n,o);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return s(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(i.Subscriber)}}}),System.register(["../Subscriber","../util/ArgumentOutOfRangeError"],function(t,e){function r(t,e){return this.lift(new o(t,e))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("elementAt",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){if(this.index=t,this.defaultValue=e,0>t)throw new n.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.index,this.defaultValue))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.index=r,this.defaultValue=i}return u(e,t),e.prototype._next=function(t){0===this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?t.next(this.defaultValue):t.error(new n.ArgumentOutOfRangeError)),t.complete()},e}(i.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t,e){return this.lift(new n(t,e,this))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("every",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.predicate,this.thisArg,this.source))},t}(),o=function(t){function e(e,r,i,n){t.call(this,e),this.predicate=r,this.thisArg=i,this.source=n,this.index=0,this.thisArg=i||this}return s(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(){return this.lift(new o)}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("exhaust",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return u(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(n.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t,e){return this.lift(new o(t,e))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("exhaustMap",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.project,this.resultSelector))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.project=r,this.resultSelector=i,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return u(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var i=this.project(t,e);this.hasSubscription=!0,this.add(n.subscribeToResult(this,i,t,e))}catch(o){r.error(o)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,i):u.next(e)},e.prototype.trySelectResult=function(t,e,r,i){var n=this,o=n.resultSelector,s=n.destination;try{var u=o(t,e,r,i);s.next(u)}catch(c){s.error(c)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)}}}),System.register(["../util/tryCatch","../util/errorObject","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=1>(e||0)?Number.POSITIVE_INFINITY:e,this.lift(new u(t,e,r))}var i,n,o,s,u,c,a=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("expand",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){u=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.concurrent,this.scheduler))},t}(),t("ExpandOperator",u),c=function(t){function e(e,r,i,n){t.call(this,e),this.project=r,this.concurrent=i,this.scheduler=n,this.index=0,this.active=0,this.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(this.buffer=[])}return a(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,i=t.value,n=t.index;e.subscribeToProjection(r,i,n)},e.prototype._next=function(t){var r=this.destination;if(r.closed)return void this._complete();var o=this.index++;if(this.active<this.concurrent){r.next(t);var s=i.tryCatch(this.project)(t,o);if(s===n.errorObject)r.error(n.errorObject.e);else if(this.scheduler){var u={subscriber:this,result:s,value:t,index:o};this.add(this.scheduler.schedule(e.dispatch,0,u))}else this.subscribeToProjection(s,t,o)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(s.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(o.OuterSubscriber),t("ExpandSubscriber",c)}}}),System.register(["../Subscriber"],function(t,e){function r(t,e){return this.lift(new n(t,e))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("filter",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.predicate,this.thisArg))},t}(),o=function(t){function e(e,r,i){t.call(this,e),this.predicate=r,this.thisArg=i,this.count=0,this.predicate=r}return s(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},e}(i.Subscriber)}}}),System.register(["../Subscriber","../Subscription"],function(t,e){function r(t){return this.lift(new o(t))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("_finally",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.callback))},t}(),s=function(t){function e(e,r){t.call(this,e),this.add(new n.Subscription(r))}return u(e,t),e}(i.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return this.lift(new n(t,this,!1,e))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("find",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e,r,i){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=i}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),t("FindValueOperator",n),o=function(t){function e(e,r,i,n,o){t.call(this,e),this.predicate=r,this.source=i,this.yieldIndex=n,this.thisArg=o,this.index=0}return s(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,r=e.predicate,i=e.thisArg,n=this.index++;try{var o=r.call(i||this,t,n,this.source);o&&this.notifyComplete(this.yieldIndex?n:t)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(i.Subscriber),t("FindValueSubscriber",o)}}}),System.register(["./find"],function(t,e){function r(t,e){return this.lift(new i.FindValueOperator(t,this,!0,e))}var i;e&&e.id;return t("findIndex",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../Subscriber","../util/EmptyError"],function(t,e){function r(t,e,r){return this.lift(new o(t,e,r,this))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("first",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e,r,i){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=i}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),s=function(t){function e(e,r,i,n,o){t.call(this,e),this.predicate=r,this.resultSelector=i,this.defaultValue=n,this.source=o,this.index=0,this.hasCompleted=!1}return u(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(i){return void this.destination.error(i)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(i){return void this.destination.error(i)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;e.next(t),e.complete(),this.hasCompleted=!0},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new n.EmptyError):(t.next(this.defaultValue),t.complete())},e}(i.Subscriber)}}}),System.register(["../Subscriber","../Subscription","../Observable","../Subject","../util/Map","../util/FastMap"],function(t,e){function r(t,e,r){return this.lift(new a(this,t,e,r))}var i,n,o,s,u,c,a,l,b,h,p,f=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("groupBy",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t},function(t){c=t}],execute:function(){a=function(){function t(t,e,r,i){this.source=t,this.keySelector=e,this.elementSelector=r,this.durationSelector=i}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector))},t}(),l=function(t){function e(e,r,i,n){t.call(this,e),this.keySelector=r,this.elementSelector=i,this.durationSelector=n,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return f(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups="string"==typeof e?new c.FastMap:new u.Map);var i,n=r.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(o){this.error(o)}else i=t;if(!n){r.set(e,n=new s.Subject);var a=new h(e,n,this);if(this.destination.next(a),this.durationSelector){var l=void 0;try{l=this.durationSelector(new h(e,n))}catch(o){return void this.error(o)}this.add(l.subscribe(new b(e,n,this)))}}n.closed||n.next(i)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups["delete"](t)},e.prototype.unsubscribe=function(){this.closed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.Subscriber),b=function(t){function e(e,r,i){t.call(this),this.key=e,this.group=r,this.parent=i}return f(e,t),e.prototype._next=function(t){this._complete()},e.prototype._error=function(t){var e=this.group;e.closed||e.error(t),this.parent.removeGroup(this.key)},e.prototype._complete=function(){var t=this.group;t.closed||t.complete(),this.parent.removeGroup(this.key)},e}(i.Subscriber),h=function(t){function e(e,r,i){t.call(this),this.key=e,this.groupSubject=r,this.refCountSubscription=i}return f(e,t),e.prototype._subscribe=function(t){var e=new n.Subscription,r=this,i=r.refCountSubscription,o=r.groupSubject;return i&&!i.closed&&e.add(new p(i)),e.add(o.subscribe(t)),e},e}(o.Observable),t("GroupedObservable",h),p=function(t){function e(e){t.call(this),this.parent=e,e.count++}return f(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(n.Subscription)}}}),System.register(["../Subscriber","../util/noop"],function(t,e){function r(){return this.lift(new o)}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("ignoreElements",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new s(t))},t}(),s=function(t){function e(){t.apply(this,arguments)}return u(e,t),e.prototype._next=function(t){n.noop()},e}(i.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(){return this.lift(new n)}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("isEmpty",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new o(t))},t}(),o=function(t){function e(e){t.call(this,e)}return s(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)}}}),System.register(["../Subscriber","../util/EmptyError"],function(t,e){function r(t,e,r){return this.lift(new o(t,e,r,this))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("last",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e,r,i){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=i}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),s=function(t){function e(e,r,i,n,o){t.call(this,e),this.predicate=r,this.resultSelector=i,this.defaultValue=n,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof n&&(this.lastValue=n,this.hasValue=!0)}return u(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(i){return void this.destination.error(i)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(i){return void this.destination.error(i)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new n.EmptyError)},e}(i.Subscriber)}}}),System.register([],function(t,e){function r(t){return t(this)}e&&e.id;return t("letProto",r),{setters:[],execute:function(){}}}),System.register(["../Subscriber"],function(t,e){function r(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new n(t,e))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("map",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.project,this.thisArg))},t}(),o=function(t){function e(e,r,i){t.call(this,e),this.project=r,this.count=0,this.thisArg=i||this}return s(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(i.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t){return this.lift(new n(t))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("mapTo",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.value))},t}(),o=function(t){function e(e,r){t.call(this,e),this.value=r}return s(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(i.Subscriber)}}}),System.register(["../Subscriber","../Notification"],function(t,e){function r(){return this.lift(new o)}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("materialize",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return u(e,t),e.prototype._next=function(t){this.destination.next(n.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(n.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(n.Notification.createComplete()),t.complete()},e}(i.Subscriber)}}}),System.register(["./reduce"],function(t,e){function r(t){var e="function"==typeof t?t:function(t,e){return t>e?t:e};return this.lift(new i.ReduceOperator(e))}var i;e&&e.id;return t("max",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../observable/ArrayObservable","./mergeAll","../util/isScheduler"],function(t,e){
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),i.apply(this,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,i=null,u=t[t.length-1];return s.isScheduler(u)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof u&&(r=t.pop()),1===t.length?t[0]:new n.ArrayObservable(t,i).lift(new o.MergeAllOperator(r))}var n,o,s;e&&e.id;return t("merge",r),t("mergeStatic",i),{setters:[function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new o(t))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("mergeAll",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.concurrent))},t}(),t("MergeAllOperator",o),s=function(t){function e(e,r){t.call(this,e),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return u(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(n.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber),t("MergeAllSubscriber",s)}}}),System.register(["../util/subscribeToResult","../OuterSubscriber"],function(t,e){function r(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new o(t,e,r))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("mergeMap",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.project,this.resultSelector,this.concurrent))},t}(),t("MergeMapOperator",o),s=function(t){function e(e,r,i,n){void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=i,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return u(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(i.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.resultSelector?this._notifyResultSelector(t,e,r,i):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,i){var n;try{n=this.resultSelector(t,e,r,i)}catch(o){return void this.destination.error(o)}this.destination.next(n)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(n.OuterSubscriber),t("MergeMapSubscriber",s)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new o(t,e,r))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("mergeMapTo",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.ish,this.resultSelector,this.concurrent))},t}(),t("MergeMapToOperator",o),s=function(t){function e(e,r,i,n){void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=r,this.resultSelector=i,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return u(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,r=this.index++,i=this.ish,n=this.destination;this.active++,this._innerSub(i,n,e,t,r)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r,i,o){this.add(n.subscribeToResult(this,t,i,o))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,i):u.next(e)},e.prototype.trySelectResult=function(t,e,r,i){var n,o=this,s=o.resultSelector,u=o.destination;try{n=s(t,e,r,i)}catch(c){return void u.error(c)}u.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber),t("MergeMapToSubscriber",s)}}}),System.register(["../util/tryCatch","../util/errorObject","../util/subscribeToResult","../OuterSubscriber"],function(t,e){function r(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new u(t,e,r))}var i,n,o,s,u,c,a=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("mergeScan",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){u=function(){function t(t,e,r){this.project=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.seed,this.concurrent))},t}(),t("MergeScanOperator",u),c=function(t){function e(e,r,i,n){t.call(this,e),this.project=r,this.acc=i,this.concurrent=n,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return a(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=i.tryCatch(this.project)(this.acc,t),o=this.destination;r===n.errorObject?o.error(n.errorObject.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){this.add(o.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(s.OuterSubscriber),t("MergeScanSubscriber",c)}}}),System.register(["./reduce"],function(t,e){function r(t){var e="function"==typeof t?t:function(t,e){return e>t?t:e};return this.lift(new i.ReduceOperator(e))}var i;e&&e.id;return t("min",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../observable/MulticastObservable","../observable/ConnectableObservable"],function(t,e){function r(t,e){var r;return r="function"==typeof t?t:function(){return t},e?new i.MulticastObservable(this,r,e):new n.ConnectableObservable(this,r)}var i,n;e&&e.id;return t("multicast",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){}}}),System.register(["../Subscriber","../Notification"],function(t,e){function r(t,e){return void 0===e&&(e=0),this.lift(new o(t,e))}var i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("observeOn",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.scheduler,this.delay))},t}(),t("ObserveOnOperator",o),s=function(t){function e(e,r,i){void 0===i&&(i=0),t.call(this,e),this.scheduler=r,this.delay=i}return c(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r)},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(n.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(n.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(n.Notification.createComplete())},e}(i.Subscriber),t("ObserveOnSubscriber",s),u=function(){function t(t,e){this.notification=t,this.destination=e}return t}(),t("ObserveOnMessage",u)}}}),System.register(["../observable/FromObservable","../util/isArray","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&o.isArray(t[0])&&(t=t[0]),this.lift(new c(t))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return 1===t.length&&o.isArray(t[0])&&(t=t[0]),r=t.shift(),new n.FromObservable(r,null).lift(new c(t))}var n,o,s,u,c,a,l=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("onErrorResumeNext",r),t("onErrorResumeNextStatic",i),{setters:[function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){c=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.nextSources))},t}(),a=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return l(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(u.subscribeToResult(this,t)):this.destination.complete()},e}(s.OuterSubscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(){return this.lift(new n)}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("pairwise",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new o(t))},t}(),o=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return s(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(i.Subscriber)}}}),System.register(["../util/not","./filter"],function(t,e){function r(t,e){return[n.filter.call(this,t),n.filter.call(this,i.not(t,e))]}var i,n;e&&e.id;return t("partition",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){}}}),System.register(["./map"],function(t,e){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return n.map.call(this,i(t,r))}function i(t,e){var r=function(r){for(var i=r,n=0;e>n;n++){var o=i[t[n]];if("undefined"==typeof o)return;i=o}return i};return r}var n;e&&e.id;return t("pluck",r),{setters:[function(t){n=t}],execute:function(){}}}),System.register(["../Subject","./multicast"],function(t,e){function r(t){return t?n.multicast.call(this,function(){return new i.Subject},t):n.multicast.call(this,new i.Subject)}var i,n;e&&e.id;return t("publish",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){}}}),System.register(["../BehaviorSubject","./multicast"],function(t,e){function r(t){return n.multicast.call(this,new i.BehaviorSubject(t))}var i,n;e&&e.id;return t("publishBehavior",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){}}}),System.register(["../AsyncSubject","./multicast"],function(t,e){function r(){return n.multicast.call(this,new i.AsyncSubject)}var i,n;e&&e.id;return t("publishLast",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){}}}),System.register(["../ReplaySubject","./multicast"],function(t,e){function r(t,e,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),n.multicast.call(this,new i.ReplaySubject(t,e,r))}var i,n;e&&e.id;return t("publishReplay",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){}}}),System.register(["../util/isArray","../observable/ArrayObservable","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&n.isArray(t[0])&&(t=t[0]),t.unshift(this),i.apply(this,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!n.isArray(t[0]))return t[0];t=t[0]}return new o.ArrayObservable(t).lift(new c)}var n,o,s,u,c,a,l=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("race",r),t("raceStatic",i),{setters:[function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){c=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new a(t))},t}(),t("RaceOperator",c),a=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return l(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;e>r;r++){var i=t[r],n=u.subscribeToResult(this,i,i,r);this.subscriptions&&(this.subscriptions.push(n),this.add(n))}this.observables=null}},e.prototype.notifyNext=function(t,e,r,i,n){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(s.OuterSubscriber),t("RaceSubscriber",a)}}}),System.register(["../Subscriber"],function(t,e){function r(t,e){return this.lift(new n(t,e))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("reduce",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.accumulator,this.seed))},t}(),t("ReduceOperator",n),o=function(t){function e(e,r,i){t.call(this,e),this.accumulator=r,this.hasValue=!1,this.acc=i,this.accumulator=r,this.hasSeed="undefined"!=typeof i}return s(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t)}catch(r){return void this.destination.error(r)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(i.Subscriber),t("ReduceSubscriber",o)}}}),System.register(["../Subscriber","../observable/EmptyObservable"],function(t,e){function r(t){return void 0===t&&(t=-1),0===t?new n.EmptyObservable:0>t?this.lift(new o(-1,this)):this.lift(new o(t-1,this))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("repeat",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.count,this.source))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.count=r,this.source=i}return u(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,r=e.source,i=e.count;if(0===i)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,r.subscribe(this)}},e}(i.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t){return void 0===t&&(t=-1),this.lift(new n(t,this))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("retry",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.count,this.source))},t}(),o=function(t){function e(e,r,i){t.call(this,e),this.count=r,this.source=i}return s(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this,i=r.source,n=r.count;if(0===n)return t.prototype.error.call(this,e);n>-1&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,i.subscribe(this)}},e}(i.Subscriber)}}}),System.register(["../Subject","../util/tryCatch","../util/errorObject","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new c(t,this))}var i,n,o,s,u,c,a,l=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("retryWhen",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){c=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.notifier,this.source))},t}(),a=function(t){function e(e,r,i){t.call(this,e),this.notifier=r,this.source=i}return l(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,s=this.retries,c=this.retriesSubscription;if(s)this.errors=null,this.retriesSubscription=null;else{if(r=new i.Subject,s=n.tryCatch(this.notifier)(r),s===o.errorObject)return t.prototype.error.call(this,o.errorObject.e);c=u.subscribeToResult(this,s)}this.unsubscribe(),this.closed=!1,this.errors=r,this.retries=s,this.retriesSubscription=c,r.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,r=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.errors,u=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.errors=s,this.retries=u,this.retriesSubscription=c,this.source.subscribe(this)},e}(s.OuterSubscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new o(t))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("sample",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.notifier))},t}(),s=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.add(n.subscribeToResult(this,r))}return u(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,i,n){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.OuterSubscriber)}}}),System.register(["../Subscriber","../scheduler/async"],function(t,e){function r(t,e){return void 0===e&&(e=o.async),this.lift(new s(t,e))}function i(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}var n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("sampleTime",r),{setters:[function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.period,this.scheduler))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(i,r,{subscriber:this,period:r}))}return c(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(n.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t,e){return this.lift(new n(t,e))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("scan",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.accumulator,this.seed))},t}(),o=function(t){function e(e,r,i){t.call(this,e),this.accumulator=r,this.index=0,this.accumulatorSet=!1,this.seed=i,this.accumulatorSet="undefined"!=typeof i}return s(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.accumulatorSet=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){return this.accumulatorSet?this._tryNext(t):(this.seed=t,void this.destination.next(t))},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)},e}(i.Subscriber)}}}),System.register(["./multicast","../Subject"],function(t,e){function r(){return new o.Subject}function i(){return n.multicast.call(this,r).refCount()}var n,o;e&&e.id;return t("share",i),{setters:[function(t){n=t},function(t){o=t}],execute:function(){}}}),System.register(["../Subscriber","../util/EmptyError"],function(t,e){function r(t){return this.lift(new o(t,this))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("single",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.predicate,this.source))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.predicate=r,this.source=i,this.seenValue=!1,this.index=0}return u(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.predicate;this.index++,e?this.tryNext(t):this.applySingleValue(t)},e.prototype.tryNext=function(t){try{var e=this.predicate(t,this.index,this.source);e&&this.applySingleValue(t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new n.EmptyError)},e}(i.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t){return this.lift(new n(t))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("skip",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.total))},t}(),o=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return s(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(i.Subscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new o(t))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("skipUntil",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.notifier))},t}(),s=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(n.subscribeToResult(this,r))}return u(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,i,n){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(i.OuterSubscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t){return this.lift(new n(t))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("skipWhile",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.predicate))},t}(),o=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return s(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(r){this.destination.error(r)}},e}(i.Subscriber)}}}),System.register(["../observable/ArrayObservable","../observable/ScalarObservable","../observable/EmptyObservable","./concat","../util/isScheduler"],function(t,e){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];u.isScheduler(r)?t.pop():r=null;var c=t.length;return 1===c?s.concatStatic(new n.ScalarObservable(t[0],r),this):c>1?s.concatStatic(new i.ArrayObservable(t,r),this):s.concatStatic(new o.EmptyObservable(r),this)}var i,n,o,s,u;e&&e.id;return t("startWith",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){}}}),System.register(["../observable/SubscribeOnObservable"],function(t,e){function r(t,e){return void 0===e&&(e=0),new i.SubscribeOnObservable(this,e,t)}var i;e&&e.id;return t("subscribeOn",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(){return this.lift(new o)}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("_switch",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return u(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=n.subscribeToResult(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.OuterSubscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t,e){return this.lift(new o(t,e))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("switchMap",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.project,this.resultSelector))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.project=r,this.resultSelector=i,this.index=0}return u(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var i=this.innerSubscription;i&&i.unsubscribe(),this.add(this.innerSubscription=n.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){this.resultSelector?this._tryNotifyNext(t,e,r,i):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,i){var n;try{n=this.resultSelector(t,e,r,i)}catch(o){return void this.destination.error(o)}this.destination.next(n)},e}(i.OuterSubscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t,e){return this.lift(new o(t,e))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("switchMapTo",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.observable,this.resultSelector))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.inner=r,this.resultSelector=i,this.index=0}return u(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=n.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this);
},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){var o=this,s=o.resultSelector,u=o.destination;s?this.tryResultSelector(t,e,r,i):u.next(e)},e.prototype.tryResultSelector=function(t,e,r,i){var n,o=this,s=o.resultSelector,u=o.destination;try{n=s(t,e,r,i)}catch(c){return void u.error(c)}u.next(n)},e}(i.OuterSubscriber)}}}),System.register(["../Subscriber","../util/ArgumentOutOfRangeError","../observable/EmptyObservable"],function(t,e){function r(t){return 0===t?new o.EmptyObservable:this.lift(new s(t))}var i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("take",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t){if(this.total=t,this.total<0)throw new n.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return c(e,t),e.prototype._next=function(t){var e=this.total;++this.count<=e&&(this.destination.next(t),this.count===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.Subscriber)}}}),System.register(["../Subscriber","../util/ArgumentOutOfRangeError","../observable/EmptyObservable"],function(t,e){function r(t){return 0===t?new o.EmptyObservable:this.lift(new s(t))}var i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("takeLast",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t){if(this.total=t,this.total<0)throw new n.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,r){t.call(this,e),this.total=r,this.ring=new Array,this.count=0}return c(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,i=this.count++;if(e.length<r)e.push(t);else{var n=i%r;e[n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,i=this.ring,n=0;r>n;n++){var o=e++%r;t.next(i[o])}t.complete()},e}(i.Subscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new o(t))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("takeUntil",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.notifier))},t}(),s=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(n.subscribeToResult(this,r))}return u(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.complete()},e.prototype.notifyComplete=function(){},e}(i.OuterSubscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(t){return this.lift(new n(t))}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("takeWhile",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new o(t,this.predicate))},t}(),o=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.index=0}return s(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void r.error(i)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(i.Subscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new o(t))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("throttle",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.durationSelector))},t}(),s=function(t){function e(e,r){t.call(this,e),this.destination=e,this.durationSelector=r}return u(e,t),e.prototype._next=function(t){this.throttled||this.tryDurationSelector(t)},e.prototype.tryDurationSelector=function(t){var e=null;try{e=this.durationSelector(t)}catch(r){return void this.destination.error(r)}this.emitAndThrottle(t,e)},e.prototype.emitAndThrottle=function(t,e){this.add(this.throttled=n.subscribeToResult(this,e)),this.destination.next(t)},e.prototype._unsubscribe=function(){var t=this.throttled;t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype.notifyNext=function(t,e,r,i,n){this._unsubscribe()},e.prototype.notifyComplete=function(){this._unsubscribe()},e}(i.OuterSubscriber)}}}),System.register(["../Subscriber","../scheduler/async"],function(t,e){function r(t,e){return void 0===e&&(e=o.async),this.lift(new s(t,e))}function i(t){var e=t.subscriber;e.clearThrottle()}var n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("throttleTime",r),{setters:[function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.duration,this.scheduler))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.duration=r,this.scheduler=i}return c(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(i,this.duration,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(n.Subscriber)}}}),System.register(["../Subscriber","../scheduler/async"],function(t,e){function r(t){return void 0===t&&(t=n.async),this.lift(new s(t))}var i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("timeInterval",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.value=t,this.interval=e}return t}(),t("TimeInterval",o),s=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.scheduler))},t}(),u=function(t){function e(e,r){t.call(this,e),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return c(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),r=e-this.lastTime;this.lastTime=e,this.destination.next(new o(t,r))},e}(i.Subscriber)}}}),System.register(["../scheduler/async","../util/isDate","../Subscriber"],function(t,e){function r(t,e,r){void 0===e&&(e=null),void 0===r&&(r=i.async);var o=n.isDate(t),u=o?+t-r.now():Math.abs(t);return this.lift(new s(u,o,e,r))}var i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("timeout",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t,e,r,i){this.waitFor=t,this.absoluteTimeout=e,this.errorToSend=r,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},t}(),u=function(t){function e(e,r,i,n,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=i,this.errorToSend=n,this.scheduler=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return c(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.notifyTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index;this.scheduler.schedule(e.dispatchTimeout,this.waitFor,{subscriber:this,index:t}),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},e}(o.Subscriber)}}}),System.register(["../scheduler/async","../util/isDate","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t,e,r){void 0===r&&(r=i.async);var o=n.isDate(t),s=o?+t-r.now():Math.abs(t);return this.lift(new u(s,o,e,r))}var i,n,o,s,u,c,a=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("timeoutWith",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t}],execute:function(){u=function(){function t(t,e,r,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),c=function(t){function e(e,r,i,n,o){t.call(this),this.destination=e,this.absoluteTimeout=r,this.waitFor=i,this.withObservable=n,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,e.add(this),this.scheduleTimeout()}return a(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.handleTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index,r={subscriber:this,index:t};this.scheduler.schedule(e.dispatchTimeout,this.waitFor,r),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.handleTimeout=function(){if(!this.closed){var t=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=s.subscribeToResult(this,t))}},e}(o.OuterSubscriber)}}}),System.register(["../Subscriber","../scheduler/async"],function(t,e){function r(t){return void 0===t&&(t=n.async),this.lift(new s(t))}var i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("timestamp",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.value=t,this.timestamp=e}return t}(),t("Timestamp",o),s=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.scheduler))},t}(),u=function(t){function e(e,r){t.call(this,e),this.scheduler=r}return c(e,t),e.prototype._next=function(t){var e=this.scheduler.now();this.destination.next(new o(t,e))},e}(i.Subscriber)}}}),System.register(["../Subscriber"],function(t,e){function r(){return this.lift(new n)}var i,n,o,s=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("toArray",r),{setters:[function(t){i=t}],execute:function(){n=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new o(t))},t}(),o=function(t){function e(e){t.call(this,e),this.array=[]}return s(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(i.Subscriber)}}}),System.register(["../util/root"],function(t,e){function r(t){var e=this;if(t||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?t=i.root.Rx.config.Promise:i.root.Promise&&(t=i.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;e.subscribe(function(t){return i=t},function(t){return r(t)},function(){return t(i)})})}var i;e&&e.id;return t("toPromise",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../Subject","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new s(t))}var i,n,o,s,u,c=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("window",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new u(t),i=e._subscribe(r);return i.closed||r.add(o.subscribeToResult(r,this.windowBoundaries)),i},t}(),u=function(t){function e(e){t.call(this,e),this.window=new i.Subject,e.next(this.window)}return c(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new i.Subject;e.next(r)},e}(n.OuterSubscriber)}}}),System.register(["../Subscriber","../Subject"],function(t,e){function r(t,e){return void 0===e&&(e=0),this.lift(new o(t,e))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("windowCount",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.windowSize,this.startWindowEvery))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.destination=e,this.windowSize=r,this.startWindowEvery=i,this.windows=[new n.Subject],this.count=0,e.next(this.windows[0])}return u(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,i=this.windowSize,o=this.windows,s=o.length,u=0;s>u&&!this.closed;u++)o[u].next(t);var c=this.count-i+1;if(c>=0&&c%e===0&&!this.closed&&o.shift().complete(),++this.count%e===0&&!this.closed){var a=new n.Subject;o.push(a),r.next(a)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(i.Subscriber)}}}),System.register(["../Subject","../scheduler/async","../Subscriber"],function(t,e){function r(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=u.async),this.lift(new a(t,e,r))}function i(t){var e=t.subscriber,r=t.windowTimeSpan,i=t.window;i&&i.complete(),t.window=e.openWindow(),this.schedule(t,r)}function n(t){var e=t.windowTimeSpan,r=t.subscriber,i=t.scheduler,n=t.windowCreationInterval,s=r.openWindow(),u=this,c={action:u,subscription:null},a={subscriber:r,window:s,context:c};c.subscription=i.schedule(o,e,a),u.add(c.subscription),u.schedule(t,n)}function o(t){var e=t.subscriber,r=t.window,i=t.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(r)}var s,u,c,a,l,b=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("windowTime",r),{setters:[function(t){s=t},function(t){u=t},function(t){c=t}],execute:function(){a=function(){function t(t,e,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},t}(),l=function(t){function e(e,r,s,u){if(t.call(this,e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=s,this.scheduler=u,this.windows=[],null!==s&&s>=0){var c=this.openWindow(),a={subscriber:this,window:c,context:null},l={windowTimeSpan:r,windowCreationInterval:s,subscriber:this,scheduler:u};this.add(u.schedule(o,r,a)),this.add(u.schedule(n,s,l))}else{var b=this.openWindow(),h={subscriber:this,window:b,windowTimeSpan:r};this.add(u.schedule(i,r,h))}}return b(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,i=0;r>i;i++){var n=e[i];n.closed||n.next(t)}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new s.Subject;this.windows.push(t);var e=this.destination;return e.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(c.Subscriber)}}}),System.register(["../Subject","../Subscription","../util/tryCatch","../util/errorObject","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t,e){return this.lift(new a(t,e))}var i,n,o,s,u,c,a,l,b=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("windowToggle",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t},function(t){c=t}],execute:function(){a=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.openings,this.closingSelector))},t}(),l=function(t){function e(e,r,i){t.call(this,e),this.openings=r,this.closingSelector=i,this.contexts=[],this.add(this.openSubscription=c.subscribeToResult(this,r,r))}return b(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,i=0;r>i;i++)e[i].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,n=-1;++n<i;){var o=r[n];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,i=-1;++i<r;){var n=e[i];n.window.complete(),n.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var i=t[r];i.window.unsubscribe(),i.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,u,a){if(t===this.openings){var l=this.closingSelector,b=o.tryCatch(l)(e);if(b===s.errorObject)return this.error(s.errorObject.e);var h=new i.Subject,p=new n.Subscription,f={window:h,subscription:p};this.contexts.push(f);var d=c.subscribeToResult(this,b,f);d.closed?this.closeWindow(this.contexts.length-1):(d.context=f,p.add(d)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],i=r.window,n=r.subscription;e.splice(t,1),i.complete(),n.unsubscribe()}},e}(u.OuterSubscriber)}}}),System.register(["../Subject","../util/tryCatch","../util/errorObject","../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(t){return this.lift(new c(t))}var i,n,o,s,u,c,a,l=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("windowWhen",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){c=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.closingSelector))},t}(),a=function(t){function e(e,r){t.call(this,e),this.destination=e,this.closingSelector=r,this.openWindow()}return l(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.openWindow(n)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new i.Subject;this.destination.next(r);var s=n.tryCatch(this.closingSelector)();if(s===o.errorObject){var c=o.errorObject.e;this.destination.error(c),this.window.error(c)}else this.add(this.closingNotification=u.subscribeToResult(this,s))},e}(s.OuterSubscriber)}}}),System.register(["../OuterSubscriber","../util/subscribeToResult"],function(t,e){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r;"function"==typeof t[t.length-1]&&(r=t.pop());var i=t;return this.lift(new o(i,r))}var i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("withLatestFrom",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){o=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.observables,this.project))},t}(),s=function(t){function e(e,r,i){t.call(this,e),this.observables=r,this.project=i,this.toRespond=[];var o=r.length;this.values=new Array(o);for(var s=0;o>s;s++)this.toRespond.push(s);for(var s=0;o>s;s++){var u=r[s];this.add(n.subscribeToResult(this,u,u,s))}}return u(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values[r]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(i.OuterSubscriber)}}}),System.register(["../observable/ArrayObservable","../util/isArray","../Subscriber","../OuterSubscriber","../util/subscribeToResult","../symbol/iterator"],function(t,e){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),i.apply(this,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new n.ArrayObservable(t).lift(new l(r))}var n,o,s,u,c,a,l,b,h,p,f,d=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("zipProto",r),t("zipStatic",i),{setters:[function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t},function(t){c=t},function(t){a=t}],execute:function(){l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new b(t,this.project))},t}(),t("ZipOperator",l),b=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null)),t.call(this,e),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=i}return d(e,t),e.prototype._next=function(t){var e=this.iterators,r=this.index++;o.isArray(t)?e.push(new p(t)):"function"==typeof t[a.$$iterator]?e.push(new h(t[a.$$iterator]())):e.push(new f(this.destination,this,t,r))},e.prototype._complete=function(){var t=this.iterators,e=t.length;this.active=e;for(var r=0;e>r;r++){var i=t[r];i.stillUnsubscribed?this.add(i.subscribe(i,r)):this.active--}},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;e>i;i++){var n=t[i];if("function"==typeof n.hasValue&&!n.hasValue())return}for(var o=!1,s=[],i=0;e>i;i++){var n=t[i],u=n.next();if(n.hasCompleted()&&(o=!0),u.done)return void r.complete();s.push(u.value)}this.project?this._tryProject(s):r.next(s),o&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(s.Subscriber),t("ZipSubscriber",b),h=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),p=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[a.$$iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),f=function(t){function e(e,r,i,n){t.call(this,e),this.parent=r,this.observable=i,this.index=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return d(e,t),e.prototype[a.$$iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return c.subscribeToResult(this,this.observable,this,e)},e}(u.OuterSubscriber)}}}),System.register(["./zip"],function(t,e){function r(t){return this.lift(new i.ZipOperator(t))}var i;e&&e.id;return t("zipAll",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register(["../Observable","../Subscription","./SubscriptionLoggable","../util/applyMixins"],function(t,e){var r,i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(t){function e(e,r){t.call(this,function(t){var e=this,r=e.logSubscribedFrame();return t.add(new i.Subscription(function(){e.logUnsubscribedFrame(r)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=r}return u(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,r=0;e>r;r++){var i=this.messages[r];t.add(this.scheduler.schedule(function(t){var e=t.message,r=t.subscriber;e.notification.observe(r)},i.frame,{message:i,subscriber:t}))}},e}(r.Observable),t("ColdObservable",s),o.applyMixins(s,[n.SubscriptionLoggable])}}}),System.register(["../Subject","../Subscription","./SubscriptionLoggable","../util/applyMixins"],function(t,e){var r,i,n,o,s,u=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t}],execute:function(){s=function(t){function e(e,r){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=r}return u(e,t),e.prototype._subscribe=function(e){var r=this,n=r.logSubscribedFrame();return e.add(new i.Subscription(function(){r.logUnsubscribedFrame(n)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,r=0;e>r;r++)!function(){var e=t.messages[r];t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(r.Subject),t("HotObservable",s),o.applyMixins(s,[n.SubscriptionLoggable])}}}),System.register([],function(t,e){var r;e&&e.id;return{setters:[],execute:function(){r=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}return t}(),t("SubscriptionLog",r)}}}),System.register(["./SubscriptionLog"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){i=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new r.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,i=e[t];e[t]=new r.SubscriptionLog(i.subscribedFrame,this.scheduler.now())},t}(),t("SubscriptionLoggable",i)}}}),System.register([],function(t,e){e&&e.id;return{setters:[],execute:function(){}}}),System.register(["../Observable","../Notification","./ColdObservable","./HotObservable","./SubscriptionLog","../scheduler/VirtualTimeScheduler"],function(t,e){var r,i,n,o,s,u,c,a=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t}],execute:function(){c=function(t){function e(e){t.call(this),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return a(e,t),e.prototype.createTime=function(t){var r=t.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*e.frameTimeFactor},e.prototype.createColdObservable=function(t,r,i){
if(-1!==t.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==t.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var o=e.parseMarbles(t,r,i),s=new n.ColdObservable(o,this);return this.coldObservables.push(s),s},e.prototype.createHotObservable=function(t,r,i){if(-1!==t.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var n=e.parseMarbles(t,r,i),s=new o.HotObservable(n,this);return this.hotObservables.push(s),s},e.prototype.materializeInnerObservable=function(t,e){var r=this,n=[];return t.subscribe(function(t){n.push({frame:r.frame-e,notification:i.Notification.createNext(t)})},function(t){n.push({frame:r.frame-e,notification:i.Notification.createError(t)})},function(){n.push({frame:r.frame-e,notification:i.Notification.createComplete()})}),n},e.prototype.expectObservable=function(t,n){var o=this;void 0===n&&(n=null);var s,u=[],c={actual:u,ready:!1},a=e.parseMarblesAsSubscriptions(n).unsubscribedFrame;return this.schedule(function(){s=t.subscribe(function(t){var e=t;t instanceof r.Observable&&(e=o.materializeInnerObservable(e,o.frame)),u.push({frame:o.frame,notification:i.Notification.createNext(e)})},function(t){u.push({frame:o.frame,notification:i.Notification.createError(t)})},function(){u.push({frame:o.frame,notification:i.Notification.createComplete()})})},0),a!==Number.POSITIVE_INFINITY&&this.schedule(function(){return s.unsubscribe()},a),this.flushTests.push(c),{toBe:function(t,r,i){c.ready=!0,c.expected=e.parseMarbles(t,r,i,!0)}}},e.prototype.expectSubscriptions=function(t){var r={actual:t,ready:!1};return this.flushTests.push(r),{toBe:function(t){var i="string"==typeof t?[t]:t;r.ready=!0,r.expected=i.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var r=this.flushTests.filter(function(t){return t.ready});r.length>0;){var i=r.shift();this.assertDeepEqual(i.actual,i.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new s.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,r=-1,i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,o=0;e>o;o++){var u=o*this.frameTimeFactor,c=t[o];switch(c){case"-":case" ":break;case"(":r=u;break;case")":r=-1;break;case"^":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:u;break;case"!":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:u;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+c+"'.")}}return 0>n?new s.SubscriptionLog(i):new s.SubscriptionLog(i,n)},e.parseMarbles=function(t,e,r,o){if(void 0===o&&(o=!1),-1!==t.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var s=t.length,u=[],c=t.indexOf("^"),a=-1===c?0:c*-this.frameTimeFactor,l="object"!=typeof e?function(t){return t}:function(t){return o&&e[t]instanceof n.ColdObservable?e[t].messages:e[t]},b=-1,h=0;s>h;h++){var p=h*this.frameTimeFactor+a,f=void 0,d=t[h];switch(d){case"-":case" ":break;case"(":b=p;break;case")":b=-1;break;case"|":f=i.Notification.createComplete();break;case"^":break;case"#":f=i.Notification.createError(r||"error");break;default:f=i.Notification.createNext(l(d))}f&&u.push({frame:b>-1?b:p,notification:f})}return u},e}(u.VirtualTimeScheduler),t("TestScheduler",c)}}}),System.register(["./root"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t}],execute:function(){i=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}(),t("RequestAnimationFrameDefinition",i),t("AnimationFrame",n=new i(r.root))}}}),System.register([],function(t,e){var r,i=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[],execute:function(){r=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error),t("ArgumentOutOfRangeError",r)}}}),System.register([],function(t,e){var r,i=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[],execute:function(){r=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error),t("EmptyError",r)}}}),System.register([],function(t,e){var r;e&&e.id;return{setters:[],execute:function(){r=function(){function t(){this.values={}}return t.prototype["delete"]=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var r=this.values;for(var i in r)r.hasOwnProperty(i)&&null!==r[i]&&t.call(e,r[i],i)},t.prototype.clear=function(){this.values={}},t}(),t("FastMap",r)}}}),System.register(["./root"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t}],execute:function(){i=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function r(t){delete r.instance.tasksByHandle[t]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=function n(){var t=n,e=t.handler,r=t.args;"function"==typeof e?e.apply(void 0,r):new Function(""+e)()};return i.handler=t,i.args=e,i},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",r=function n(r){var i=n.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&i.runIfPresent(+r.data.slice(e.length))};r.instance=this,t.addEventListener("message",r,!1);var i=function o(){var t=o,e=t.messagePrefix,r=t.instance,i=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(e+i,"*"),i};return i.instance=this,i.messagePrefix=e,i},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var r=e.data;t.runIfPresent(r)};var r=function i(){var t=i,e=t.channel,r=t.instance,n=r.addFromSetImmediateArguments(arguments);return e.port2.postMessage(n),n};return r.channel=e,r.instance=this,r},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function e(){var t=e.instance,r=t.root,i=r.document,n=i.documentElement,o=t.addFromSetImmediateArguments(arguments),s=i.createElement("script");return s.onreadystatechange=function(){t.runIfPresent(o),s.onreadystatechange=null,n.removeChild(s),s=null},n.appendChild(s),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return t.instance=this,t},t}(),t("ImmediateDefinition",i),t("Immediate",n=new i(r.root))}}}),System.register(["./root","./MapPolyfill"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){t("Map",n=r.root.Map||function(){return i.MapPolyfill}())}}}),System.register([],function(t,e){var r;e&&e.id;return{setters:[],execute:function(){r=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return-1===r?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return-1===e?!1:(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}(),t("MapPolyfill",r)}}}),System.register([],function(t,e){var r,i=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[],execute:function(){r=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error),t("ObjectUnsubscribedError",r)}}}),System.register([],function(t,e){var r,i=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[],execute:function(){r=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return i(e,t),e}(Error),t("UnsubscriptionError",r)}}}),System.register([],function(t,e){function r(t,e){for(var r=0,i=e.length;i>r;r++)for(var n=e[r],o=Object.getOwnPropertyNames(n.prototype),s=0,u=o.length;u>s;s++){var c=o[s];t.prototype[c]=n.prototype[c]}}e&&e.id;return t("applyMixins",r),{setters:[],execute:function(){}}}),System.register(["./root"],function(t,e){var r,i,n;e&&e.id;return{setters:[function(t){r=t}],execute:function(){i=r.root.Object,"function"!=typeof i.assign&&!function(){i.assign=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(void 0===t||null===t)throw new TypeError("cannot convert undefined or null to object");for(var n=i(t),o=e.length,s=0;o>s;s++){var u=e[s];if(void 0!==u&&null!==u)for(var c in u)u.hasOwnProperty(c)&&(n[c]=u[c])}return n}}(),t("assign",n=i.assign)}}}),System.register([],function(t,e){var r;e&&e.id;return{setters:[],execute:function(){t("errorObject",r={e:{}})}}}),System.register([],function(t,e){var r;e&&e.id;return{setters:[],execute:function(){t("isArray",r=Array.isArray||function(t){return t&&"number"==typeof t.length})}}}),System.register([],function(t,e){function r(t){return t instanceof Date&&!isNaN(+t)}e&&e.id;return t("isDate",r),{setters:[],execute:function(){}}}),System.register([],function(t,e){function r(t){return"function"==typeof t}e&&e.id;return t("isFunction",r),{setters:[],execute:function(){}}}),System.register(["../util/isArray"],function(t,e){function r(t){return!i.isArray(t)&&t-parseFloat(t)+1>=0}var i;e&&e.id;return t("isNumeric",r),{setters:[function(t){i=t}],execute:function(){}}}),System.register([],function(t,e){function r(t){return null!=t&&"object"==typeof t}e&&e.id;return t("isObject",r),{setters:[],execute:function(){}}}),System.register([],function(t,e){function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e&&e.id;return t("isPromise",r),{setters:[],execute:function(){}}}),System.register([],function(t,e){function r(t){return t&&"function"==typeof t.schedule}e&&e.id;return t("isScheduler",r),{setters:[],execute:function(){}}}),System.register([],function(t,e){function r(){}e&&e.id;return t("noop",r),{setters:[],execute:function(){}}}),System.register([],function(t,e){function r(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}e&&e.id;return t("not",r),{setters:[],execute:function(){}}}),System.register([],function(t,e){var r,i,n,o,s;e&&e.id;return{setters:[],execute:function(){r={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},t("root",i=r[typeof self]&&self||r[typeof window]&&window),n=r[typeof exports]&&exports&&!exports.nodeType&&exports,o=r[typeof module]&&module&&!module.nodeType&&module,s=r[typeof global]&&global,!s||s.global!==s&&s.window!==s||t("root",i=s)}}}),System.register(["./root","./isArray","./isPromise","../Observable","../symbol/iterator","../InnerSubscriber","../symbol/observable"],function(t,e){function r(t,e,r,l){var b=new c.InnerSubscriber(t,r,l);if(b.closed)return null;if(e instanceof s.Observable)return e._isScalar?(b.next(e.value),b.complete(),null):e.subscribe(b);if(n.isArray(e)){for(var h=0,p=e.length;p>h&&!b.closed;h++)b.next(e[h]);b.closed||b.complete()}else{if(o.isPromise(e))return e.then(function(t){b.closed||(b.next(t),b.complete())},function(t){return b.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),b;if("function"==typeof e[u.$$iterator])for(var f=e[u.$$iterator]();;){var d=f.next();if(d.done){b.complete();break}if(b.next(d.value),b.closed)break}else if("function"==typeof e[a.$$observable]){var v=e[a.$$observable]();if("function"==typeof v.subscribe)return v.subscribe(new c.InnerSubscriber(t,r,l));b.error(new Error("invalid observable"))}else b.error(new TypeError("unknown type returned"))}return null}var i,n,o,s,u,c,a;e&&e.id;return t("subscribeToResult",r),{setters:[function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t},function(t){c=t},function(t){a=t}],execute:function(){}}}),System.register(["../Subscriber","../symbol/rxSubscriber"],function(t,e){function r(t,e,r){if(t){if(t instanceof i.Subscriber)return t;if(t[n.$$rxSubscriber])return t[n.$$rxSubscriber]()}return t||e||r?new i.Subscriber(t,e,r):new i.Subscriber}var i,n;e&&e.id;return t("toSubscriber",r),{setters:[function(t){i=t},function(t){n=t}],execute:function(){}}}),System.register(["./errorObject"],function(t,e){function r(){try{return o.apply(this,arguments)}catch(t){return n.errorObject.e=t,n.errorObject}}function i(t){return o=t,r}var n,o;e&&e.id;return t("tryCatch",i),{setters:[function(t){n=t}],execute:function(){}}});var Observable_1=require("../../../Observable"),ajax_1=require("../../../observable/dom/ajax");Observable_1.Observable.ajax=ajax_1.ajax;var Observable_1=require("../../../Observable"),webSocket_1=require("../../../observable/dom/webSocket");Observable_1.Observable.webSocket=webSocket_1.webSocket,System.register(["../../Observable","../../observable/bindCallback"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.bindCallback=i.bindCallback}}}),System.register(["../../Observable","../../observable/bindNodeCallback"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.bindNodeCallback=i.bindNodeCallback}}}),System.register(["../../Observable","../../observable/combineLatest"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.combineLatest=i.combineLatest}}}),System.register(["../../Observable","../../observable/concat"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.concat=i.concat}}}),System.register(["../../Observable","../../observable/defer"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.defer=i.defer}}}),System.register(["../../Observable","../../observable/empty"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.empty=i.empty}}}),System.register(["../../Observable","../../observable/forkJoin"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.forkJoin=i.forkJoin}}}),System.register(["../../Observable","../../observable/from"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.from=i.from}}}),System.register(["../../Observable","../../observable/fromEvent"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.fromEvent=i.fromEvent}}}),System.register(["../../Observable","../../observable/fromEventPattern"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.fromEventPattern=i.fromEventPattern}}}),System.register(["../../Observable","../../observable/fromPromise"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.fromPromise=i.fromPromise}}}),System.register(["../../Observable","../../observable/GenerateObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.generate=i.GenerateObservable.create}}}),System.register(["../../Observable","../../observable/if"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable["if"]=i._if}}}),System.register(["../../Observable","../../observable/interval"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.interval=i.interval}}}),System.register(["../../Observable","../../observable/merge"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.merge=i.merge}}}),System.register(["../../Observable","../../observable/never"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.never=i.never}}}),System.register(["../../Observable","../../observable/of"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.of=i.of}}}),System.register(["../../Observable","../../operator/onErrorResumeNext"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.onErrorResumeNext=i.onErrorResumeNextStatic}}}),System.register(["../../Observable","../../observable/pairs"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.pairs=i.pairs}}}),System.register(["../../Observable","../../operator/race"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.race=i.raceStatic}}}),System.register(["../../Observable","../../observable/range"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.range=i.range}}}),System.register(["../../Observable","../../observable/throw"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable["throw"]=i._throw}}}),System.register(["../../Observable","../../observable/timer"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.timer=i.timer}}}),System.register(["../../Observable","../../observable/using"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.using=i.using}}}),System.register(["../../Observable","../../observable/zip"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.zip=i.zip}}}),System.register(["../../Observable","../../operator/audit"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.audit=i.audit}}}),System.register(["../../Observable","../../operator/auditTime"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.auditTime=i.auditTime}}}),System.register(["../../Observable","../../operator/buffer"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.buffer=i.buffer}}}),System.register(["../../Observable","../../operator/bufferCount"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.bufferCount=i.bufferCount}}}),System.register(["../../Observable","../../operator/bufferTime"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.bufferTime=i.bufferTime}}}),System.register(["../../Observable","../../operator/bufferToggle"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.bufferToggle=i.bufferToggle}}}),System.register(["../../Observable","../../operator/bufferWhen"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.bufferWhen=i.bufferWhen}}}),System.register(["../../Observable","../../operator/cache"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.cache=i.cache}}}),System.register(["../../Observable","../../operator/catch"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype["catch"]=i._catch}}}),System.register(["../../Observable","../../operator/combineAll"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.combineAll=i.combineAll}}}),System.register(["../../Observable","../../operator/combineLatest"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.combineLatest=i.combineLatest}}}),System.register(["../../Observable","../../operator/concat"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.concat=i.concat}}}),System.register(["../../Observable","../../operator/concatAll"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.concatAll=i.concatAll}}}),System.register(["../../Observable","../../operator/concatMap"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.concatMap=i.concatMap}}}),System.register(["../../Observable","../../operator/concatMapTo"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.concatMapTo=i.concatMapTo}}}),System.register(["../../Observable","../../operator/count"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.count=i.count}}}),System.register(["../../Observable","../../operator/debounce"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.debounce=i.debounce}}}),System.register(["../../Observable","../../operator/debounceTime"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.debounceTime=i.debounceTime}}}),System.register(["../../Observable","../../operator/defaultIfEmpty"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty}}}),System.register(["../../Observable","../../operator/delay"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.delay=i.delay}}}),System.register(["../../Observable","../../operator/delayWhen"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.delayWhen=i.delayWhen}}}),System.register(["../../Observable","../../operator/dematerialize"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.dematerialize=i.dematerialize}}}),System.register(["../../Observable","../../operator/distinct"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.distinct=i.distinct}}}),System.register(["../../Observable","../../operator/distinctKey"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.distinctKey=i.distinctKey}}}),System.register(["../../Observable","../../operator/distinctUntilChanged"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged}}}),System.register(["../../Observable","../../operator/distinctUntilKeyChanged"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged}}}),System.register(["../../Observable","../../operator/do"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype["do"]=i._do}}}),System.register(["../../Observable","../../operator/elementAt"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.elementAt=i.elementAt}}}),System.register(["../../Observable","../../operator/every"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.every=i.every}}}),System.register(["../../Observable","../../operator/exhaust"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.exhaust=i.exhaust}}}),System.register(["../../Observable","../../operator/exhaustMap"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.exhaustMap=i.exhaustMap}}}),System.register(["../../Observable","../../operator/expand"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.expand=i.expand}}}),System.register(["../../Observable","../../operator/filter"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.filter=i.filter}}}),System.register(["../../Observable","../../operator/finally"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype["finally"]=i._finally}}}),System.register(["../../Observable","../../operator/find"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.find=i.find}}}),System.register(["../../Observable","../../operator/findIndex"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.findIndex=i.findIndex}}}),System.register(["../../Observable","../../operator/first"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.first=i.first}}}),System.register(["../../Observable","../../operator/groupBy"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.groupBy=i.groupBy}}}),System.register(["../../Observable","../../operator/ignoreElements"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.ignoreElements=i.ignoreElements}}}),System.register(["../../Observable","../../operator/isEmpty"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.isEmpty=i.isEmpty}}}),System.register(["../../Observable","../../operator/last"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.last=i.last}}}),System.register(["../../Observable","../../operator/let"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.let=i.letProto,r.Observable.prototype.letBind=i.letProto}}}),System.register(["../../Observable","../../operator/map"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.map=i.map}}}),System.register(["../../Observable","../../operator/mapTo"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.mapTo=i.mapTo}}}),System.register(["../../Observable","../../operator/materialize"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.materialize=i.materialize}}}),System.register(["../../Observable","../../operator/max"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.max=i.max}}}),System.register(["../../Observable","../../operator/merge"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.merge=i.merge;
}}}),System.register(["../../Observable","../../operator/mergeAll"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.mergeAll=i.mergeAll}}}),System.register(["../../Observable","../../operator/mergeMap"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap}}}),System.register(["../../Observable","../../operator/mergeMapTo"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.flatMapTo=i.mergeMapTo,r.Observable.prototype.mergeMapTo=i.mergeMapTo}}}),System.register(["../../Observable","../../operator/mergeScan"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.mergeScan=i.mergeScan}}}),System.register(["../../Observable","../../operator/min"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.min=i.min}}}),System.register(["../../Observable","../../operator/multicast"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.multicast=i.multicast}}}),System.register(["../../Observable","../../operator/observeOn"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.observeOn=i.observeOn}}}),System.register(["../../Observable","../../operator/onErrorResumeNext"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext}}}),System.register(["../../Observable","../../operator/pairwise"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.pairwise=i.pairwise}}}),System.register(["../../Observable","../../operator/partition"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.partition=i.partition}}}),System.register(["../../Observable","../../operator/pluck"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.pluck=i.pluck}}}),System.register(["../../Observable","../../operator/publish"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.publish=i.publish}}}),System.register(["../../Observable","../../operator/publishBehavior"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.publishBehavior=i.publishBehavior}}}),System.register(["../../Observable","../../operator/publishLast"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.publishLast=i.publishLast}}}),System.register(["../../Observable","../../operator/publishReplay"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.publishReplay=i.publishReplay}}}),System.register(["../../Observable","../../operator/race"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.race=i.race}}}),System.register(["../../Observable","../../operator/reduce"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.reduce=i.reduce}}}),System.register(["../../Observable","../../operator/repeat"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.repeat=i.repeat}}}),System.register(["../../Observable","../../operator/retry"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.retry=i.retry}}}),System.register(["../../Observable","../../operator/retryWhen"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.retryWhen=i.retryWhen}}}),System.register(["../../Observable","../../operator/sample"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.sample=i.sample}}}),System.register(["../../Observable","../../operator/sampleTime"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.sampleTime=i.sampleTime}}}),System.register(["../../Observable","../../operator/scan"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.scan=i.scan}}}),System.register(["../../Observable","../../operator/share"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.share=i.share}}}),System.register(["../../Observable","../../operator/single"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.single=i.single}}}),System.register(["../../Observable","../../operator/skip"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.skip=i.skip}}}),System.register(["../../Observable","../../operator/skipUntil"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.skipUntil=i.skipUntil}}}),System.register(["../../Observable","../../operator/skipWhile"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.skipWhile=i.skipWhile}}}),System.register(["../../Observable","../../operator/startWith"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.startWith=i.startWith}}}),System.register(["../../Observable","../../operator/subscribeOn"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.subscribeOn=i.subscribeOn}}}),System.register(["../../Observable","../../operator/switch"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype["switch"]=i._switch}}}),System.register(["../../Observable","../../operator/switchMap"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.switchMap=i.switchMap}}}),System.register(["../../Observable","../../operator/switchMapTo"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.switchMapTo=i.switchMapTo}}}),System.register(["../../Observable","../../operator/take"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.take=i.take}}}),System.register(["../../Observable","../../operator/takeLast"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.takeLast=i.takeLast}}}),System.register(["../../Observable","../../operator/takeUntil"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.takeUntil=i.takeUntil}}}),System.register(["../../Observable","../../operator/takeWhile"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.takeWhile=i.takeWhile}}}),System.register(["../../Observable","../../operator/throttle"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.throttle=i.throttle}}}),System.register(["../../Observable","../../operator/throttleTime"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.throttleTime=i.throttleTime}}}),System.register(["../../Observable","../../operator/timeInterval"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.timeInterval=i.timeInterval}}}),System.register(["../../Observable","../../operator/timeout"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.timeout=i.timeout}}}),System.register(["../../Observable","../../operator/timeoutWith"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.timeoutWith=i.timeoutWith}}}),System.register(["../../Observable","../../operator/timestamp"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.timestamp=i.timestamp}}}),System.register(["../../Observable","../../operator/toArray"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.toArray=i.toArray}}}),System.register(["../../Observable","../../operator/toPromise"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.toPromise=i.toPromise}}}),System.register(["../../Observable","../../operator/window"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.window=i.window}}}),System.register(["../../Observable","../../operator/windowCount"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.windowCount=i.windowCount}}}),System.register(["../../Observable","../../operator/windowTime"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.windowTime=i.windowTime}}}),System.register(["../../Observable","../../operator/windowToggle"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.windowToggle=i.windowToggle}}}),System.register(["../../Observable","../../operator/windowWhen"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.windowWhen=i.windowWhen}}}),System.register(["../../Observable","../../operator/withLatestFrom"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.withLatestFrom=i.withLatestFrom}}}),System.register(["../../Observable","../../operator/zip"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.zip=i.zipProto}}}),System.register(["../../Observable","../../operator/zipAll"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.prototype.zipAll=i.zipAll}}}),System.register(["../../util/root","../../util/tryCatch","../../util/errorObject","../../Observable","../../Subscriber"],function(t,e){function r(){if(a.root.XMLHttpRequest){var t=new a.root.XMLHttpRequest;return"withCredentials"in t&&(t.withCredentials=!!this.withCredentials),t}if(a.root.XDomainRequest)return new a.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function i(){if(a.root.XMLHttpRequest)return new a.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;3>r;r++)try{if(t=e[r],new a.root.ActiveXObject(t))break}catch(i){}return new a.root.ActiveXObject(t)}catch(i){throw new Error("XMLHttpRequest is not supported by your browser")}}function n(t,e){return void 0===e&&(e=null),new f({method:"GET",url:t,headers:e})}function o(t,e,r){return new f({method:"POST",url:t,body:e,headers:r})}function s(t,e){return new f({method:"DELETE",url:t,headers:e})}function u(t,e,r){return new f({method:"PUT",url:t,body:e,headers:r})}function c(t,e){return new f({method:"GET",url:t,responseType:"json",headers:e}).map(function(t){return t.response})}var a,l,b,h,p,f,d,v,y,m,_=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return t("ajaxGet",n),t("ajaxPost",o),t("ajaxDelete",s),t("ajaxPut",u),t("ajaxGetJSON",c),{setters:[function(t){a=t},function(t){l=t},function(t){b=t},function(t){h=t},function(t){p=t}],execute:function(){f=function(t){function e(e){t.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?r.call(this):i()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)n.url=e;else for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);this.request=n}return _(e,t),e.prototype._subscribe=function(t){return new d(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=n,t.post=o,t["delete"]=s,t.put=u,t.getJSON=c,t}(),e}(h.Observable),t("AjaxObservable",f),d=function(t){function e(e,r){t.call(this,e),this.request=r,this.done=!1;var i=r.headers=r.headers||{};r.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in i||a.root.FormData&&r.body instanceof a.root.FormData||"undefined"==typeof r.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return _(e,t),e.prototype.next=function(t){this.done=!0;var e=this,r=e.xhr,i=e.request,n=e.destination,o=new v(t,r,i);n.next(o)},e.prototype.send=function(){var t=this,e=t.request,r=t.request,i=r.user,n=r.method,o=r.url,s=r.async,u=r.password,c=r.headers,a=r.body,h=e.createXHR,p=l.tryCatch(h).call(e);if(p===b.errorObject)this.error(b.errorObject.e);else{this.xhr=p;var f=void 0;if(f=i?l.tryCatch(p.open).call(p,n,o,s,i,u):l.tryCatch(p.open).call(p,n,o,s),f===b.errorObject)return this.error(b.errorObject.e),null;p.timeout=e.timeout,p.responseType=e.responseType,this.setHeaders(p,c),this.setupEvents(p,e),a?p.send(a):p.send()}return p},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(a.root.FormData&&t instanceof a.root.FormData)return t;if(e){var r=e.indexOf(";");-1!==r&&(e=e.substring(0,r))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])},e.prototype.setupEvents=function(t,e){var r=e.progressSubscriber;t.ontimeout=function i(t){var e=i,r=e.subscriber,n=e.progressSubscriber,o=e.request;n&&n.error(t),r.error(new m(this,o))},t.ontimeout.request=e,t.ontimeout.subscriber=this,t.ontimeout.progressSubscriber=r,t.upload&&"withCredentials"in t&&a.root.XDomainRequest&&(r&&(t.onprogress=function n(t){var e=n.progressSubscriber;e.next(t)},t.onprogress.progressSubscriber=r),t.onerror=function o(t){var e=o,r=e.progressSubscriber,i=e.subscriber,n=e.request;r&&r.error(t),i.error(new y("ajax error",this,n))},t.onerror.request=e,t.onerror.subscriber=this,t.onerror.progressSubscriber=r),t.onreadystatechange=function s(t){var e=s,r=e.subscriber,i=e.progressSubscriber,n=e.request;if(4===this.readyState){var o=1223===this.status?204:this.status,u="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=u?200:0),o>=200&&300>o?(i&&i.complete(),r.next(t),r.complete()):(i&&i.error(t),r.error(new y("ajax error "+o,this,n)))}},t.onreadystatechange.subscriber=this,t.onreadystatechange.progressSubscriber=r,t.onreadystatechange.request=e},e.prototype.unsubscribe=function(){var e=this,r=e.done,i=e.xhr;!r&&i&&4!==i.readyState&&i.abort(),t.prototype.unsubscribe.call(this)},e}(p.Subscriber),t("AjaxSubscriber",d),v=function(){function t(t,e,r){switch(this.originalEvent=t,this.xhr=e,this.request=r,this.status=e.status,this.responseType=e.responseType||r.responseType,this.responseType){case"json":"response"in e?this.response=e.responseType?e.response:JSON.parse(e.response||e.responseText||""):this.response=JSON.parse(e.responseText||"");break;case"xml":this.response=e.responseXML;break;case"text":default:this.response="response"in e?e.response:e.responseText}}return t}(),t("AjaxResponse",v),y=function(t){function e(e,r,i){t.call(this,e),this.message=e,this.xhr=r,this.request=i,this.status=r.status}return _(e,t),e}(Error),t("AjaxError",y),m=function(t){function e(e,r){t.call(this,"ajax timeout",e,r)}return _(e,t),e}(y),t("AjaxTimeoutError",m)}}}),System.register([],function(t,e){var r;e&&e.id;return{setters:[],execute:function(){r=function(){function t(){this.url="",this.body=0,this.user="",this.async=!1,this.method="",this.headers=null,this.timeout=0,this.password="",this.hasContent=!1,this.crossDomain=!1,this.progressSubscriber=null,this.responseType=""}return t.prototype.createXHR=function(){return null},t.prototype.resultSelector=function(t){return null},t}(),t("AjaxRequestDoc",r)}}}),System.register(["../../Subject","../../Subscriber","../../Observable","../../Subscription","../../util/root","../../ReplaySubject","../../util/tryCatch","../../util/errorObject","../../util/assign"],function(t,e){var r,i,n,o,s,u,c,a,l,b,h=(e&&e.id,this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});return{setters:[function(t){r=t},function(t){i=t},function(t){n=t},function(t){o=t},function(t){s=t},function(t){u=t},function(t){c=t},function(t){a=t},function(t){l=t}],execute:function(){b=function(t){function e(e,i){if(e instanceof n.Observable)t.call(this,i,e);else{if(t.call(this),this.WebSocketCtor=s.root.WebSocket,this._output=new r.Subject,"string"==typeof e?this.url=e:l.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new u.ReplaySubject}}return h(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var r=new e(this,this.destination);return r.operator=t,r},e.prototype.multiplex=function(t,e,r){var i=this;return new n.Observable(function(n){var o=c.tryCatch(t)();o===a.errorObject?n.error(a.errorObject.e):i.next(o);var s=i.subscribe(function(t){var e=c.tryCatch(r)(t);e===a.errorObject?n.error(a.errorObject.e):e&&n.next(t)},function(t){return n.error(t)},function(){return n.complete()});return function(){var t=c.tryCatch(e)();t===a.errorObject?n.error(a.errorObject.e):i.next(t),s.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,r=this.protocol?new e(this.url,this.protocol):new e(this.url);this.socket=r;var n=new o.Subscription(function(){t.socket=null,r&&1===r.readyState&&r.close()}),s=this._output;r.onopen=function(e){var o=t.openObserver;o&&o.next(e);var c=t.destination;t.destination=i.Subscriber.create(function(t){return 1===r.readyState&&r.send(t)},function(e){var i=t.closingObserver;i&&i.next(void 0),e&&e.code?r.close(e.code,e.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t.destination=new u.ReplaySubject,t.socket=null},function(){var e=t.closingObserver;e&&e.next(void 0),r.close(),t.destination=new u.ReplaySubject,t.socket=null}),c&&c instanceof u.ReplaySubject&&n.add(c.subscribe(t.destination))},r.onerror=function(t){return s.error(t)},r.onclose=function(e){var r=t.closeObserver;r&&r.next(e),e.wasClean?s.complete():s.error(e)},r.onmessage=function(e){var r=c.tryCatch(t.resultSelector)(e);r===a.errorObject?s.error(a.errorObject.e):s.next(r)}},e.prototype._subscribe=function(t){var e=this,r=this.source;if(r)return r.subscribe(t);this.socket||this._connectSocket();var i=new o.Subscription;return i.add(this._output.subscribe(t)),i.add(function(){var t=e.socket;0===e._output.observers.length&&t&&1===t.readyState&&(t.close(),e.socket=null)}),i},e.prototype.unsubscribe=function(){var e=this,r=e.source,i=e.socket;i&&1===i.readyState&&(i.close(),this.socket=null),t.prototype.unsubscribe.call(this),r||(this.destination=new u.ReplaySubject)},e}(r.AnonymousSubject),t("WebSocketSubject",b)}}}),System.register(["./AjaxObservable"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("ajax",i=r.AjaxObservable.create)}}}),System.register(["./WebSocketSubject"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("webSocket",i=r.WebSocketSubject.create)}}}),System.register(["../../../Observable","../../../observable/dom/ajax"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.ajax=i.ajax}}}),System.register(["../../../Observable","../../../observable/dom/webSocket"],function(t,e){var r,i;e&&e.id;return{setters:[function(t){r=t},function(t){i=t}],execute:function(){r.Observable.webSocket=i.webSocket}}});